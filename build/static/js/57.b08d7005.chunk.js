(this["webpackJsonpspms-fe"]=this["webpackJsonpspms-fe"]||[]).push([[57],{1196:function(e,t,n){},1197:function(e,t,n){},629:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n(3),o=n(106),s=n(13),a=n.n(s),c=n(19),i=n(15),l=n(2),d=n(104),u=n(17),v=n(26),j=n(61),O=n(719),E=n(270),b=n(80),p=n(273),S=n(271),h=n(272),m=n(130),x=n(222),g=n(182),N=n(67),f=n(53),T=n.n(f),_=n(653),R=n(654),D=(n(1196),n(6)),A=n(702),P=n(718),y=n(650),B=n(651),G=n(192),I=n(62);n(1197);function M(e){var t=e.titleHeader;return Object(r.jsx)("div",{className:"page-header",children:Object(r.jsx)("div",{className:"d-flex flex-wrap justify-content-between",children:Object(r.jsx)("h1",{children:t.toUpperCase()})})})}n(771);var K=n(12),L=n(105);function C(){var e=Object(d.a)().t,t=Object(u.g)(),n=Object(l.useState)(null),s=Object(i.a)(n,2),f=s[0],C=s[1],U=Object(l.useState)(!1),k=Object(i.a)(U,2),w=k[0],F=k[1],W=Object(l.useState)({idLKKT:0,tieuDe:"",stt:"",loaiNhom:"BB",soTCBB:""}),Y=Object(i.a)(W,2),J=Y[0],V=Y[1],H=Object(l.useState)({color:"danger",isOpen:!1,messages:[]}),Q=Object(i.a)(H,2),q=Q[0],z=Q[1],X=Object(l.useState)(!1),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=[{value:"BB",name:e("admin.group.OBLIGATE")},{value:"TC",name:e("admin.group.ELECTIVE")}],ne=Object(l.useState)([]),re=Object(i.a)(ne,2),oe=re[0],se=re[1];e("admin.common.DELETED"),e("admin.common.AVAILABLE");Object(l.useEffect)(Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=T.a.parse(window.location.search)).id&&(C(t.id),F(!0),ae(t.id)),e.prev=2,e.next=5,P.a.getAll({limit:-1});case 5:n=e.sent,se(n.contents),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])}))),[]);var ae=function(){var t=Object(c.a)(a.a.mark((function t(n){var r,o,s,c,i,l,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ee(!0),t.prev=1,t.next=4,A.a.getById(n);case 4:r=t.sent,V({idLKKT:void 0!==r.idLKKT&&r.idLKKT.toString(),tieuDe:r.tieuDe,stt:r.stt,loaiNhom:r.loaiNhom,soTCBB:r.soTCBB}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.response&&(403===(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o?void 0:o.status)||"NOT_OWNER"===String(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s?void 0:s.message)?v.b.error(e("RESPONSE_MESSAGE403")):401===(null===t.t0||void 0===t.t0||null===(c=t.t0.response)||void 0===c?void 0:c.status)?v.b.error(e("RESPONSE_MESSAGE401")):400===(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i?void 0:i.status)?v.b.error(e("RESPONSE_MESSAGE400")):409===(null===t.t0||void 0===t.t0||null===(l=t.t0.response)||void 0===l?void 0:l.status)?v.b.error(e("RESPONSE_MESSAGE409")):404===(null===t.t0||void 0===t.t0||null===(d=t.t0.response)||void 0===d?void 0:d.status)?v.b.error(e("RESPONSE_MESSAGE404")):v.b.error(e("RESPONSE_MESSAGE500")));case 11:return t.prev=11,ee(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}(),ce=function(){var n=Object(c.a)(a.a.mark((function n(r){var s,c,i,l,d,u,j,O,E,b,p,S,h,m,x,g,N,T,_,R,P,y,B,G,I,M,K;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.idLKKT=parseInt(r.idLKKT,10),!w){n.next=15;break}return r.isDeleted,s=Object(o.a)(r,["isDeleted"]),n.prev=3,n.next=6,A.a.putById(f,s);case 6:200===n.sent.status&&(z({color:"success",isOpen:!0,messages:[e("admin.UPDATE_SUCCESS")]}),ae(f)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),(null===n.t0||void 0===n.t0?void 0:n.t0.response)&&(403===(null===n.t0||void 0===n.t0||null===(c=n.t0.response)||void 0===c?void 0:c.status)||"NOT_OWNER"===String(null===n.t0||void 0===n.t0||null===(i=n.t0.response)||void 0===i?void 0:i.message)?v.b.error(e("RESPONSE_MESSAGE403")):401===(null===n.t0||void 0===n.t0||null===(l=n.t0.response)||void 0===l?void 0:l.status)?v.b.error(e("RESPONSE_MESSAGE401")):400===(null===n.t0||void 0===n.t0||null===(d=n.t0.response)||void 0===d?void 0:d.status)?v.b.error(e("RESPONSE_MESSAGE400")):409===(null===n.t0||void 0===n.t0||null===(u=n.t0.response)||void 0===u?void 0:u.status)?v.b.error(e("RESPONSE_MESSAGE409")):404===(null===n.t0||void 0===n.t0||null===(j=n.t0.response)||void 0===j?void 0:j.status)?v.b.error(e("RESPONSE_MESSAGE404")):(null===(O=String(null===n.t0||void 0===n.t0||null===(E=n.t0.response)||void 0===E||null===(b=E.data)||void 0===b?void 0:b.error))||void 0===O?void 0:O.includes("ER_DUP_ENTRY"))?v.b.error(e("ER_DUP_ENTRY")):(null===(p=String(null===n.t0||void 0===n.t0||null===(S=n.t0.response)||void 0===S||null===(h=S.data)||void 0===h?void 0:h.error))||void 0===p?void 0:p.includes("ID_NOT_FOUND"))?v.b.error(e("RESPONSE_MESSAGE404")):v.b.error(e("RESPONSE_MESSAGE500")));case 13:n.next=26;break;case 15:return r.isDeleted,m=Object(o.a)(r,["isDeleted"]),n.prev=16,n.next=19,A.a.post(m);case 19:(x=n.sent).id&&(z({color:"success",isOpen:!0,messages:[e("admin.ADD_SUCCESS")]}),t.push("".concat(D.b.ADMIN_GROUP_EDIT,"?id=").concat(x.id))),n.next=26;break;case 23:n.prev=23,n.t1=n.catch(16),(null===n.t1||void 0===n.t1?void 0:n.t1.response)&&(403===(null===n.t1||void 0===n.t1||null===(g=n.t1.response)||void 0===g?void 0:g.status)||"NOT_OWNER"===String(null===n.t1||void 0===n.t1||null===(N=n.t1.response)||void 0===N?void 0:N.message)?v.b.error(e("RESPONSE_MESSAGE403")):401===(null===n.t1||void 0===n.t1||null===(T=n.t1.response)||void 0===T?void 0:T.status)?v.b.error(e("RESPONSE_MESSAGE401")):400===(null===n.t1||void 0===n.t1||null===(_=n.t1.response)||void 0===_?void 0:_.status)?v.b.error(e("RESPONSE_MESSAGE400")):409===(null===n.t1||void 0===n.t1||null===(R=n.t1.response)||void 0===R?void 0:R.status)?v.b.error(e("RESPONSE_MESSAGE409")):404===(null===n.t1||void 0===n.t1||null===(P=n.t1.response)||void 0===P?void 0:P.status)?v.b.error(e("RESPONSE_MESSAGE404")):(null===(y=String(null===n.t1||void 0===n.t1||null===(B=n.t1.response)||void 0===B||null===(G=B.data)||void 0===G?void 0:G.error))||void 0===y?void 0:y.includes("ER_DUP_ENTRY"))?v.b.error(e("ER_DUP_ENTRY")):(null===(I=String(null===n.t1||void 0===n.t1||null===(M=n.t1.response)||void 0===M||null===(K=M.data)||void 0===K?void 0:K.error))||void 0===I?void 0:I.includes("ID_NOT_FOUND"))?v.b.error(e("RESPONSE_MESSAGE404")):v.b.error(e("RESPONSE_MESSAGE500")));case 26:case"end":return n.stop()}}),n,null,[[3,10],[16,23]])})));return function(e){return n.apply(this,arguments)}}(),ie=function(){var t=Object(c.a)(a.a.mark((function t(n){var r,o,s,c,i,l,d,u,j,O,E,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,A.a.deleteById(f);case 4:200===t.sent.status&&(z({color:"success",isOpen:!0,messages:[e("admin.common.DELETED")]}),ae(f)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),(null===t.t0||void 0===t.t0?void 0:t.t0.response)&&(403===(null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status)||"NOT_OWNER"===String(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o?void 0:o.message)?v.b.error(e("RESPONSE_MESSAGE403")):401===(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s?void 0:s.status)?v.b.error(e("RESPONSE_MESSAGE401")):400===(null===t.t0||void 0===t.t0||null===(c=t.t0.response)||void 0===c?void 0:c.status)?v.b.error(e("RESPONSE_MESSAGE400")):409===(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i?void 0:i.status)?v.b.error(e("RESPONSE_MESSAGE409")):404===(null===t.t0||void 0===t.t0||null===(l=t.t0.response)||void 0===l?void 0:l.status)?v.b.error(e("RESPONSE_MESSAGE404")):(null===(d=String(null===t.t0||void 0===t.t0||null===(u=t.t0.response)||void 0===u||null===(j=u.data)||void 0===j?void 0:j.error))||void 0===d?void 0:d.includes("ER_DUP_ENTRY"))?v.b.error(e("ER_DUP_ENTRY")):(null===(O=String(null===t.t0||void 0===t.t0||null===(E=t.t0.response)||void 0===E||null===(b=E.data)||void 0===b?void 0:b.error))||void 0===O?void 0:O.includes("ID_NOT_FOUND"))?v.b.error(e("RESPONSE_MESSAGE404")):v.b.error(e("RESPONSE_MESSAGE500")));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"page",children:[$&&Object(r.jsx)(I.a,{}),Object(r.jsx)(y.a,{currentItem:e(w?"admin.group.UPDATE_GROUP":"admin.group.ADD_GROUP"),items:[{href:D.b.ADMIN_GROUP_LIST,title:e("admin.group.DETAIL_GROUP")}]}),Object(r.jsx)(M,{titleHeader:e(w?"admin.group.UPDATE_GROUP":"admin.group.ADD_GROUP")}),Object(r.jsx)("div",{className:"page-content",children:Object(r.jsx)(_.c,{initialValues:J,enableReinitialize:!0,validationSchema:R.b().shape({stt:R.a().required(K.a.t("REQUIRED_FIELD_WARNING")).min(0,K.a.t("admin.POSITIVE_WARNING")),soTCBB:R.a().required(K.a.t("REQUIRED_FIELD_WARNING")).min(0,K.a.t("admin.POSITIVE_WARNING"))}),children:function(t){var n=t.values,o=t.errors,s=t.handleChange,a=t.handleReset;return Object(r.jsxs)(E.a,{children:[Object(r.jsx)(G.a,{color:q.color,isOpen:q.isOpen,messages:q.messages}),Object(r.jsxs)(b.a,{className:"row",children:[Object(r.jsx)(p.a,{for:"tieuDe",className:"col-lg-3",children:e("admin.group.TITLE")}),Object(r.jsxs)("div",{className:"col-lg-6",children:[Object(r.jsxs)(S.a,{children:[Object(r.jsx)(h.a,{addonType:"prepend",children:Object(r.jsx)(m.a,{children:Object(r.jsx)(j.V,{})})}),Object(r.jsx)(x.a,{type:"text",name:"tieuDe",value:n.tieuDe,onChange:s})]}),o.tieuDe&&Object(r.jsx)(g.a,{color:"danger",children:o.tieuDe})]})]})," ",Object(r.jsx)("br",{}),Object(r.jsxs)(b.a,{className:"row",children:[Object(r.jsxs)(p.a,{for:"stt",className:"col-lg-3",children:[e("admin.group.ORDINAL_NUMBERS")," ",Object(r.jsx)(B.a,{})]}),Object(r.jsxs)("div",{className:"col-lg-6",children:[Object(r.jsxs)(S.a,{children:[Object(r.jsx)(h.a,{addonType:"prepend",children:Object(r.jsx)(m.a,{children:Object(r.jsx)(O.a,{})})}),Object(r.jsx)(x.a,{type:"number",name:"stt",value:n.stt,onChange:s})]}),o.stt&&Object(r.jsx)(g.a,{color:"danger",children:o.stt})]})]})," ",Object(r.jsx)("br",{}),Object(r.jsxs)(b.a,{className:"row",children:[Object(r.jsxs)(p.a,{for:"soTCBB",className:"col-lg-3",children:[e("admin.group.REQUIRED_CREDITS")," ",Object(r.jsx)(B.a,{})]}),Object(r.jsxs)("div",{className:"col-lg-6",children:[Object(r.jsxs)(S.a,{children:[Object(r.jsx)(h.a,{addonType:"prepend",children:Object(r.jsx)(m.a,{children:Object(r.jsx)(O.a,{})})}),Object(r.jsx)(x.a,{type:"number",name:"soTCBB",value:n.soTCBB,onChange:s})]}),o.soTCBB&&Object(r.jsx)(g.a,{color:"danger",children:o.soTCBB})]})]})," ",Object(r.jsx)("br",{}),Object(r.jsxs)(b.a,{className:"row",children:[Object(r.jsx)(p.a,{for:"loaiNhom",className:"col-lg-3",children:e("admin.group.TYPE")}),Object(r.jsx)("div",{className:"col-lg-6",children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(h.a,{addonType:"prepend",children:Object(r.jsx)(m.a,{children:Object(r.jsx)(j.w,{})})}),Object(r.jsx)(x.a,{type:"select",name:"loaiNhom",value:n.loaiNhom,onChange:s,children:te&&te.map((function(e,t){return 0===t?Object(r.jsx)("option",{value:e.value,selected:!0,children:e.name},t):Object(r.jsx)("option",{value:e.value,children:e.name},t)}))})]})})]})," ",Object(r.jsx)("br",{}),Object(r.jsxs)(b.a,{className:"row",children:[Object(r.jsx)(p.a,{for:"idLKKT",className:"col-lg-3",children:e("admin.group.TYPE_OF_KNOWLEDGE")}),Object(r.jsx)("div",{className:"col-lg-6",children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(h.a,{addonType:"prepend",children:Object(r.jsx)(m.a,{children:Object(r.jsx)(j.Y,{})})}),Object(r.jsx)(x.a,{type:"select",name:"idLKKT",value:n.idLKKT,onChange:s,children:oe&&oe.map((function(e,t){var n,o,s,a,c,i;return Object(r.jsx)("option",{value:e.id.toString(),children:"".concat(null===e||void 0===e||null===(n=e.khoiKienThuc)||void 0===n||null===(o=n.chiTietNganh)||void 0===o||null===(s=o.nganhDaoTao)||void 0===s?void 0:s.maNganhDaoTao,"-").concat(null===e||void 0===e||null===(a=e.khoiKienThuc)||void 0===a||null===(c=a.chiTietNganh)||void 0===c?void 0:c.khoa,"-").concat(null===e||void 0===e||null===(i=e.khoiKienThuc)||void 0===i?void 0:i.ten,"-").concat(null===e||void 0===e?void 0:e.ten)},t)}))})]})})]})," ",Object(r.jsx)("br",{}),Object(r.jsxs)(b.a,{children:[Object(r.jsx)(N.a,{color:"success",disabled:Object(L.b)(o),onClick:function(){return ce(n)},children:w?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.o,{})," ",e("admin.common.UPDATE")]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.z,{})," ",e("admin.common.ADD")]})}),"\u2003",w&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(N.a,{onClick:a,children:[Object(r.jsx)(j.M,{})," ",e("admin.common.REFRESH")]}),"\u2003",Object(r.jsxs)(N.a,{color:"danger",onClick:ie,children:[Object(r.jsx)(j.R,{})," ",e("admin.common.DELETE")]})]})]})]})}})})]})}},650:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),o=(n(2),n(69)),s=n(259),a=n(260),c=n(61),i=n(6);function l(e){var t=e.items,n=e.currentItem;return Object(r.jsxs)(s.a,{children:[Object(r.jsx)(a.a,{active:!n,children:Object(r.jsx)(o.b,{to:i.b.WELCOME,children:Object(r.jsx)(c.s,{})})}),t&&t.map((function(e){var t=e.href,n=e.title;return Object(r.jsx)(a.a,{children:Object(r.jsx)(o.b,{to:t,children:n})})})),n&&Object(r.jsx)(a.a,{active:!0,children:n})]})}},651:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3);n(2);function o(){return Object(r.jsx)("span",{style:{color:"red"},children:"(*)"})}},702:function(e,t,n){"use strict";var r=n(14),o=n(22),s=n(53),a=n.n(s),c="gom-nhom";t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.a.stringify(Object(r.a)({page:0},e)),n="".concat(c,"?").concat(t);return o.a.get(n)},getList:function(e){var t="".concat(c,"?page=").concat(e.page-1);return e.limit&&(t+="&limit=".concat(e.limit)),e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&search=".concat(e.searchKey)),e.filter.idLKKT&&(t+="&idLKKT=".concat(e.filter.idLKKT)),o.a.get(t)},getById:function(e){var t="".concat(c,"/").concat(e);return o.a.get(t)},post:function(e){var t="".concat(c);return o.a.post(t,JSON.stringify(e))},putById:function(e,t){var n="".concat(c,"/").concat(e);return o.a.put(n,JSON.stringify(t))},deleteById:function(e){var t="".concat(c,"/").concat(e);return o.a.delete(t)},deleteMultiple:function(e){var t="".concat(c,"?ids=").concat(e);return o.a.delete(t)},deleteAll:function(){var e="".concat(c,"/delete/all");return o.a.delete(e)}}},718:function(e,t,n){"use strict";var r=n(14),o=n(22),s=n(53),a=n.n(s),c="loai-khoi-kien-thuc";t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.a.stringify(Object(r.a)({page:0},e)),n="".concat(c,"?").concat(t);return o.a.get(n)},getList:function(e){var t="".concat(c,"?page=").concat(e.page-1);return e.limit&&(t+="&limit=".concat(e.limit)),e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&search=".concat(e.searchKey)),o.a.get(t)},getById:function(e){var t="".concat(c,"/").concat(e);return o.a.get(t)},post:function(e){var t="".concat(c);return o.a.post(t,JSON.stringify(e))},putById:function(e,t){var n="".concat(c,"/").concat(e);return o.a.put(n,JSON.stringify(t))},deleteById:function(e){var t="".concat(c,"/").concat(e);return o.a.delete(t)}}}}]);
//# sourceMappingURL=57.b08d7005.chunk.js.map