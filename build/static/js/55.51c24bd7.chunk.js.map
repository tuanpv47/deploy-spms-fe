{"version":3,"sources":["views/common/Syllabus/SyllabusList.js","components/common/TableBasic/TableBasic.js","api/admin/syllabus.api.js","components/ViewFilePdf/ViewFilePdf.js"],"names":["SyllabusList","props","t","useTranslation","useState","isLoading","setIsLoading","syllabusList","setSyllabusList","syllabusId","setSyllabusId","isOpenPreviewPdf","setIsOpenPreviewPdf","toggle","useEffect","a","syllabusAPI","getAll","results","contents","titleList","title","i18n","field","actionTitle","handle","item","id","className","data","isOpen","style","width","maxWidth","url","CONFIG","API","EXPORT_SYLLABUS","queryString","stringify","TableBasic","bordered","map","index","scope","titleItem","lodash","color","size","onClick","filter","query","limit","page","SYLLABUS","axiosClient","get","toast","error","getById","ViewFilePdf","scrollModePluginInstance","scrollModePlugin","zoomPluginInstance","zoomPlugin","CurrentScale","ZoomInButton","ZoomOutButton","getFilePluginInstance","getFilePlugin","fileNameGenerator","file","name","DownloadButton","border","display","flexDirection","height","alignItems","backgroundColor","borderBottom","padding","marginLeft","workerUrl","fileUrl","renderError","justifyContent","borderRadius","plugins"],"mappings":"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","file":"static/js/55.51c24bd7.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport TableBasic from \"components/common/TableBasic/TableBasic\";\r\nimport Loading from \"components/common/loading/Loading\";\r\nimport syllabusAPI from \"api/admin/syllabus.api\";\r\nimport { useHistory } from \"react-router\";\r\nimport { RoutesString } from \"pages/routesString\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport i18n from \"i18n/i18n\";\r\nimport { Modal, ModalHeader } from \"reactstrap\";\r\nimport ViewFilePdf from \"components/ViewFilePdf/ViewFilePdf\";\r\nimport queryString from \"query-string\";\r\nimport CONFIG from \"config/config\";\r\n\r\nconst SyllabusList = (props) => {\r\n    const { t } = useTranslation();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [syllabusList, setSyllabusList] = useState([]);\r\n    // const history = useHistory();\r\n    const [syllabusId, setSyllabusId] = useState(null);\r\n    const [isOpenPreviewPdf, setIsOpenPreviewPdf] = useState(false);\r\n\r\n    const toggle = () => setIsOpenPreviewPdf(!isOpenPreviewPdf);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            setIsLoading(true);\r\n            const results = await syllabusAPI.getAll();\r\n            setSyllabusList(results?.contents);\r\n            setIsLoading(false);\r\n        })();\r\n    }, []);\r\n    // const handleClickSyllabus = async ({ id = \"\" }) => {\r\n    //     if (id) {\r\n    //         history.push(\r\n    //             RoutesString.COMMON_SYLLABUS_DETAIL.replace(\":id\", id)\r\n    //         );\r\n    //     } else {\r\n    //         toast.error(\"id not found\");\r\n    //     }\r\n    // };\r\n    const titleList = [\r\n        { title: i18n.t(\"syllabus.CODE\"), field: \"monHoc.ma\" },\r\n        { title: i18n.t(\"syllabus.NAME\"), field: \"monHoc.tenTiengViet\" },\r\n        { title: i18n.t(\"PROGRAM_NAME\"), field: \"heDaoTao.ten\" },\r\n        { title: i18n.t(\"syllabus.SCHOLASTIC\"), field: \"namHoc.ten\" },\r\n        // { title: \"Action\", handle: handleClickSyllabus },\r\n        {\r\n            title: \"Action#1\",\r\n            actionTitle: \"Preview Syllabus\",\r\n            handle: (item) => {\r\n                setSyllabusId(item?.id);\r\n                setIsOpenPreviewPdf(true);\r\n            },\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"view__syllabus__wrapper\">\r\n            <div className=\"view__syllabus__body\">\r\n                <div className=\"view__syllabus__top\">\r\n                    <h4>{t(\"syllabus.LIST_SYLLABUS\") || \"List syllabus\"}</h4>\r\n                </div>\r\n                <div className=\"view__syllabus__content\">\r\n                    {isLoading ? (\r\n                        <div className=\"loading\">\r\n                            <Loading />\r\n                        </div>\r\n                    ) : (\r\n                        <TableBasic\r\n                            titleList={titleList}\r\n                            data={syllabusList}\r\n                            actionTitle={`${\r\n                                t(\"syllabus.VIEW_DETAIL\") || \"View detail\"\r\n                            }`}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <div className=\"view-pdf\">\r\n                    <Modal\r\n                        className=\"overlay-pdf\"\r\n                        // size=\"lg\"\r\n                        isOpen={isOpenPreviewPdf}\r\n                        toggle={toggle}\r\n                        style={{width: \"80%\", maxWidth: \"none\"}}\r\n                    >\r\n                        <ModalHeader toggle={toggle}>SYLLABUS</ModalHeader>\r\n                        <ViewFilePdf\r\n                            url={`${\r\n                                CONFIG.API.EXPORT_SYLLABUS\r\n                            }?${queryString.stringify({\r\n                                syllabusId: syllabusId,\r\n                            })}`}\r\n                        />\r\n                    </Modal>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SyllabusList;\r\n","import React from \"react\";\r\nimport { Table, Button } from \"reactstrap\";\r\nimport * as lodash from \"lodash\";\r\nimport i18n from \"i18n/i18n\";\r\n\r\nconst TableBasic = ({ titleList = [], data = [], actionTitle = \"\" }) => {\r\n    return (\r\n        <div>\r\n            <Table bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th>STT</th>\r\n                        {titleList?.map((item, index) => (\r\n                            <th key={index}>{item?.title}</th>\r\n                        ))}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {data?.map((item, index) => (\r\n                        <tr key={index}>\r\n                            <th scope=\"row\">{index}</th>\r\n                            {titleList?.map((titleItem) => (\r\n                                <td key={`${index}-${titleItem?.field}`}>\r\n                                    {titleItem?.field ? (\r\n                                        lodash.get(item, titleItem?.field, \"\")\r\n                                    ) : (\r\n                                        <Button\r\n                                            color=\"primary\"\r\n                                            size=\"sm\"\r\n                                            onClick={() =>\r\n                                                titleItem?.handle({\r\n                                                    ...item,\r\n                                                })\r\n                                            }\r\n                                        >\r\n                                            {titleItem?.actionTitle ||\r\n                                                i18n.t(\r\n                                                    actionTitle || \"PREVIEW_PDF\"\r\n                                                )}\r\n                                        </Button>\r\n                                    )}\r\n                                </td>\r\n                            ))}\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TableBasic;\r\n","import axiosClient from \"api/common/axiosClient\";\nimport CONFIG from \"config/config\";\nimport queryString from \"query-string\";\nimport { toast } from \"react-toastify\";\nimport i18n from \"i18n/i18n\";\n\nconst syllabusAPI = {\n  getAll: async (filter = {}) => {\n    const query = queryString.stringify({ limit:-1,page:0,...filter });\n    try {\n      const url = `${CONFIG.API.SYLLABUS}?${query}`;\n      return await axiosClient.get(url);\n    } catch (error) {\n      toast.error(i18n.t(\"ERROR\"));\n    }\n  },\n  getById: async (id = \"\") => {\n    try {\n      if (id) {\n        const url = `${CONFIG.API.SYLLABUS}/${id}`;\n        return await axiosClient.get(url);\n      }\n      toast.error(i18n.t('syllabus.SYLLABUS_INVALID'));\n    } catch (error) {\n      toast.error(i18n.t(\"ERROR\"));\n    }\n  },\n};\n\nexport default syllabusAPI;\n","import React from \"react\";\nimport { Viewer, Worker } from \"@react-pdf-viewer/core\";\nimport { scrollModePlugin } from \"@react-pdf-viewer/scroll-mode\";\nimport { getFilePlugin } from \"@react-pdf-viewer/get-file\";\nimport { zoomPlugin } from \"@react-pdf-viewer/zoom\";\nimport i18n from \"i18n/i18n\";\n// Import styles\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\nimport \"@react-pdf-viewer/scroll-mode/lib/styles/index.css\";\nimport \"@react-pdf-viewer/zoom/lib/styles/index.css\";\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\n\nconst ViewFilePdf = ({ url }) => {\n  const scrollModePluginInstance = scrollModePlugin();\n  const zoomPluginInstance = zoomPlugin();\n  const { CurrentScale, ZoomInButton, ZoomOutButton } = zoomPluginInstance;\n  const getFilePluginInstance = getFilePlugin({\n    fileNameGenerator: (file) => {\n      return file?.name;\n    },\n  });\n  const { DownloadButton } = getFilePluginInstance;\n  const renderError = () => {\n    return (\n      <div\n        style={{\n          alignItems: \"center\",\n          border: \"1px solid rgba(0, 0, 0, 0.3)\",\n          display: \"flex\",\n          height: \"100%\",\n          justifyContent: \"center\",\n          padding: \"1.5rem\",\n        }}\n      >\n        <div\n          style={{\n            backgroundColor: \"#e53e3e\",\n            borderRadius: \"0.25rem\",\n            color: \"#fff\",\n            padding: \"0.5rem\",\n          }}\n        >\n          {i18n.t(\"ERROR_LOAD_DOCUMENT_PDF\")}\n        </div>\n      </div>\n    );\n  };\n  return (\n    <>\n      <div\n        className=\"tools\"\n        style={{\n          border: \"1px solid rgba(0, 0, 0, 0.3)\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          height: \"100%\",\n        }}\n      >\n        <div\n          className=\"btn-download\"\n          style={{\n            alignItems: \"center\",\n            backgroundColor: \"#eeeeee\",\n            borderBottom: \"1px solid rgba(0, 0, 0, 0.1)\",\n            display: \"flex\",\n            padding: \"4px\",\n          }}\n        >\n          <DownloadButton />\n          <div style={{ padding: \"0px 2px\", marginLeft: \"auto\" }}>\n            <ZoomOutButton />\n          </div>\n          <div style={{ padding: \"0px 2px\" }}>\n            <CurrentScale />\n          </div>\n          <div style={{ padding: \"0px 2px\" }}>\n            <ZoomInButton />\n          </div>\n        </div>\n      </div>\n      <Worker workerUrl=\"https://unpkg.com/pdfjs-dist@2.6.347/build/pdf.worker.js\">\n        <Viewer\n          fileUrl={`${url}`}\n          renderError={renderError}\n          plugins={[\n            scrollModePluginInstance,\n            getFilePluginInstance,\n            zoomPluginInstance,\n          ]}\n        />\n      </Worker>\n    </>\n  );\n};\n\nexport default ViewFilePdf;\n"],"sourceRoot":""}