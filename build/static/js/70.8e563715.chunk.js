(this["webpackJsonpspms-fe"]=this["webpackJsonpspms-fe"]||[]).push([[70],{1054:function(e,t,n){},1055:function(e,t,n){},621:function(e,t,n){"use strict";n.r(t);var r=n(14),s=n(3),a=n(13),c=n.n(a),o=n(19),i=n(15),u=n(2),d=n(104),l=n(12),E=n(53),j=n.n(E),v=n(653),O=n(654),b=n(17),p=n(26),S=(n(1054),n(650));n(1055);function m(e){var t=e.headerTitle;return Object(s.jsx)("div",{className:"page-header",children:Object(s.jsx)("div",{className:"d-flex flex-wrap justify-content-between",children:Object(s.jsx)("h1",{children:t.toUpperCase()})})})}var h=n(674),x=n(61),_=n(270),f=n(80),R=n(273),D=n(271),A=n(272),N=n(130),g=n(222),T=n(182),P=n(67),y=n(651),L=n(192),I=n(62),U=n(6),M=n(105),G={ten:"",mucDo:0},C=Object(v.d)({mapPropsToValues:function(){return Object(r.a)({},G)},enableReinitialize:!0,validationSchema:O.b().shape({mucDo:O.a().required(l.a.t("REQUIRED_FIELD_WARNING")).min(0,l.a.t("admin.POSITIVE_WARNING")),ten:O.c().required(l.a.t("REQUIRED_FIELD_WARNING"))})})((function(e){var t=e.values,n=e.handleChange,r=e.resetForm,a=e.errors,l=Object(d.a)().t,E=Object(b.g)(),v=Object(u.useState)(null),O=Object(i.a)(v,2),G=O[0],C=O[1],w=Object(u.useState)(!1),k=Object(i.a)(w,2),B=k[0],F=k[1],V=Object(u.useState)({color:"danger",isOpen:!1,messages:[]}),J=Object(i.a)(V,2),H=J[0],W=J[1],K=Object(u.useState)(!1),Y=Object(i.a)(K,2),q=Y[0],z=Y[1];l("admin.common.DELETED"),l("admin.common.AVAILABLE");Object(u.useEffect)(Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=j.a.parse(window.location.search)).id&&(C(t.id),F(!0),Q(t.id));case 2:case"end":return e.stop()}}),e)}))),[]);var Q=function(){var e=Object(o.a)(c.a.mark((function e(n){var r,s,a,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.prev=1,e.next=4,h.a.getById(n);case 4:(r=e.sent)&&(t.mucDo=r.mucDo,t.ten=r.ten),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response&&(403===(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.status)||401===(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)?p.b.error(l("RESPONSE_MESSAGE401")):400===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)?p.b.error(l("RESPONSE_MESSAGE400")):409===(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.status)?p.b.error(l("RESPONSE_MESSAGE409")):404===(null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u?void 0:u.status)?p.b.error(l("RESPONSE_MESSAGE404")):p.b.error(l("RESPONSE_MESSAGE500")));case 11:z(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){W({color:"success",isOpen:!1,messages:[]})},Z=function(){var e=Object(o.a)(c.a.mark((function e(n){var r,s,a,o,i,u,d,E,j,v,O,b,S;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),X(),e.prev=2,!B){e.next=10;break}return e.next=6,h.a.putById(G,t);case 6:(r=e.sent)&&(201===r.status||200===r.status||"UPDATE_CHUANDAURA_SUCCESSFULLY"===String(null===r||void 0===r?void 0:r.message)?(p.b.success(l("admin.UPDATE_SUCCESS")),Q(G)):W({color:"danger",isOpen:!0,messages:[r.error]})),e.next=14;break;case 10:return e.next=12,h.a.post(t);case 12:(s=e.sent)&&(201===s.status||200===s.status?p.b.success(l("admin.ADD_SUCCESS")):W({color:"danger",isOpen:!0,messages:[s.error]}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),(null===e.t0||void 0===e.t0?void 0:e.t0.response)&&(403===(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)||401===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)?p.b.error(l("RESPONSE_MESSAGE401")):400===(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.status)?p.b.error(l("RESPONSE_MESSAGE400")):409===(null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u?void 0:u.status)?p.b.error(l("MAJOR_STANDARD_OUTPUT_EXIST")):404===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d?void 0:d.status)?p.b.error(l("RESPONSE_MESSAGE404")):(null===(E=String(null===e.t0||void 0===e.t0||null===(j=e.t0.response)||void 0===j||null===(v=j.data)||void 0===v?void 0:v.error))||void 0===E?void 0:E.includes("ER_DUP_ENTRY"))?p.b.error(l("ER_DUP_ENTRY")):(null===(O=String(null===e.t0||void 0===e.t0||null===(b=e.t0.response)||void 0===b||null===(S=b.data)||void 0===S?void 0:S.error))||void 0===O?void 0:O.includes("ID_NOT_FOUND"))?p.b.error(l("RESPONSE_MESSAGE404")):p.b.error(l("RESPONSE_MESSAGE500")));case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,s,a,o,i,u,d,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),X(),e.prev=2,e.next=5,h.a.deleteById(G);case 5:(n=e.sent)&&(200===n.status?(p.b.success(l("admin.common.DELETED")),E.push(U.b.ADMIN_STANDARD_OUTPUT_LIST)):W({color:"danger",isOpen:!0,messages:[l("ERROR")]})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&(403===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)||401===(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.status)?p.b.error(l("DELETE_ERROR")+": "+l("RESPONSE_MESSAGE401")):400===(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)?p.b.error(l("DELETE_ERROR")+": "+l("RESPONSE_MESSAGE400")):409===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)?p.b.error(l("DELETE_ERROR")+": "+l("RESPONSE_MESSAGE409")):404===(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.status)?p.b.error(l("DELETE_ERROR")+": "+l("RESPONSE_MESSAGE404")):(null===(u=String(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(j=d.data)||void 0===j?void 0:j.error))||void 0===u?void 0:u.includes("ID_NOT_FOUND"))?p.b.error(l("RESPONSE_MESSAGE404")):p.b.error(l("DELETE_ERROR")+": "+l("RESPONSE_MESSAGE500")));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"page",children:[q&&Object(s.jsx)(I.a,{}),Object(s.jsx)(S.a,{currentItem:l(B?"admin.standard_output_edit.UPDATE":"admin.standard_output_edit.ADD"),items:[{href:U.b.ADMIN_STANDARD_OUTPUT_LIST,title:l("admin.standard_output_list.LIST")}]}),Object(s.jsx)(m,{headerTitle:l(B?"admin.standard_output_edit.UPDATE":"admin.standard_output_edit.ADD")}),Object(s.jsx)("div",{className:"page-content",children:Object(s.jsxs)(_.a,{children:[Object(s.jsx)(L.a,{color:H.color,isOpen:H.isOpen,messages:H.messages}),Object(s.jsxs)(f.a,{className:"row",children:[Object(s.jsxs)(R.a,{for:"name",className:"col-lg-3",children:[l("admin.standard_output_list.NAME")," ",Object(s.jsx)(y.a,{})]}),Object(s.jsxs)("div",{className:"col-lg-6",children:[Object(s.jsxs)(D.a,{children:[Object(s.jsx)(A.a,{addonType:"prepend",children:Object(s.jsx)(N.a,{children:Object(s.jsx)(x.P,{})})}),Object(s.jsx)(g.a,{type:"text",name:"ten",placeholder:l("admin.standard_output_edit.NAME_PLACEHOLDER"),value:t.ten,onChange:n})]}),a.ten&&Object(s.jsx)(T.a,{color:"danger",children:a.ten})]})]})," ",Object(s.jsx)("br",{}),Object(s.jsxs)(f.a,{className:"row",children:[Object(s.jsxs)(R.a,{for:"value",className:"col-lg-3",children:[l("admin.standard_output_list.LEVEL")," ",Object(s.jsx)(y.a,{})]}),Object(s.jsxs)("div",{className:"col-lg-6",children:[Object(s.jsxs)(D.a,{children:[Object(s.jsx)(A.a,{addonType:"prepend",children:Object(s.jsx)(N.a,{children:Object(s.jsx)(x.V,{})})}),Object(s.jsx)(g.a,{type:"number",name:"mucDo",placeholder:l("admin.standard_output_edit.LEVEL_PLACEHOLDER"),value:t.mucDo,onChange:n})]}),a.mucDo&&Object(s.jsx)(T.a,{color:"danger",children:a.mucDo})]})]})," ",Object(s.jsx)("br",{}),Object(s.jsxs)(f.a,{children:[Object(s.jsx)(P.a,{color:"success",onClick:Z,disabled:Object(M.b)(a),children:B?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(x.o,{})," ",l("admin.common.UPDATE")]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(x.z,{})," ",l("admin.common.ADD")]})}),"\u2003",B&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(P.a,{onClick:function(e){e.preventDefault(),r(),X()},children:[Object(s.jsx)(x.M,{})," ",l("admin.common.REFRESH")]}),"\u2003",Object(s.jsxs)(P.a,{color:"danger",onClick:$,children:[Object(s.jsx)(x.R,{})," ",l("admin.common.DELETE")]})]})]})]})})]})}));t.default=C},650:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),s=(n(2),n(69)),a=n(259),c=n(260),o=n(61),i=n(6);function u(e){var t=e.items,n=e.currentItem;return Object(r.jsxs)(a.a,{children:[Object(r.jsx)(c.a,{active:!n,children:Object(r.jsx)(s.b,{to:i.b.WELCOME,children:Object(r.jsx)(o.s,{})})}),t&&t.map((function(e){var t=e.href,n=e.title;return Object(r.jsx)(c.a,{children:Object(r.jsx)(s.b,{to:t,children:n})})})),n&&Object(r.jsx)(c.a,{active:!0,children:n})]})}},651:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3);n(2);function s(){return Object(r.jsx)("span",{style:{color:"red"},children:"(*)"})}},674:function(e,t,n){"use strict";var r=n(14),s=n(22),a=n(53),c=n.n(a);t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c.a.stringify(Object(r.a)({limit:-1,page:0},e)),n="chuan-dau-ra?".concat(t);return s.a.get(n)},getList:function(e){var t="".concat("chuan-dau-ra","?page=").concat(e.page-1);return e.limit&&(t+="&limit=".concat(e.limit)),e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&searchKey=".concat(e.searchKey)),s.a.get(t)},getById:function(e){var t="chuan-dau-ra/".concat(e);return s.a.get(t)},post:function(e){return s.a.post("chuan-dau-ra",JSON.stringify(e))},putById:function(e,t){var n="chuan-dau-ra/".concat(e);return s.a.put(n,JSON.stringify(t))},deleteById:function(e){var t="chuan-dau-ra/".concat(e);return s.a.delete(t)}}}}]);
//# sourceMappingURL=70.8e563715.chunk.js.map