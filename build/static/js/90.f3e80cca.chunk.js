(this["webpackJsonpspms-fe"]=this["webpackJsonpspms-fe"]||[]).push([[90],{567:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(13),s=n.n(a),c=n(19),o=n(15),u=n(2),i=n(17),l=n(39),p=n(26),v=n(22),f=n(12),b=n(6),d=n(28),O=n(10);t.default=function(e){var t=Object(i.i)().token,n=void 0===t?"":t,a=Object(i.g)(),h=Object(u.useState)(!1),k=Object(o.a)(h,2),I=k[0],E=k[1];Object(u.useEffect)((function(){Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(n);case 2:case"end":return e.stop()}}),e)})))()}),[]);var j=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,v.a.get("".concat(l.a.API.VERIFY_TOKEN_EMAIL.replace(":token",t)));case 4:n=e.sent,r=n.message,c=void 0===r?"VERIFY_ERROR":r,o=n.data,d.a.logout(),"VERIFY_SUCCESSFULLY"===c?(p.b.success(f.a.t(c)),(null===o||void 0===o?void 0:o.token)&&(null===o||void 0===o?void 0:o.refreshToken)&&(null===o||void 0===o?void 0:o.curUser)?(localStorage.setItem("token",JSON.stringify({refreshToken:null===o||void 0===o?void 0:o.refreshToken,accessToken:null===o||void 0===o?void 0:o.token})),localStorage.setItem("curUser",JSON.stringify(null===o||void 0===o?void 0:o.curUser)),window.location.replace("/")):a.push(b.b.LOGIN)):"TOKEN_VERIFIED"===c?(p.b.warning(f.a.t(c)),a.push(b.b.LOGIN)):(p.b.error(f.a.t(c)),a.push(b.b.LOGIN)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),p.b.error(f.a.t("VERIFY_ERROR")),a.push(b.b.LOGIN);case 14:E(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:I&&Object(r.jsx)(O.a,{})})}}}]);
//# sourceMappingURL=90.f3e80cca.chunk.js.map