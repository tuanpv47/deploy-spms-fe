(this["webpackJsonpspms-fe"]=this["webpackJsonpspms-fe"]||[]).push([[56],{1205:function(e,t,n){},1206:function(e,t,n){},630:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n(3),c=n(106),i=n(13),a=n.n(i),o=n(19),s=n(15),l=n(2),d=n(104),u=n(17),v=n(26),E=n(61),j=n(719),p=n(270),O=n(80),b=n(273),h=n(271),S=n(272),g=n(130),f=n(222),m=n(182),x=n(67),N=n(53),R=n.n(N),_=n(653),y=n(654),T=(n(1205),n(6)),D=n(703),A=n(667),G=n(702),M=n(650),P=(n(651),n(192)),I=n(62);n(1206);function L(e){var t=e.titleHeader;return Object(r.jsx)("div",{className:"page-header",children:Object(r.jsx)("div",{className:"d-flex flex-wrap justify-content-between",children:Object(r.jsx)("h1",{children:t.toUpperCase()})})})}n(771);var K=n(12),U=n(105);function C(){var e=Object(d.a)().t,t=Object(u.g)(),n=Object(l.useState)(null),i=Object(s.a)(n,2),N=i[0],C=i[1],B=Object(l.useState)(!1),k=Object(s.a)(B,2),w=k[0],H=k[1],F=Object(l.useState)({idGN:null,idMH:null,ghiChu:""}),J=Object(s.a)(F,2),Y=J[0],V=J[1],W=Object(l.useState)({color:"danger",isOpen:!1,messages:[]}),q=Object(s.a)(W,2),z=q[0],Q=q[1],X=Object(l.useState)(!1),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],te=Object(l.useState)([]),ne=Object(s.a)(te,2),re=ne[0],ce=ne[1],ie=Object(l.useState)([]),ae=Object(s.a)(ie,2),oe=ae[0],se=ae[1];e("admin.common.DELETED"),e("admin.common.AVAILABLE");Object(l.useEffect)(Object(o.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=R.a.parse(window.location.search)).id?(C(t.id),H(!0),le(t.id)):V({idGN:null,idMH:null,ghiChu:""}),e.prev=2,e.next=5,G.a.getAll({limit:-1});case 5:return n=e.sent,ce(n.contents),e.next=9,A.a.getAll({limit:-1});case 9:r=e.sent,se(r.contents),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])}))),[]);var le=function(){var t=Object(o.a)(a.a.mark((function t(n){var r,c,i,o,s,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ee(!0),t.prev=1,t.next=4,D.a.getById(n);case 4:r=t.sent,V({idGN:void 0!==r.idGN&&r.idGN,idMH:void 0!==r.idMH&&r.idMH,ghiChu:r.ghiChu,isDeleted:r.isDeleted}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.response&&(403===(null===t.t0||void 0===t.t0||null===(c=t.t0.response)||void 0===c?void 0:c.status)||401===(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i?void 0:i.status)?v.b.error(e("RESPONSE_MESSAGE401")):400===(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o?void 0:o.status)?v.b.error(e("RESPONSE_MESSAGE400")):409===(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s?void 0:s.status)?v.b.error(e("RESPONSE_MESSAGE409")):404===(null===t.t0||void 0===t.t0||null===(l=t.t0.response)||void 0===l?void 0:l.status)?v.b.error(e("RESPONSE_MESSAGE404")):v.b.error(e("RESPONSE_MESSAGE500")));case 11:return t.prev=11,ee(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}(),de=function(){var n=Object(o.a)(a.a.mark((function n(r){var i,o,s,l,d,u,E,j,p,O,b,h,S,g,f,m,x,R,_,y,A,G,M,P,I;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.idGN=parseInt(r.idGN,10),r.idMH=parseInt(r.idMH,10),!w){n.next=16;break}return r.isDeleted,i=Object(c.a)(r,["isDeleted"]),n.prev=4,n.next=7,D.a.putById(N,i);case 7:200===n.sent.status&&(v.b.success(e("admin.UPDATE_SUCCESS")),le(N)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),(null===n.t0||void 0===n.t0?void 0:n.t0.response)&&(403===(null===n.t0||void 0===n.t0||null===(o=n.t0.response)||void 0===o?void 0:o.status)||401===(null===n.t0||void 0===n.t0||null===(s=n.t0.response)||void 0===s?void 0:s.status)?v.b.error(e("RESPONSE_MESSAGE401")):400===(null===n.t0||void 0===n.t0||null===(l=n.t0.response)||void 0===l?void 0:l.status)?v.b.error(e("RESPONSE_MESSAGE400")):409===(null===n.t0||void 0===n.t0||null===(d=n.t0.response)||void 0===d?void 0:d.status)?v.b.error(e("RESPONSE_MESSAGE409")):404===(null===n.t0||void 0===n.t0||null===(u=n.t0.response)||void 0===u?void 0:u.status)?v.b.error(e("RESPONSE_MESSAGE404")):(null===(E=String(null===n.t0||void 0===n.t0||null===(j=n.t0.response)||void 0===j||null===(p=j.data)||void 0===p?void 0:p.error))||void 0===E?void 0:E.includes("ER_DUP_ENTRY"))?v.b.error(e("ER_DUP_ENTRY")):(null===(O=String(null===n.t0||void 0===n.t0||null===(b=n.t0.response)||void 0===b||null===(h=b.data)||void 0===h?void 0:h.error))||void 0===O?void 0:O.includes("ID_NOT_FOUND"))?v.b.error(e("RESPONSE_MESSAGE404")):v.b.error(e("RESPONSE_MESSAGE500")));case 14:n.next=27;break;case 16:return r.isDeleted,S=Object(c.a)(r,["isDeleted"]),n.prev=17,n.next=20,D.a.post(S);case 20:201===(g=n.sent).status&&(v.b.success(e("admin.ADD_SUCCESS")),t.push("".concat(T.b.ADMIN_DETAIL_GROUP_EDIT,"?id=").concat(g.id))),n.next=27;break;case 24:n.prev=24,n.t1=n.catch(17),(null===n.t1||void 0===n.t1?void 0:n.t1.response)&&(403===(null===n.t1||void 0===n.t1||null===(f=n.t1.response)||void 0===f?void 0:f.status)||401===(null===n.t1||void 0===n.t1||null===(m=n.t1.response)||void 0===m?void 0:m.status)?v.b.error(e("RESPONSE_MESSAGE401")):400===(null===n.t1||void 0===n.t1||null===(x=n.t1.response)||void 0===x?void 0:x.status)?v.b.error(e("RESPONSE_MESSAGE400")):409===(null===n.t1||void 0===n.t1||null===(R=n.t1.response)||void 0===R?void 0:R.status)?v.b.error(e("RESPONSE_MESSAGE409")):404===(null===n.t1||void 0===n.t1||null===(_=n.t1.response)||void 0===_?void 0:_.status)?v.b.error(e("RESPONSE_MESSAGE404")):(null===(y=String(null===n.t1||void 0===n.t1||null===(A=n.t1.response)||void 0===A||null===(G=A.data)||void 0===G?void 0:G.error))||void 0===y?void 0:y.includes("ER_DUP_ENTRY"))?v.b.error(e("ER_DUP_ENTRY")):(null===(M=String(null===n.t1||void 0===n.t1||null===(P=n.t1.response)||void 0===P||null===(I=P.data)||void 0===I?void 0:I.error))||void 0===M?void 0:M.includes("ID_NOT_FOUND"))?v.b.error(e("RESPONSE_MESSAGE404")):v.b.error(e("RESPONSE_MESSAGE500")));case 27:case"end":return n.stop()}}),n,null,[[4,11],[17,24]])})));return function(e){return n.apply(this,arguments)}}(),ue=function(){var t=Object(o.a)(a.a.mark((function t(n){var r,c,i,o,s,l,d,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,D.a.deleteById(N);case 4:200===t.sent.status&&(Q({color:"success",isOpen:!0,messages:[e("admin.common.DELETED")]}),le(N)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.response&&(403===(null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status)||401===(null===t.t0||void 0===t.t0||null===(c=t.t0.response)||void 0===c?void 0:c.status)?v.b.error(e("DELETE_ERROR")+": "+e("RESPONSE_MESSAGE401")):400===(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i?void 0:i.status)?v.b.error(e("DELETE_ERROR")+": "+e("RESPONSE_MESSAGE400")):409===(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o?void 0:o.status)?v.b.error(e("DELETE_ERROR")+": "+e("RESPONSE_MESSAGE409")):404===(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s?void 0:s.status)?v.b.error(e("DELETE_ERROR")+": "+e("RESPONSE_MESSAGE404")):(null===(l=String(null===t.t0||void 0===t.t0||null===(d=t.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.error))||void 0===l?void 0:l.includes("ID_NOT_FOUND"))?v.b.error(e("RESPONSE_MESSAGE404")):v.b.error(e("DELETE_ERROR")+": "+e("RESPONSE_MESSAGE500")));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"page",children:[$&&Object(r.jsx)(I.a,{}),Object(r.jsx)(M.a,{currentItem:e(w?"admin.detail-group.UPDATE_DETAIL_GROUP":"admin.detail-group.ADD_DETAIL_GROUP"),items:[{href:T.b.ADMIN_DETAIL_GROUP_LIST,title:e("admin.detail-group.DETAIL_GROUP_LIST")}]}),Object(r.jsx)(L,{titleHeader:e(w?"admin.detail-group.UPDATE_DETAIL_GROUP":"admin.detail-group.ADD_DETAIL_GROUP")}),Object(r.jsx)("div",{className:"page-content",children:Object(r.jsx)(_.c,{initialValues:Y,enableReinitialize:!0,validationSchema:y.b().shape({idGN:y.c().required(K.a.t("REQUIRED_FIELD_WARNING")),idMH:y.c().required(K.a.t("REQUIRED_FIELD_WARNING"))}),children:function(t){var n=t.values,c=t.errors,i=(t.dirty,t.isValid,t.handleChange),a=t.handleReset;return Object(r.jsxs)(p.a,{children:[Object(r.jsx)(P.a,{color:z.color,isOpen:z.isOpen,messages:z.messages}),Object(r.jsxs)(O.a,{className:"row",children:[Object(r.jsx)(b.a,{for:"idGN",className:"col-lg-3",children:e("admin.detail-group.GROUP")}),Object(r.jsx)("div",{className:"col-lg-6",children:Object(r.jsxs)(h.a,{children:[Object(r.jsx)(S.a,{addonType:"prepend",children:Object(r.jsx)(g.a,{children:Object(r.jsx)(E.Y,{})})}),Object(r.jsx)(f.a,{type:"select",name:"idGN",value:n.idGN,onChange:i,children:re&&re.map((function(e,t){var n,c,i,a,o,s,l,d,u,v;return Object(r.jsx)("option",{value:e.id,children:"".concat(null===e||void 0===e||null===(n=e.loaiKhoiKienThuc)||void 0===n||null===(c=n.khoiKienThuc)||void 0===c||null===(i=c.chiTietNganh)||void 0===i||null===(a=i.nganhDaoTao)||void 0===a?void 0:a.maNganhDaoTao,"-").concat(null===e||void 0===e||null===(o=e.loaiKhoiKienThuc)||void 0===o||null===(s=o.khoiKienThuc)||void 0===s||null===(l=s.chiTietNganh)||void 0===l?void 0:l.khoa,"-").concat(null===e||void 0===e||null===(d=e.loaiKhoiKienThuc)||void 0===d||null===(u=d.khoiKienThuc)||void 0===u?void 0:u.ten,"-").concat(null===e||void 0===e||null===(v=e.loaiKhoiKienThuc)||void 0===v?void 0:v.ten,"-").concat(null===e||void 0===e?void 0:e.loaiNhom).concat((null===e||void 0===e?void 0:e.tieuDe)?"-".concat(null===e||void 0===e?void 0:e.tieuDe):"")},t)}))})]})})]})," ",Object(r.jsx)("br",{}),Object(r.jsxs)(O.a,{className:"row",children:[Object(r.jsx)(b.a,{for:"idMH",className:"col-lg-3",children:e("admin.detail-group.SUBJECT")}),Object(r.jsx)("div",{className:"col-lg-6",children:Object(r.jsxs)(h.a,{children:[Object(r.jsx)(S.a,{addonType:"prepend",children:Object(r.jsx)(g.a,{children:Object(r.jsx)(E.Y,{})})}),Object(r.jsx)(f.a,{type:"select",name:"idMH",value:n.idMH,onChange:i,children:oe&&oe.map((function(e,t){return Object(r.jsx)("option",{value:e.id,children:e.tenTiengViet},t)}))})]})})]})," ",Object(r.jsx)("br",{}),Object(r.jsxs)(O.a,{className:"row",children:[Object(r.jsx)(b.a,{for:"ghiChu",className:"col-lg-3",children:e("admin.detail-group.NOTE")}),Object(r.jsxs)("div",{className:"col-lg-6",children:[Object(r.jsxs)(h.a,{children:[Object(r.jsx)(S.a,{addonType:"prepend",children:Object(r.jsx)(g.a,{children:Object(r.jsx)(j.b,{})})}),Object(r.jsx)(f.a,{type:"text",name:"ghiChu",value:n.ghiChu,onChange:i})]}),c.ghiChu&&Object(r.jsx)(m.a,{color:"danger",children:c.ghiChu})]})]})," ",Object(r.jsx)("br",{}),Object(r.jsxs)(O.a,{children:[Object(r.jsx)(x.a,{color:"success",disabled:Object(U.b)(c),onClick:function(){return de(n)},children:w?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E.o,{})," ",e("admin.common.UPDATE")]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E.z,{})," ",e("admin.common.ADD")]})}),"\u2003",w&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(x.a,{onClick:a,children:[Object(r.jsx)(E.M,{})," ",e("admin.common.REFRESH")]}),"\u2003",Object(r.jsxs)(x.a,{color:"danger",onClick:ue,children:[Object(r.jsx)(E.R,{})," ",e("admin.common.DELETE")]})]})]})]})}})})]})}},650:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),c=(n(2),n(69)),i=n(259),a=n(260),o=n(61),s=n(6);function l(e){var t=e.items,n=e.currentItem;return Object(r.jsxs)(i.a,{children:[Object(r.jsx)(a.a,{active:!n,children:Object(r.jsx)(c.b,{to:s.b.WELCOME,children:Object(r.jsx)(o.s,{})})}),t&&t.map((function(e){var t=e.href,n=e.title;return Object(r.jsx)(a.a,{children:Object(r.jsx)(c.b,{to:t,children:n})})})),n&&Object(r.jsx)(a.a,{active:!0,children:n})]})}},651:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(3);n(2);function c(){return Object(r.jsx)("span",{style:{color:"red"},children:"(*)"})}},667:function(e,t,n){"use strict";var r=n(13),c=n.n(r),i=n(19),a=n(14),o=n(22),s=n(53),l=n.n(s),d="mon-hoc";t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.a.stringify(Object(a.a)({limit:-1,page:0},e)),n="".concat(d,"?").concat(t);return o.a.get(n)},getList:function(e){var t="".concat(d,"?page=").concat(e.page-1);return e.limit&&(t+="&limit=".concat(e.limit)),e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&searchKey=".concat(e.searchKey)),o.a.get(t)},getById:function(e){var t="".concat(d,"/").concat(e);return o.a.get(t)},post:function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(d),e.next=3,o.a.post(n,JSON.stringify(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),putById:function(e,t){var n="".concat(d,"/").concat(e);return o.a.put(n,JSON.stringify(t))},deleteById:function(e){var t="".concat(d,"/").concat(e);return o.a.delete(t)},deleteMultiple:function(e){var t="".concat(d,"?ids=").concat(e);return o.a.delete(t)},deleteAll:function(){var e="".concat(d,"/delete/all");return o.a.delete(e)}}},702:function(e,t,n){"use strict";var r=n(14),c=n(22),i=n(53),a=n.n(i),o="gom-nhom";t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.a.stringify(Object(r.a)({page:0},e)),n="".concat(o,"?").concat(t);return c.a.get(n)},getList:function(e){var t="".concat(o,"?page=").concat(e.page-1);return e.limit&&(t+="&limit=".concat(e.limit)),e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&search=".concat(e.searchKey)),e.filter.idLKKT&&(t+="&idLKKT=".concat(e.filter.idLKKT)),c.a.get(t)},getById:function(e){var t="".concat(o,"/").concat(e);return c.a.get(t)},post:function(e){var t="".concat(o);return c.a.post(t,JSON.stringify(e))},putById:function(e,t){var n="".concat(o,"/").concat(e);return c.a.put(n,JSON.stringify(t))},deleteById:function(e){var t="".concat(o,"/").concat(e);return c.a.delete(t)},deleteMultiple:function(e){var t="".concat(o,"?ids=").concat(e);return c.a.delete(t)},deleteAll:function(){var e="".concat(o,"/delete/all");return c.a.delete(e)}}},703:function(e,t,n){"use strict";var r=n(14),c=n(22),i=n(53),a=n.n(i),o="chi-tiet-gom-nhom";t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.a.stringify(Object(r.a)({limit:-1,page:0},e)),n="".concat(o,"?").concat(t);return c.a.get(n)},getList:function(e){var t="".concat(o,"?page=").concat(e.page-1);return e.limit&&(t+="&limit=".concat(e.limit)),e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&search=".concat(e.searchKey)),e.filter.idMH&&(t+="&idMH=".concat(e.filter.idMH)),e.filter.idGN&&(t+="&idGN=".concat(e.filter.idGN)),c.a.get(t)},getById:function(e){var t="".concat(o,"/").concat(e);return c.a.get(t)},post:function(e){var t="".concat(o);return c.a.post(t,JSON.stringify(e))},putById:function(e,t){var n="".concat(o,"/").concat(e);return c.a.put(n,JSON.stringify(t))},deleteById:function(e){var t="".concat(o,"/").concat(e);return c.a.delete(t)},deleteMultiple:function(e){var t="".concat(o,"?ids=").concat(e);return c.a.delete(t)},deleteAll:function(){var e="".concat(o,"/delete/all");return c.a.delete(e)},getAllKHGH:function(e){var t="".concat(o,"/ke-hoach-giang-day\u200b/").concat(e);return c.a.get(t)},getAllCTNDT:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.a.stringify(Object(r.a)({limit:-1,page:0},t)),i="".concat(o,"/chi-tiet-nganh-dao-tao/").concat(e,"?").concat(n);return c.a.get(i)}}}}]);
//# sourceMappingURL=56.85716867.chunk.js.map