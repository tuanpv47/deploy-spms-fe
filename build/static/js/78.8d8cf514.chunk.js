(this["webpackJsonpspms-fe"]=this["webpackJsonpspms-fe"]||[]).push([[78],{1221:function(e,t,n){},632:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(13),c=n.n(r),s=n(19),i=n(15),o=n(2),u=n(1215),d=n.n(u),p={indent_size:"2",indent_char:" ",max_preserve_newlines:"5",preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:"0",indent_inner_html:!1,comma_first:!1},l=function(e){var t=e.value,n=e.onEditorChange;return Object(a.jsxs)("div",{children:[Object(a.jsx)(d.a,{value:window.html_beautify(t,p),mode:"html",theme:"tomorrow",onChange:n,name:"custom_editor",width:"100%"}),","]})},b=n(755),f=n(17),v=n(826),h=n(26),j=n(712),O=n(39),m=n(198),_=n(147),w=n.n(_),x=n(67),R=n(10),k=(n(1221),n(62)),P=n(12);t.default=function(e){var t=Object(f.i)(),n=Object(m.a)(),r=Object(i.a)(n,2),u=r[0],d=r[1],p=Object(o.useState)(""),_=Object(i.a)(p,2),g=_[0],y=_[1],E=Object(o.useState)(!1),S=Object(i.a)(E,2),A=S[0],T=S[1],D=Object(o.useState)(!1),F=Object(i.a)(D,2),N=F[0],I=F[1],C=function(){var e=Object(s.a)(c.a.mark((function e(){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),n=t.id,a=t.khoa,r="".concat(O.a.API.EXPORT_PDF,"/data"),s="N-".concat(n,"_K").concat(a),w()({url:r,method:"POST",responseType:"blob",data:{data:g,fileName:s}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","".concat(s,".pdf")),document.body.appendChild(n),n.click(),I(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){Object(s.a)(c.a.mark((function e(){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),!t.id||!t.khoa){e.next=9;break}return n=t.id,a=t.khoa,e.next=5,j.a.getAll({nganhDaoTao:n,khoa:a});case 5:r=e.sent,y((null===r||void 0===r?void 0:r.data)||""),e.next=10;break;case 9:h.b.error(P.a.t("ERROR"));case 10:(null===u||void 0===u?void 0:u.isOpenSideBar)&&d.setIsOpenSideBar({isOpenSideBar:!1}),T(!1);case 12:case"end":return e.stop()}}),e)})))()}),[t.id,t.khoa]),Object(a.jsxs)(a.Fragment,{children:[N&&Object(a.jsx)(k.a,{}),A?Object(a.jsx)(R.a,{}):Object(a.jsxs)("div",{className:"html_mode_container",children:[Object(a.jsx)("div",{children:Object(a.jsx)(x.a,{onClick:C,children:"Download"})}),Object(a.jsxs)(v.a,{style:{position:"relative"},split:"vertical",defaultSize:"50%",children:[Object(a.jsx)("div",{className:"view",children:Object(a.jsx)(l,{value:g,onEditorChange:function(e){y(e)}})}),Object(a.jsx)("div",{className:"view preview_html",children:Object(a.jsx)(b.a,{value:g})})]}),Object(a.jsx)("div",{})]})]})}},712:function(e,t,n){"use strict";var a=n(13),r=n.n(a),c=n(14),s=n(19),i=n(22),o=n(39),u=n(12),d=n(53),p=n.n(d),l=n(26);t.a={getAll:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.stringify(Object(c.a)({},t)),e.prev=1,a="".concat(o.a.API.EXPORT_PDF,"/data?").concat(n),e.next=5,i.a.get(a);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(1),l.b.error(u.a.t("ERROR"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),createPdf:function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(o.a.API.EXPORT_PDF,"/data"),e.next=4,i.a.post(n,{data:t});case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),l.b.error(u.a.t("ERROR"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getJSON:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.stringify(Object(c.a)({},t)),e.prev=1,a="".concat(o.a.API.EXPORT_PDF,"/json?").concat(n),e.next=5,i.a.get(a);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(1),l.b.error(u.a.t("ERROR"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),exportPdfFromJSON:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},e.prev=1,a="".concat(o.a.API.EXPORT_PDF,"/json/pdf"),e.next=5,i.a.post(a,t,Object(c.a)({},n));case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(1),l.b.error(u.a.t("ERROR"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}},755:function(e,t,n){"use strict";var a=n(3),r=(n(2),n(792)),c=n.n(r);t.a=function(e){return Object(a.jsx)("div",{children:c()(e.value)})}},804:function(e,t){}}]);
//# sourceMappingURL=78.8d8cf514.chunk.js.map