{"version":3,"sources":["views/admin/Syllabus/SyllabusList.js","components/common/TableBasic/TableBasic.js","api/admin/syllabus.api.js","components/ViewFilePdf/ViewFilePdf.js"],"names":["SyllabusList","props","t","useTranslation","useState","isLoading","setIsLoading","syllabusList","setSyllabusList","history","useHistory","syllabusId","setSyllabusId","isOpenPreviewPdf","setIsOpenPreviewPdf","toggle","useEffect","a","syllabusAPI","getAll","results","contents","handleClickSyllabus","id","push","RoutesString","ADMIN_SYLLABUS_DETAILS","replace","toast","error","titleList","title","i18n","field","handle","actionTitle","item","className","data","isOpen","style","width","maxWidth","url","CONFIG","API","EXPORT_SYLLABUS","queryString","stringify","TableBasic","bordered","map","index","scope","titleItem","lodash","color","size","onClick","filter","query","limit","page","SYLLABUS","axiosClient","get","getById","ViewFilePdf","scrollModePluginInstance","scrollModePlugin","zoomPluginInstance","zoomPlugin","CurrentScale","ZoomInButton","ZoomOutButton","getFilePluginInstance","getFilePlugin","fileNameGenerator","file","name","DownloadButton","border","display","flexDirection","height","alignItems","backgroundColor","borderBottom","padding","marginLeft","workerUrl","fileUrl","renderError","justifyContent","borderRadius","plugins"],"mappings":"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","file":"static/js/54.4dcbca98.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport TableBasic from \"components/common/TableBasic/TableBasic\";\r\nimport Loading from \"components/common/loading/Loading\";\r\nimport syllabusAPI from \"api/admin/syllabus.api\";\r\nimport { useHistory } from \"react-router\";\r\nimport { RoutesString } from \"pages/routesString\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport i18n from \"i18n/i18n\";\r\nimport { Modal, ModalHeader } from \"reactstrap\";\r\nimport ViewFilePdf from \"components/ViewFilePdf/ViewFilePdf\";\r\nimport queryString from \"query-string\";\r\nimport CONFIG from \"config/config\";\r\n\r\nconst SyllabusList = (props) => {\r\n    const { t } = useTranslation();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [syllabusList, setSyllabusList] = useState([]);\r\n    const history = useHistory();\r\n    const [syllabusId, setSyllabusId] = useState(null);\r\n    const [isOpenPreviewPdf, setIsOpenPreviewPdf] = useState(false);\r\n\r\n    const toggle = () => setIsOpenPreviewPdf(!isOpenPreviewPdf);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            setIsLoading(true);\r\n            const results = await syllabusAPI.getAll();\r\n            setSyllabusList(results?.contents);\r\n            setIsLoading(false);\r\n        })();\r\n    }, []);\r\n    const handleClickSyllabus = async ({ id = \"\" }) => {\r\n        if (id) {\r\n            history.push(\r\n                RoutesString.ADMIN_SYLLABUS_DETAILS.replace(\":id\", id)\r\n            );\r\n        } else {\r\n            toast.error(t('RESPONSE_MESSAGE404'));\r\n        }\r\n    };\r\n    const titleList = [\r\n        { title: i18n.t(\"syllabus.CODE\"), field: \"monHoc.ma\" },\r\n        { title: i18n.t(\"syllabus.NAME\"), field: \"monHoc.tenTiengViet\" },\r\n        { title: i18n.t(\"PROGRAM_NAME\"), field: \"heDaoTao.ten\" },\r\n        { title: i18n.t(\"syllabus.SCHOLASTIC\"), field: \"namHoc.ten\" },\r\n        { title: \"Action\", handle: handleClickSyllabus },\r\n        {\r\n            title: \"Action#2\",\r\n            actionTitle: \"Preview Syllabus\",\r\n            handle: (item) => {\r\n                setSyllabusId(item?.id);\r\n                setIsOpenPreviewPdf(true);\r\n            },\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"view__syllabus__wrapper\">\r\n            <div className=\"view__syllabus__body\">\r\n                <div className=\"view__syllabus__top\">\r\n                    <h4>{t(\"syllabus.LIST_SYLLABUS\") || \"List syllabus\"}</h4>\r\n                </div>\r\n                <div className=\"view__syllabus__content\">\r\n                    {isLoading ? (\r\n                        <div className=\"loading\">\r\n                            <Loading />\r\n                        </div>\r\n                    ) : (\r\n                        <TableBasic\r\n                            titleList={titleList}\r\n                            data={syllabusList}\r\n                            actionTitle={`${\r\n                                t(\"syllabus.VIEW_DETAIL\") || \"View detail\"\r\n                            }`}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <div className=\"view-pdf\">\r\n                    <Modal\r\n                        className=\"overlay-pdf\"\r\n                        // size=\"lg\"\r\n                        isOpen={isOpenPreviewPdf}\r\n                        toggle={toggle}\r\n                        style={{width: \"80%\",maxWidth: \"none\"}}\r\n                    >\r\n                        <ModalHeader toggle={toggle}>SYLLABUS</ModalHeader>\r\n                        <ViewFilePdf\r\n                            url={`${\r\n                                CONFIG.API.EXPORT_SYLLABUS\r\n                            }?${queryString.stringify({\r\n                                syllabusId: syllabusId,\r\n                            })}`}\r\n                        />\r\n                    </Modal>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SyllabusList;\r\n","import React from \"react\";\r\nimport { Table, Button } from \"reactstrap\";\r\nimport * as lodash from \"lodash\";\r\nimport i18n from \"i18n/i18n\";\r\n\r\nconst TableBasic = ({ titleList = [], data = [], actionTitle = \"\" }) => {\r\n    return (\r\n        <div>\r\n            <Table bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <th>STT</th>\r\n                        {titleList?.map((item, index) => (\r\n                            <th key={index}>{item?.title}</th>\r\n                        ))}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {data?.map((item, index) => (\r\n                        <tr key={index}>\r\n                            <th scope=\"row\">{index}</th>\r\n                            {titleList?.map((titleItem) => (\r\n                                <td key={`${index}-${titleItem?.field}`}>\r\n                                    {titleItem?.field ? (\r\n                                        lodash.get(item, titleItem?.field, \"\")\r\n                                    ) : (\r\n                                        <Button\r\n                                            color=\"primary\"\r\n                                            size=\"sm\"\r\n                                            onClick={() =>\r\n                                                titleItem?.handle({\r\n                                                    ...item,\r\n                                                })\r\n                                            }\r\n                                        >\r\n                                            {titleItem?.actionTitle ||\r\n                                                i18n.t(\r\n                                                    actionTitle || \"PREVIEW_PDF\"\r\n                                                )}\r\n                                        </Button>\r\n                                    )}\r\n                                </td>\r\n                            ))}\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TableBasic;\r\n","import axiosClient from \"api/common/axiosClient\";\nimport CONFIG from \"config/config\";\nimport queryString from \"query-string\";\nimport { toast } from \"react-toastify\";\nimport i18n from \"i18n/i18n\";\n\nconst syllabusAPI = {\n  getAll: async (filter = {}) => {\n    const query = queryString.stringify({ limit:-1,page:0,...filter });\n    try {\n      const url = `${CONFIG.API.SYLLABUS}?${query}`;\n      return await axiosClient.get(url);\n    } catch (error) {\n      toast.error(i18n.t(\"ERROR\"));\n    }\n  },\n  getById: async (id = \"\") => {\n    try {\n      if (id) {\n        const url = `${CONFIG.API.SYLLABUS}/${id}`;\n        return await axiosClient.get(url);\n      }\n      toast.error(i18n.t('syllabus.SYLLABUS_INVALID'));\n    } catch (error) {\n      toast.error(i18n.t(\"ERROR\"));\n    }\n  },\n};\n\nexport default syllabusAPI;\n","import React from \"react\";\nimport { Viewer, Worker } from \"@react-pdf-viewer/core\";\nimport { scrollModePlugin } from \"@react-pdf-viewer/scroll-mode\";\nimport { getFilePlugin } from \"@react-pdf-viewer/get-file\";\nimport { zoomPlugin } from \"@react-pdf-viewer/zoom\";\nimport i18n from \"i18n/i18n\";\n// Import styles\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\nimport \"@react-pdf-viewer/scroll-mode/lib/styles/index.css\";\nimport \"@react-pdf-viewer/zoom/lib/styles/index.css\";\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\n\nconst ViewFilePdf = ({ url }) => {\n  const scrollModePluginInstance = scrollModePlugin();\n  const zoomPluginInstance = zoomPlugin();\n  const { CurrentScale, ZoomInButton, ZoomOutButton } = zoomPluginInstance;\n  const getFilePluginInstance = getFilePlugin({\n    fileNameGenerator: (file) => {\n      return file?.name;\n    },\n  });\n  const { DownloadButton } = getFilePluginInstance;\n  const renderError = () => {\n    return (\n      <div\n        style={{\n          alignItems: \"center\",\n          border: \"1px solid rgba(0, 0, 0, 0.3)\",\n          display: \"flex\",\n          height: \"100%\",\n          justifyContent: \"center\",\n          padding: \"1.5rem\",\n        }}\n      >\n        <div\n          style={{\n            backgroundColor: \"#e53e3e\",\n            borderRadius: \"0.25rem\",\n            color: \"#fff\",\n            padding: \"0.5rem\",\n          }}\n        >\n          {i18n.t(\"ERROR_LOAD_DOCUMENT_PDF\")}\n        </div>\n      </div>\n    );\n  };\n  return (\n    <>\n      <div\n        className=\"tools\"\n        style={{\n          border: \"1px solid rgba(0, 0, 0, 0.3)\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          height: \"100%\",\n        }}\n      >\n        <div\n          className=\"btn-download\"\n          style={{\n            alignItems: \"center\",\n            backgroundColor: \"#eeeeee\",\n            borderBottom: \"1px solid rgba(0, 0, 0, 0.1)\",\n            display: \"flex\",\n            padding: \"4px\",\n          }}\n        >\n          <DownloadButton />\n          <div style={{ padding: \"0px 2px\", marginLeft: \"auto\" }}>\n            <ZoomOutButton />\n          </div>\n          <div style={{ padding: \"0px 2px\" }}>\n            <CurrentScale />\n          </div>\n          <div style={{ padding: \"0px 2px\" }}>\n            <ZoomInButton />\n          </div>\n        </div>\n      </div>\n      <Worker workerUrl=\"https://unpkg.com/pdfjs-dist@2.6.347/build/pdf.worker.js\">\n        <Viewer\n          fileUrl={`${url}`}\n          renderError={renderError}\n          plugins={[\n            scrollModePluginInstance,\n            getFilePluginInstance,\n            zoomPluginInstance,\n          ]}\n        />\n      </Worker>\n    </>\n  );\n};\n\nexport default ViewFilePdf;\n"],"sourceRoot":""}