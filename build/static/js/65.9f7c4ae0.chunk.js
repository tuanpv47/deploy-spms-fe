(this["webpackJsonpspms-fe"]=this["webpackJsonpspms-fe"]||[]).push([[65],{1006:function(e,t,n){},1007:function(e,t,n){},615:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(13),o=n.n(r),s=n(19),c=n(15),i=n(2),l=n(104),d=n(12),u=n(53),j=n.n(u),O=n(653),E=n(654),h=n(17),v=(n(1006),n(650));n(1007);function b(e){var t=e.headerTitle;return Object(a.jsx)("div",{className:"page-header",children:Object(a.jsx)("div",{className:"d-flex flex-wrap justify-content-between",children:Object(a.jsx)("h1",{children:t.toUpperCase()})})})}var p=n(673),g=n(761),m=n(61),S=n(270),x=n(80),f=n(273),_=n(271),T=n(272),D=n(130),N=n(222),R=n(182),A=n(67),y=n(651),I=n(192),P=n(62),M=n(6),G=n(26),L=n(105),C=Object(O.d)({mapPropsToValues:function(){return{maNganhDaoTao:"",ten:"",chuongTrinhDaoTao:null}},enableReinitialize:!0,validationSchema:E.b().shape({maNganhDaoTao:E.c().required(d.a.t("REQUIRED_FIELD_WARNING")),ten:E.c().required(d.a.t("REQUIRED_FIELD_WARNING"))})})((function(e){var t=e.values,n=e.handleChange,r=e.resetForm,d=e.errors,u=Object(l.a)().t,O=Object(h.g)(),E=Object(i.useState)(null),C=Object(c.a)(E,2),k=C[0],w=C[1],B=Object(i.useState)(!1),U=Object(c.a)(B,2),F=U[0],J=U[1],H=Object(i.useState)({color:"danger",isOpen:!1,messages:[]}),K=Object(c.a)(H,2),W=K[0],q=K[1],V=Object(i.useState)(!1),Y=Object(c.a)(V,2),z=Y[0],Q=Y[1],X=Object(i.useState)([{id:"",ten:"",maCTDT:""}]),Z=Object(c.a)(X,2),$=Z[0],ee=Z[1];u("admin.common.DELETED"),u("admin.common.AVAILABLE");Object(i.useEffect)(Object(s.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=j.a.parse(window.location.search)).id){e.next=7;break}w(t.id),J(!0),te(t.id),e.next=11;break;case 7:return e.next=9,g.a.getAll();case 9:(n=e.sent)&&ee(n.contents);case 11:case"end":return e.stop()}}),e)}))),[]);var te=function(){var e=Object(s.a)(o.a.mark((function e(n){var a,r,s,c,i,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.prev=1,e.next=4,p.a.getById(n);case 4:return(a=e.sent)&&(t.maNganhDaoTao=a.maNganhDaoTao,t.ten=a.ten,t.chuongTrinhDaoTao=a.chuongTrinhDaoTao.id),e.next=8,g.a.getAll();case 8:(r=e.sent)&&ee(r.contents),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response&&(403===(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.status)||401===(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)?G.b.error(u("RESPONSE_MESSAGE401")):400===(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.status)?G.b.error(u("RESPONSE_MESSAGE400")):409===(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.status)?G.b.error(u("RESPONSE_MESSAGE409")):404===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d?void 0:d.status)?G.b.error(u("RESPONSE_MESSAGE404")):G.b.error(u("RESPONSE_MESSAGE500")));case 15:Q(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){q({color:"success",isOpen:!1,messages:[]})},ae=function(){var e=Object(s.a)(o.a.mark((function e(n){var a,r,s,c,i,l,d,j,O,E,h,v,b,g,m,S,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),ne(),e.prev=2,(a={}).maNganhDaoTao=t.maNganhDaoTao,a.ten=t.ten,a.chuongTrinhDaoTao=parseInt(t.chuongTrinhDaoTao,10),!F){e.next=14;break}return e.next=10,p.a.putById(k,a);case 10:e.sent&&(G.b.success(u("admin.UPDATE_SUCCESS")),te(k)),e.next=28;break;case 14:e.t0=o.a.keys(a);case 15:if((e.t1=e.t0()).done){e.next=24;break}if(r=e.t1.value,!Object.hasOwnProperty.call(a,r)){e.next=22;break}if(""!==(s=a[r])&&null!==s){e.next=22;break}return q({color:"danger",isOpen:!0,messages:[u("nganhdaotao.DATA_MISSING")]}),e.abrupt("return");case 22:e.next=15;break;case 24:return e.next=26,p.a.post(a);case 26:e.sent&&q({color:"success",isOpen:!0,messages:[u("admin.ADD_SUCCESS")]});case 28:e.next=33;break;case 30:e.prev=30,e.t2=e.catch(2),(null===e.t2||void 0===e.t2?void 0:e.t2.response)&&(403===(null===e.t2||void 0===e.t2||null===(c=e.t2.response)||void 0===c?void 0:c.status)||401===(null===e.t2||void 0===e.t2||null===(i=e.t2.response)||void 0===i?void 0:i.status)?G.b.error(u("RESPONSE_MESSAGE401")):400===(null===e.t2||void 0===e.t2||null===(l=e.t2.response)||void 0===l?void 0:l.status)?G.b.error(u("RESPONSE_MESSAGE400")):409===(null===e.t2||void 0===e.t2||null===(d=e.t2.response)||void 0===d?void 0:d.status)?G.b.error(u("RESPONSE_MESSAGE409")):404===(null===e.t2||void 0===e.t2||null===(j=e.t2.response)||void 0===j?void 0:j.status)?G.b.error(u("RESPONSE_MESSAGE404")):(null===(O=String(null===e.t2||void 0===e.t2||null===(E=e.t2.response)||void 0===E||null===(h=E.data)||void 0===h?void 0:h.error))||void 0===O?void 0:O.includes("ER_DUP_ENTRY"))?G.b.error(u("ER_DUP_ENTRY")):(null===(v=String(null===e.t2||void 0===e.t2||null===(b=e.t2.response)||void 0===b||null===(g=b.data)||void 0===g?void 0:g.error))||void 0===v?void 0:v.includes("NGANHDAOTAO_NAME_EXIST"))?G.b.error(u("nganhdaotao.NGANHDAOTAO_NAME_EXIST")):(null===(m=String(null===e.t2||void 0===e.t2||null===(S=e.t2.response)||void 0===S||null===(x=S.data)||void 0===x?void 0:x.error))||void 0===m?void 0:m.includes("ID_NOT_FOUND"))?G.b.error(u("RESPONSE_MESSAGE404")):G.b.error(u("RESPONSE_MESSAGE500")));case 33:case"end":return e.stop()}}),e,null,[[2,30]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a,r,s,c,i,l,d,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),ne(),e.prev=2,e.next=5,p.a.deleteById(k);case 5:(n=e.sent)&&("DELETE_NGANHDAOTAO_SUCCESSFULLY"===n.message?(G.b.success(u("admin.common.DELETED")),O.push(M.b.ADMIN_TRAINING_MAJOR_LIST)):q({color:"danger",isOpen:!0,messages:[u("ERROR")]})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&(403===(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)||401===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)?G.b.error(u("DELETE_ERROR")+": "+u("RESPONSE_MESSAGE401")):400===(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.status)?G.b.error(u("DELETE_ERROR")+": "+u("RESPONSE_MESSAGE400")):409===(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)?G.b.error(u("DELETE_ERROR")+": "+u("RESPONSE_MESSAGE409")):404===(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.status)?G.b.error(u("DELETE_ERROR")+": "+u("RESPONSE_MESSAGE404")):(null===(l=String(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(j=d.data)||void 0===j?void 0:j.error))||void 0===l?void 0:l.includes("ID_NOT_FOUND"))?G.b.error(u("RESPONSE_MESSAGE404")):G.b.error(u("DELETE_ERROR")+": "+u("RESPONSE_MESSAGE500")));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"page",children:[z&&Object(a.jsx)(P.a,{}),Object(a.jsx)(v.a,{currentItem:u(F?"admin.training_major_edit.UPDATE":"admin.training_major_edit.ADD"),items:[{href:M.b.ADMIN_TRAINING_MAJOR_LIST,title:u("admin.training_major_list.LIST")}]}),Object(a.jsx)(b,{headerTitle:u(F?"admin.training_major_edit.UPDATE":"admin.training_major_edit.ADD")}),Object(a.jsx)("div",{className:"page-content",children:Object(a.jsxs)(S.a,{children:[Object(a.jsx)(I.a,{color:W.color,isOpen:W.isOpen,messages:W.messages}),Object(a.jsxs)(x.a,{className:"row",children:[Object(a.jsxs)(f.a,{for:"value",className:"col-lg-3",children:[u("admin.training_major_edit.CODE")," ",Object(a.jsx)(y.a,{})]}),Object(a.jsxs)("div",{className:"col-lg-6",children:[Object(a.jsxs)(_.a,{children:[Object(a.jsx)(T.a,{addonType:"prepend",children:Object(a.jsx)(D.a,{children:Object(a.jsx)(m.V,{})})}),Object(a.jsx)(N.a,{type:"text",name:"maNganhDaoTao",placeholder:u("admin.training_major_edit.CODE_PLACEHOLDER"),value:t.maNganhDaoTao,onChange:n,invalid:d.maNganhDaoTao,readOnly:F,required:!0})]}),d.maNganhDaoTao&&Object(a.jsx)(R.a,{color:"danger",children:d.maNganhDaoTao})]})]})," ",Object(a.jsx)("br",{}),Object(a.jsxs)(x.a,{className:"row",children:[Object(a.jsxs)(f.a,{for:"name",className:"col-lg-3",children:[u("admin.training_major_list.NAME")," ",Object(a.jsx)(y.a,{})]}),Object(a.jsxs)("div",{className:"col-lg-6",children:[Object(a.jsxs)(_.a,{children:[Object(a.jsx)(T.a,{addonType:"prepend",children:Object(a.jsx)(D.a,{children:Object(a.jsx)(m.P,{})})}),Object(a.jsx)(N.a,{type:"text",name:"ten",placeholder:u("admin.training_major_edit.NAME_PLACEHOLDER"),value:t.ten,onChange:n,invalid:d.ten})]}),d.ten&&Object(a.jsx)(R.a,{color:"danger",children:d.ten})]})]})," ",Object(a.jsx)("br",{}),Object(a.jsxs)(x.a,{className:"row",children:[Object(a.jsxs)(f.a,{for:"name",className:"col-lg-3",children:[u("admin.training_major_list.PROGRAM")," ",Object(a.jsx)(y.a,{})]}),Object(a.jsxs)("div",{className:"col-lg-6",children:[Object(a.jsxs)(_.a,{children:[Object(a.jsx)(T.a,{addonType:"prepend",children:Object(a.jsx)(D.a,{children:Object(a.jsx)(m.P,{})})}),Object(a.jsxs)(N.a,{type:"select",name:"chuongTrinhDaoTao",value:t.chuongTrinhDaoTao,onChange:n,children:[Object(a.jsx)("option",{value:0,children:u("admin.training_major_edit.PROGRAM_PLACEHOLDER")},1),$.length>0&&$.map((function(e,t){return Object(a.jsxs)("option",{value:e.id,children:[u("admin.training_major_list.PROGRAM_CODE"),": ",e.maCTDT,"\u2002","/","\u2002",u("admin.training_major_list.PROGRAM_NAME"),": ",e.ten]},t+1)}))]})]}),d.chuongTrinhDaoTao&&Object(a.jsx)(R.a,{color:"danger",children:d.chuongTrinhDaoTao})]})]})," ",Object(a.jsx)("br",{}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(A.a,{color:"success",onClick:ae,disabled:Object(L.b)(d),children:F?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.o,{})," ",u("admin.common.UPDATE")]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.z,{})," ",u("admin.common.ADD")]})}),"\u2003",F&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(A.a,{onClick:function(e){e.preventDefault(),q({color:"success",isOpen:!1,messages:[]}),r()},children:[Object(a.jsx)(m.M,{})," ",u("admin.common.REFRESH")]}),"\u2003",Object(a.jsxs)(A.a,{color:"danger",onClick:re,children:[Object(a.jsx)(m.R,{})," ",u("admin.common.DELETE")]})]})]})]})})]})}));t.default=C},650:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),r=(n(2),n(69)),o=n(259),s=n(260),c=n(61),i=n(6);function l(e){var t=e.items,n=e.currentItem;return Object(a.jsxs)(o.a,{children:[Object(a.jsx)(s.a,{active:!n,children:Object(a.jsx)(r.b,{to:i.b.WELCOME,children:Object(a.jsx)(c.s,{})})}),t&&t.map((function(e){var t=e.href,n=e.title;return Object(a.jsx)(s.a,{children:Object(a.jsx)(r.b,{to:t,children:n})})})),n&&Object(a.jsx)(s.a,{active:!0,children:n})]})}},651:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3);n(2);function r(){return Object(a.jsx)("span",{style:{color:"red"},children:"(*)"})}},673:function(e,t,n){"use strict";var a=n(14),r=n(22),o=n(53),s=n.n(o),c="nganh-dao-tao";t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.a.stringify(Object(a.a)({limit:-1,page:0},e)),n="".concat(c,"?").concat(t);return r.a.get(n)},getList:function(e){var t="".concat(c,"?page=").concat(e.page-1);return e.limit&&(t+="&limit=".concat(e.limit)),e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&searchKey=".concat(e.searchKey)),null!==e.filter.chuongTrinhDaoTao&&(t+="&chuongTrinhDaoTao=".concat(e.filter.chuongTrinhDaoTao)),r.a.get(t)},getById:function(e){var t="".concat(c,"/").concat(e);return r.a.get(t)},post:function(e){var t="".concat(c);return r.a.post(t,JSON.stringify(e))},putById:function(e,t){var n="".concat(c,"/").concat(e);return r.a.put(n,JSON.stringify(t))},deleteById:function(e){var t="".concat(c,"/").concat(e);return r.a.delete(t)},getWithFilter:function(e){var t=s.a.stringify(Object(a.a)({},e)),n="nganh-dao-tao?".concat(t);return r.a.get(n)}}},761:function(e,t,n){"use strict";var a=n(14),r=n(22),o=n(53),s=n.n(o);t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.a.stringify(Object(a.a)({limit:-1,page:0},e)),n="chuong-trinh-dao-tao?".concat(t);return r.a.get(n)},getList:function(e){var t="chuong-trinh-dao-tao?page=".concat(e.page-1,"&limit=").concat(e.limit);return e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&search=".concat(e.searchKey)),null!==e.filter.isDeleted&&(t+="&isDeleted=".concat(e.filter.isDeleted)),r.a.get(t)},getById:function(e){var t="chuong-trinh-dao-tao/".concat(e);return r.a.get(t)},post:function(e){return r.a.post("chuong-trinh-dao-tao",JSON.stringify(e))},putById:function(e,t){var n="chuong-trinh-dao-tao/".concat(e);return r.a.put(n,JSON.stringify(t))},deleteById:function(e){var t="chuong-trinh-dao-tao/".concat(e);return r.a.delete(t)}}}}]);
//# sourceMappingURL=65.9f7c4ae0.chunk.js.map