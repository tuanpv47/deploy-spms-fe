(this["webpackJsonpspms-fe"]=this["webpackJsonpspms-fe"]||[]).push([[79],{1183:function(e,t,n){},628:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var c=n(3),a=n(13),r=n.n(a),o=n(19),s=n(15),i=n(2),l=n(104),u=n(17),d=n(61),j=n(26),p=n(270),b=n(80),O=n(273),v=n(271),h=n(272),f=n(130),m=n(222),g=n(67),x=n(653),y=(n(1183),n(6)),S=n(667),E=n(697),N=n(14),T=n(22),H=n(53),A=n.n(H),_="he-dao-tao",B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=A.a.stringify(Object(N.a)({limit:-1,page:0},e)),n="".concat(_,"?").concat(t);return T.a.get(n)},R=n(664),w=n(62);function D(){var e=Object(l.a)().t,t=Object(u.g)(),n=Object(i.useState)({monHoc:"",namHoc:"",heDaoTao:""}),a=Object(s.a)(n,2),N=a[0],T=a[1],H=Object(i.useState)(!1),A=Object(s.a)(H,2),_=A[0],D=A[1],I=Object(i.useState)([]),M=Object(s.a)(I,2),k=M[0],P=M[1],C=Object(i.useState)([]),G=Object(s.a)(C,2),J=G[0],K=G[1],L=Object(i.useState)([]),U=Object(s.a)(L,2),Y=U[0],z=U[1];Object(i.useEffect)(Object(o.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,S.a.getAll();case 4:return t=e.sent,e.next=7,E.a.getAll();case 7:return n=e.sent,e.next=10,B();case 10:c=e.sent,P(t.contents),K(n.contents),z(c.contents),T({monHoc:t.contents[0].id,namHoc:n.contents[0].id,heDaoTao:c.contents[0].id}),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(1);case 19:return e.prev=19,D(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,17,19,22]])}))),[]);var V=function(){var n=Object(o.a)(r.a.mark((function n(c){var a,o,s,i,l,u,d,p;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return D(!0),n.prev=1,a={monHoc:parseInt(c.monHoc),namHoc:parseInt(c.namHoc),heDaoTao:parseInt(c.heDaoTao),moTa:"",taiNguyen:"",quiDinh:""},n.next=5,R.a.post(a);case 5:o=n.sent,t.push("".concat(y.b.ADMIN_SYLLABUS_UPDATE,"?id=").concat(o.id)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),n.t0.response&&(403===(null===n.t0||void 0===n.t0||null===(s=n.t0.response)||void 0===s?void 0:s.status)||"NOT_OWNER"===String(null===n.t0||void 0===n.t0||null===(i=n.t0.response)||void 0===i?void 0:i.message)?j.b.error(e("RESPONSE_MESSAGE403")):401===(null===n.t0||void 0===n.t0||null===(l=n.t0.response)||void 0===l?void 0:l.status)?j.b.error(e("RESPONSE_MESSAGE401")):400===(null===n.t0||void 0===n.t0||null===(u=n.t0.response)||void 0===u?void 0:u.status)?j.b.error(e("RESPONSE_MESSAGE400")):409===(null===n.t0||void 0===n.t0||null===(d=n.t0.response)||void 0===d?void 0:d.status)?j.b.error(e("RESPONSE_MESSAGE409")):404===(null===n.t0||void 0===n.t0||null===(p=n.t0.response)||void 0===p?void 0:p.status)?j.b.error(e("RESPONSE_MESSAGE404")):j.b.error(e("RESPONSE_MESSAGE500")));case 12:return n.prev=12,D(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,9,12,15]])})));return function(e){return n.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"page",children:[_&&Object(c.jsx)(w.a,{}),Object(c.jsx)("div",{className:"page-content",children:Object(c.jsx)(x.c,{initialValues:N,enableReinitialize:!0,children:function(t){var n=t.values,a=t.handleChange;return Object(c.jsxs)(p.a,{children:[Object(c.jsxs)(b.a,{className:"row",children:[Object(c.jsx)(O.a,{for:"monHoc",className:"col-lg-3",children:e("admin.syllabus_generate.SUBJECT")}),Object(c.jsx)("div",{className:"col-lg-9",children:Object(c.jsxs)(v.a,{children:[Object(c.jsx)(h.a,{addonType:"prepend",children:Object(c.jsx)(f.a,{children:Object(c.jsx)(d.d,{})})}),Object(c.jsx)(m.a,{type:"select",name:"monHoc",value:n.monHoc,onChange:a,children:k&&k.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.tenTiengViet},t)}))})]})})]})," ",Object(c.jsx)("br",{}),Object(c.jsxs)(b.a,{className:"row",children:[Object(c.jsx)(O.a,{for:"namHoc",className:"col-lg-3",children:e("admin.syllabus_generate.SCHOOL_YEAR")}),Object(c.jsx)("div",{className:"col-lg-9",children:Object(c.jsxs)(v.a,{children:[Object(c.jsx)(h.a,{addonType:"prepend",children:Object(c.jsx)(f.a,{children:Object(c.jsx)(d.g,{})})}),Object(c.jsx)(m.a,{type:"select",name:"namHoc",value:n.namHoc,onChange:a,children:J&&J.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.ten},t)}))})]})})]})," ",Object(c.jsx)("br",{}),Object(c.jsxs)(b.a,{className:"row",children:[Object(c.jsx)(O.a,{for:"heDaoTao",className:"col-lg-3",children:e("admin.syllabus_generate.TRAINING_TYPE")}),Object(c.jsx)("div",{className:"col-lg-9",children:Object(c.jsxs)(v.a,{children:[Object(c.jsx)(h.a,{addonType:"prepend",children:Object(c.jsx)(f.a,{children:Object(c.jsx)(d.k,{})})}),Object(c.jsx)(m.a,{type:"select",name:"heDaoTao",value:n.heDaoTao,onChange:a,children:Y&&Y.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.ten},t)}))})]})})]})," ",Object(c.jsx)("br",{}),Object(c.jsx)(b.a,{children:Object(c.jsxs)(g.a,{color:"success",onClick:function(){return V(n)},children:[Object(c.jsx)(d.z,{})," ",e("admin.common.GENERATE")]})})]})}})})]})}},664:function(e,t,n){"use strict";var c=n(14),a=n(22),r=n(53),o=n.n(r),s="syllabus";t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.a.stringify(Object(c.a)({limit:-1,page:0},e)),n="".concat(s,"?").concat(t);return a.a.get(n)},getById:function(e){var t="".concat(s,"/").concat(e);return a.a.get(t)},post:function(e){var t="".concat(s);return a.a.post(t,JSON.stringify(e))},putById:function(e,t){var n="".concat(s,"/").concat(e);return a.a.put(n,JSON.stringify(t))},getList:function(e){var t="".concat(s,"?page=").concat(e.page-1);return e.limit&&(t+="&limit=".concat(e.limit)),e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&searchKey=".concat(e.searchKey)),e.filter.idMonHoc&&(t+="&idMonHoc=".concat(e.filter.idMonHoc)),null!==e.filter.idHeDaoTao&&(t+="&idHeDaoTao=".concat(e.filter.idHeDaoTao)),null!==e.filter.idNamHoc&&(t+="&idNamHoc=".concat(e.filter.idNamHoc)),a.a.get(t)},deleteById:function(e){var t="".concat(s,"/").concat(e);return a.a.delete(t)}}},667:function(e,t,n){"use strict";var c=n(13),a=n.n(c),r=n(19),o=n(14),s=n(22),i=n(53),l=n.n(i),u="mon-hoc";t.a={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.a.stringify(Object(o.a)({limit:-1,page:0},e)),n="".concat(u,"?").concat(t);return s.a.get(n)},getList:function(e){var t="".concat(u,"?page=").concat(e.page-1);return e.limit&&(t+="&limit=".concat(e.limit)),e.sorter.sortBy&&e.sorter.sortType&&(t+="&sortBy=".concat(e.sorter.sortBy,"&sortType=").concat(e.sorter.sortType)),e.searchKey&&(t+="&searchKey=".concat(e.searchKey)),s.a.get(t)},getById:function(e){var t="".concat(u,"/").concat(e);return s.a.get(t)},post:function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u),e.next=3,s.a.post(n,JSON.stringify(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),putById:function(e,t){var n="".concat(u,"/").concat(e);return s.a.put(n,JSON.stringify(t))},deleteById:function(e){var t="".concat(u,"/").concat(e);return s.a.delete(t)},deleteMultiple:function(e){var t="".concat(u,"?ids=").concat(e);return s.a.delete(t)},deleteAll:function(){var e="".concat(u,"/delete/all");return s.a.delete(e)}}},697:function(e,t,n){"use strict";var c=n(13),a=n.n(c),r=n(14),o=n(19),s=n(22),i=n(39),l=n(12),u=n(53),d=n.n(u),j=n(26);t.a={getAll:function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,c,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=d.a.stringify(Object(r.a)({limit:-1,page:0},t)),e.prev=2,c="".concat(i.a.API.NAM_HOC,"?").concat(n),e.next=6,s.a.get(c);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(2),j.b.error(l.a.t("ERROR"));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=79.c7e311d6.chunk.js.map