{"version":3,"sources":["../node_modules/react-ace-builds/lib/index.js","../node_modules/react-ace-builds/lib/ace.js","../node_modules/ace-builds/src-noconflict/ext-split.js","../node_modules/lodash.get/index.js","../node_modules/react-ace-builds/lib/diff.js","../node_modules/diff-match-patch/index.js","../node_modules/ace-builds/src-noconflict/ace.js","../node_modules/webpack/buildin/amd-define.js","../node_modules/lodash.isequal/index.js","../node_modules/react-ace-builds/lib/editorOptions.js","../node_modules/react-ace-builds/lib/split.js"],"names":["Object","defineProperty","exports","value","enumerable","get","_split","_diff","_ace","_interopRequireDefault","require","obj","__esModule","_default","_aceBuilds","_interopRequireWildcard","_react","_propTypes","_lodash","_editorOptions","_getRequireWildcardCache","WeakMap","cache","_typeof","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Symbol","iterator","constructor","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","push","apply","_defineProperty","configurable","writable","_defineProperties","target","props","i","length","descriptor","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","ReactAce","_Component","_this","instance","Constructor","TypeError","_classCallCheck","this","_possibleConstructorReturn","editorEvents","forEach","method","bind","debounce","protoProps","staticProps","subClass","superClass","create","_inherits","_this2","_this$props","className","onBeforeLoad","onValidate","mode","focus","theme","fontSize","defaultValue","cursorStart","showGutter","wrapEnabled","showPrintMargin","_this$props$scrollMar","scrollMargin","keyboardHandler","onLoad","commands","annotations","markers","editor","edit","refEditor","editorProps","debounceChangePeriod","onChange","renderer","setScrollMargin","getSession","setMode","concat","setTheme","setFontSize","setValue","navigateFileEnd","setShowGutter","setUseWrapMode","setShowPrintMargin","on","onFocus","onBlur","onCopy","onPaste","onInput","selection","onSelectionChange","onCursorChange","getAnnotations","session","onScroll","setAnnotations","handleMarkers","availableOptions","$options","_i","editorOptions","option","setOption","console","warn","handleOptions","Array","isArray","command","exec","bindKey","addCommand","setKeyboardHandler","resize","prevProps","oldProps","nextProps","appliedClassesArray","trim","split","oldClass","index","indexOf","splice","join","getValue","silent","pos","toJSON","fromJSON","setOptions","handleScrollMargins","height","width","margins","arguments","undefined","setScrollMargins","destroy","event","getSelection","text","y","_this3","currentMarkers","getMarkers","removeMarker","id","_i2","_ref","startRow","startCol","endRow","endCol","type","_ref$inFront","inFront","range","Range","addMarker","item","_this$props2","name","divStyle","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","style","createElement","ref","updateRef","Component","propTypes","string","bool","oneOfType","number","func","minLines","maxLines","readOnly","highlightActiveLine","tabSize","array","enableBasicAutocompletion","enableLiveAutocompletion","defaultProps","ace","define","module","oop","EventEmitter","Editor","Renderer","VirtualRenderer","EditSession","Split","container","splits","BELOW","BESIDE","$container","$theme","$splits","$editorCSS","$editors","$orientation","setSplits","$cEditor","implement","$createEditor","el","document","cssText","appendChild","_emit","$fontSize","removeChild","getSplits","getEditor","idx","getCurrentEditor","blur","keybinding","callback","scope","size","$cloneSession","s","getDocument","getMode","undoManager","getUndoManager","setUndoManager","setTabSize","getTabSize","setUseSoftTabs","getUseSoftTabs","setOverwrite","getOverwrite","setBreakpoints","getBreakpoints","getUseWrapMode","setUseWorker","getUseWorker","setWrapLimitRange","$wrapLimitRange","min","max","$foldData","$cloneFoldData","setSession","some","getOrientation","setOrientation","orientation","clientWidth","clientHeight","editorWidth","top","left","editorHeight","m","HASH_UNDEFINED","funcTag","genTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","reIsHostCtor","freeGlobal","global","freeSelf","root","Function","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","IE_PROTO","funcToString","toString","objectToString","reIsNative","RegExp","replace","Map","getNative","nativeCreate","symbolProto","symbolToString","Hash","entries","clear","entry","ListCache","MapCache","assocIndexOf","other","baseGet","path","isSymbol","test","isKey","stringToPath","toKey","baseIsNative","isObject","tag","isFunction","result","e","isHostObject","toSource","getMapData","map","data","__data__","isKeyable","pop","memoize","baseToString","match","quote","resolver","memoized","args","Cache","isObjectLike","_diffMatchPatch","DiffComponent","dmp","lhString","rhString","diff","diff_main","diff_cleanupSemantic","diffedLines","generateDiffedLines","setCodeMarkers","C","right","cursor","chunk","chunkType","lines","firstChar","lastChar","linesToHighlight","startLine","endLine","Error","codeEditorSettings","newMarkerSet","markerObj","_markerObj","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","Diff","op","text1","text2","opt_checklines","opt_deadline","Number","MAX_VALUE","Date","getTime","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","diff_compute_","unshift","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","a","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","j","text1_length","text2_length","max_d","Math","ceil","v_offset","v_length","v1","v2","x","delta","front","k1start","k1end","k2start","k2end","d","k1","k1_offset","y1","x1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","chars","lineStart","lineEnd","lineArrayLength","line","String","fromCharCode","charCodeAt","pointermin","pointermax","pointermid","pointerstart","floor","pointerend","diff_commonOverlap_","text_length","best","pattern","found","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","tokens","param","decodeURI","ex","n","parseInt","isNaN","match_main","match_bitap_","match_alphabet_","match_bitapScore_","accuracy","proximity","abs","score_threshold","best_loc","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","start","finish","rd","charMatch","patch_addContext_","patch","start2","length1","padding","prefix","suffix","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","shift","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","sign","window","deps","payload","modules","payloads","original","error","trace","_require","parentId","lookup","params","l","dep","packagedModule","normalizeModule","moduleName","chunks","slice","previous","uri","packaged","ns","exportAce","Element","remove","parentNode","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","platform","toLowerCase","ua","userAgent","appName","isWin","isIE","parseFloat","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","MSStream","isMobile","useragent","buildDom","arr","parent","refs","txt","createTextNode","els","ch","options","childIndex","val","setAttribute","getDocumentHead","doc","head","getElementsByTagName","documentElement","createElementNS","removeChildren","element","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","addCssClass","removeCssClass","classes","toggleCssClass","add","setCssClass","node","include","hasCssString","sheets","querySelectorAll","importCssString","getRootNode","insertBefore","firstChild","importCssStylsheet","rel","href","scrollbarWidth","inner","minWidth","display","outer","position","overflow","body","noScrollbar","offsetWidth","withScrollbar","computedStyle","getComputedStyle","setStyle","styles","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","transform","animationName","translate","tx","ty","round","inherits","ctor","superCtor","super_","mixin","proto","Keys","ret","MODIFIER_KEYS","16","17","18","224","91","92","93","KEY_MODS","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","enter","escape","esc","del","mods","pow","keyCodeToString","keyCode","keyString","activeListenerOptions","pressedKeys","ts","getListenerOptions","createComment","addEventListener","passive","detectListenerOptionsSupport","EventListener","elem","removeListener","addListener","destroyer","$toDestroy","removeEventListener","stopEvent","stopPropagation","preventDefault","getButton","ctrlKey","altKey","shiftKey","button","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","wheelDeltaX","wheelX","wheelY","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","timer","clicks","eventNames","2","3","4","onMousedown","isNewClick","clientX","clientY","clearTimeout","setTimeout","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","listener","$idleBlocked","onIdle","cb","timeout","handler","$idleBlockId","blockIdle","delay","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","startColumn","endColumn","row","column","end","isEqual","contains","compare","compareRange","cmp","comparePoint","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","toScreenRange","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","last","stringReverse","reverse","stringRepeat","count","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","deepCopy","arrayToMap","createMap","arrayRemove","escapeRegExp","str","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","deferred","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","$cancelT","lineMode","pasteCancelled","now","dom","lang","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","MAX_LINE_LENGTH","KEYS","MODS","valueResetRegex","TextInput","host","opacity","copied","pasted","inComposition","sendingText","tempStyle","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","hasFocus","resetSelection","$focusScroll","preventScroll","isTransformed","getBoundingClientRect","ancestors","t","parentElement","nodeType","removeAttribute","curOp","commandName","isUserAction","docChanged","selectionChanged","onCompositionEnd","newValue","selectionEnd","setSelectionRange","afterContextMenu","selectionStart","getRange","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onCompositionUpdate","inputType","execCommand","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","context","compositionStartOffset","off","closeTimeout","syncComposition","onContextMenuClose","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","_signal","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","setReadOnly","setCopyWithEmptySelection","onContextMenu","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","bottom","move","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","down","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","anchor","ev","inSelection","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","distance","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","showTooltip","$gutter","MouseEvent","$inSelection","propagationStopped","selectionRange","DragdropHandler","blankImage","src","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","dataTransfer","effectAllowed","getReadOnly","scrollTop","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","insert","types","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","action","getAttribute","selected","hasUndo","replaceChild","class","updateMenu","readText","then","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","scrollLeft","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","onload","_","isAbort","qualifyURL","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","Promise","resolve","handlers","_disabled_","old","disabled","removeDefaultHandler","capturing","removeAllListeners","optionsProvider","optList","getOptions","optionNames","hidden","getOption","opt","forwardTo","handlesSet","message","reportError","msg","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","$moduleUrls","loadWorkerFromBlob","sharedPopups","all","$modes","moduleUrl","component","parts","sep","base","re","setModuleUrl","subst","$loading","loadModule","moduleType","afterLoad","reportErrorIfPathIsNotConfigured","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","attributes","attr","m1","toUpperCase","version","DefaultGutterHandler","config","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","ET","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","len","_getCharClass","ix","wType","nType","cType","c","rtlCandidate","_getCharacterType","uc","L","R","EN","ON_R","AN","R_H","B","RLE","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","$wrapData","indent","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","visualIdx","getSelections","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","isTabStop","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","lastIndex","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","r","getRangeOfMovements","rangeCount","ranges","r1","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","regex","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","values","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","TextHighlightRules","$rules","addRules","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","list","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","$matchTokenType","iterator2","bracket","wordChars","code","unicode","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$id","delegations","functionName","$delegator","language","transformAction","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","meta","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","update","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","b","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","k","restoreRange","Folding","side","getFoldsInRange","foldLines","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","reset","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","$useSoftTabs","$indentWithTabs","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","clearBreakpoints","setBreakpoint","clearBreakpoint","marker","addDynamicMarker","markerId","highlight","$searchHighlight","highlightLines","clearAnnotations","inToken","wordRange","useWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","$scrollTop","setScrollTop","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","useWrapMode","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","find","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","isDefault","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","description","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onScrollTopChange","onScrollLeftChange","updateFull","oldEditor","onResize","getTheme","getFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","getMatching","markerType","$highlightTags","$highlightTagPending","$tagHighlight","currentTag","prevToken","stepCount","tmpToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","reg","wordPairs","negate","firstCondition","res","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","content","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","fontFamily","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","$padding","$computePadding","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","childNodes","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","MAX_SCROLL_H","ScrollBar","classSuffix","setVisible","skipEvent","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","$recursionLimit","_flush","change","CHAR_COUNT","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","sub","m2","ut","u","f","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","$printMarginEl","containerEl","posTop","posLeft","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","newToken","$themeId","cssClass","isDark","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","err","deltaQueue","$doc","cmd","emit","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","alt","ctrl","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","_id","getElementById","env","tagName","oldNode","createEditSession","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsUint","typedArrayTags","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","nodeIsTypedArray","isTypedArray","arraySome","predicate","mapToArray","setToArray","nativeObjectToString","Buffer","Uint8Array","propertyIsEnumerable","symToStringTag","toStringTag","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeKeys","arg","DataView","Set","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolValueOf","valueOf","SetCache","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","eq","baseGetTag","isOwn","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","customizer","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","buffer","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","isMasked","baseKeys","Ctor","isPrototype","arrLength","seen","arrValue","othIndex","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getSymbols","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","ctorString","isLength","baseUnary","fn","_extSplit","_lodash2","SplitComponent","splitEditor","defaultValueForEditor","valueForEditor","newAnnotations","newMarkers","sp","nextValue","oldAnnotations","oldMarkers","arrayOf"],"mappings":"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E,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,KAAK,GAAG,MAAM,GAAG,KAAK,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM,GAAG,GAAG,EAAE,GAAG,KAAK,IAAI,EAAE,GAAG,EAAE,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,GAAG,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAE98DC,EAAO,EACPx4B,EAAM,GACD5/B,EAAI,EAAGA,EAAIm4D,EAAUl4D,OAAQD,GAAK,EACvC4/B,EAAIpgC,KAAK44D,GAAQD,EAAUn4D,IACvBm4D,EAAUn4D,EAAI,IACd4/B,EAAIpgC,KAAK,GAAI44D,GAAQD,EAAUn4D,EAAI,IAG3CnD,EAAQs7D,UAAYp8C,OAAOC,aAAavc,MAAM,KAAMmgC,MAIpD30B,IAAIC,OAAO,gBAAgB,CAAC,UAAU,UAAU,SAAS,aAAa,gBAAgB,gCAAgC,4BAA4B,cAAc,eAAe,qBAAqB,cAAc,SAAS7N,EAASR,EAASsO,GAC7O,aACA,IAAIuyC,EAASrgD,EAAQ,aAEjB4xD,EAAY5xD,EAAQ,gBAAgB4xD,UACpC0C,EAAqBt0D,EAAQ,0BAA0Bs0D,mBACvDuE,EAAkB74D,EAAQ,sBAAsB64D,gBAChDmC,EAAUh7D,EAAQ,cAClB2jC,EAAO3jC,EAAQ,eACf02D,EAAgB12D,EAAQ,qBAAqB02D,cAC7C5qD,EAAQ9L,EAAQ,YAAY8L,MAE5BmvD,EAAO,WACPl3D,KAAK6wD,eAAiBN,IAG1B,WACIvwD,KAAKm3D,kBAAoB,IAAIrC,EAE7B90D,KAAKgsD,QAAU,IAAI97C,OAAO,KAAO+mD,EAAQF,UAAY,SAAU,KAE/D/2D,KAAK8rD,WAAa,IAAI57C,OAAO,SAAW+mD,EAAQF,UAAY,eAAgB,KAE5E/2D,KAAKo3D,aAAe,WAKhB,OAJKp3D,KAAKq3D,aACNr3D,KAAKs3D,gBAAkBt3D,KAAKs3D,iBAAmB,IAAIt3D,KAAK6wD,eAAe7wD,KAAKu3D,sBAC5Ev3D,KAAKq3D,WAAa,IAAIxJ,EAAU7tD,KAAKs3D,gBAAgB3G,aAElD3wD,KAAKq3D,YAGhBr3D,KAAKi2D,iBAAmB,GACxBj2D,KAAKw3D,aAAe,GAEpBx3D,KAAKy3D,mBAAqB,SAASnkB,EAAOxvC,EAASyD,EAAUE,GACzD,IAAIgiB,EAAM3lB,EAAQ2lB,IAEdiuC,GAAmB,EACnBC,GAAe,EACfC,EAAYC,IACZruD,EAAU1F,EAAQ+I,aAClBirD,GAAkB,EAEtB,GAAK93D,KAAKi2D,iBAkCH,CACH,GAAItxD,MAAMC,QAAQ5E,KAAKi2D,kBACf8B,EAAc/3D,KAAKi2D,iBAAiBhkD,IAAI2tB,EAAKrB,cAAc14B,KAAK,KAChEowD,EAAmBj2D,KAAKi2D,iBAAiB,QAEzC8B,EAAcn4B,EAAKrB,aAAav+B,KAAKi2D,kBACrCA,EAAmBj2D,KAAKi2D,iBAEhC8B,EAAc,IAAI7nD,OAAO,aAAe6nD,EAAc,OAEtDD,EAAkBh0D,EAAQiJ,iBAEtBirD,EAAY,SAASt9C,EAAM9b,GAC3B,IAAI4P,EAAIkM,EAAKlI,MAAMulD,GACnB,GAAKvpD,EAAL,CACA,IAAImT,EAAQnT,EAAE,GAAG3P,OAAQs8B,EAAM3sB,EAAE,GAAG3P,OAC/Bo5D,EAAkBv9C,EAAMiH,EAAOwZ,IAAyB,KAAjB3sB,EAAE,GAAG2sB,EAAM,IACnDA,IACJ1R,EAAIi9B,aAAa9nD,EAAG+iB,EAAOwZ,KAN/B,IAQI+8B,EAAmBjC,EAAmB,IAatCgC,GAZAE,EAAU,SAASz9C,EAAM9b,GACpB84D,IAAoB,KAAKtmD,KAAKsJ,KAC3Bu9C,EAAkBv9C,EAAMk9C,EAAWA,GACnCnuC,EAAI2uC,aAAa,CAACn9B,IAAKr8B,EAAGs8B,OAAQ08B,GAAYM,GAE9CzuC,EAAI2uC,aAAa,CAACn9B,IAAKr8B,EAAGs8B,OAAQ08B,GAAY3B,KAGtDoC,EAAa,SAAS39C,EAAM9b,GAC5B,OAAOm5D,EAAY3mD,KAAKsJ,IAGJ,SAASA,EAAM49C,EAAQC,GAE3C,IADA,IAAIC,EAAS,EACNF,KAAmC,KAAvB59C,EAAKjB,OAAO6+C,IAC3BE,IACJ,GAAIA,EAAShvD,GAAW,EACpB,OAAO,EAEX,IADIgvD,EAAS,EACkB,KAAxB99C,EAAKjB,OAAO8+C,MACfC,IACJ,OAAIhvD,EAAU,EACHgvD,EAAShvD,GAAWA,EAAU,EAE9BgvD,EAAShvD,GAAW,QA/EX,CACxB,IAAKxJ,KAAKw3D,aACN,OAAO,EACX,IAAIvB,EAAmBj2D,KAAKw3D,aAAa71C,MACrC82C,EAAiBz4D,KAAKw3D,aAAar8B,IACnC48B,EAAc,IAAI7nD,OAAO,aAAe0vB,EAAKrB,aAAa03B,GAAoB,KAC9EyC,EAAY,IAAIxoD,OAAO,MAAQ0vB,EAAKrB,aAAak6B,GAAkB,UAEnEN,EAAU,SAASz9C,EAAM9b,GACrBy5D,EAAW39C,EAAM9b,IAEhB84D,IAAoB,KAAKtmD,KAAKsJ,KAC/B+O,EAAI2uC,aAAa,CAACn9B,IAAKr8B,EAAGs8B,OAAQxgB,EAAK7b,QAAS45D,GAChDhvC,EAAI2uC,aAAa,CAACn9B,IAAKr8B,EAAGs8B,OAAQ08B,GAAY3B,KAIlD+B,EAAY,SAASt9C,EAAM9b,GAC3B,IAAI4P,GACAA,EAAIkM,EAAKlI,MAAMkmD,KACfjvC,EAAIi9B,aAAa9nD,EAAG8b,EAAK7b,OAAS2P,EAAE,GAAG3P,OAAQ6b,EAAK7b,SACpD2P,EAAIkM,EAAKlI,MAAMulD,KACftuC,EAAIi9B,aAAa9nD,EAAG4P,EAAE,GAAG3P,OAAQ2P,EAAE,GAAG3P,SAG1Cw5D,EAAa,SAAS39C,EAAMugB,GAC5B,GAAI88B,EAAY3mD,KAAKsJ,GACjB,OAAO,EAEX,IADA,IAAI2F,EAASvc,EAAQmvD,UAAUh4B,GACtBr8B,EAAI,EAAGA,EAAIyhB,EAAOxhB,OAAQD,IAC/B,GAAuB,YAAnByhB,EAAOzhB,GAAG+I,KACV,OAAO,GAoDvB,SAASgxD,EAAKC,GACV,IAAK,IAAIh6D,EAAI2I,EAAU3I,GAAK6I,EAAQ7I,IAChCg6D,EAAInvC,EAAImZ,QAAQhkC,GAAIA,GAI5B,IAAIi6D,EAAiBhB,IACrBc,GAAK,SAASj+C,EAAM9b,GAChB,IAAI2mD,EAAS7qC,EAAKixC,OAAO,OACT,IAAZpG,GACIA,EAASqS,IACTA,EAAYrS,GACZoS,IAAiBU,EAAW39C,EAAM9b,KAClC+4D,GAAe,IACZkB,EAAiBn+C,EAAK7b,SAC7Bg6D,EAAiBn+C,EAAK7b,WAI1B+4D,GAAaC,MACbD,EAAYiB,EACZnB,GAAmB,EACnBC,GAAe,GAGfG,GAAmBF,EAAYpuD,GAAW,IAC1CouD,EAAYr/C,KAAK2C,MAAM08C,EAAYpuD,GAAWA,GAElDmvD,EAAKhB,EAAeK,EAAYG,IAGpCn4D,KAAK84D,mBAAqB,SAASxlB,EAAOxvC,EAASgE,EAAO8L,GACtD,IAAIukD,EAAUn4D,KAAKw3D,aACnB,GAAKW,EAAL,EAEKA,EAAQx2C,OAASw2C,EAAQ,KAC1BA,EAAUA,EAAQ,IAEtB,IAKI5wD,EAAUwxD,EAJVlK,GADAnxD,EAAW,IAAIi1D,EAAc7uD,EAAS8P,EAAOqnB,IAAKrnB,EAAOsnB,SACxCo4B,kBAGjB0F,GADMl1D,EAAQJ,UACCI,EAAQJ,UAAUgtC,mBAGrC,GAAIme,GAAS,UAAUz9C,KAAKy9C,EAAMlnD,MAAO,CAErC,IADA,IAAIsxD,EAAYC,EACTrK,GAAS,UAAUz9C,KAAKy9C,EAAMlnD,OAAO,CAExC,IAAU,IADN/I,EAAIiwD,EAAMnzD,MAAMiK,QAAQwyD,EAAQx2C,QACvB,CACT,IAAIsZ,EAAMv9B,EAAS61D,qBACfr4B,EAASx9B,EAAS81D,wBAA0B50D,EAChDq6D,EAAa,IAAIlxD,EAAMkzB,EAAKC,EAAQD,EAAKC,EAASi9B,EAAQx2C,MAAM9iB,QAChE,MAEJgwD,EAAQnxD,EAAS01D,eAGrB,IAAI11D,EAEJ,IADImxD,GADAnxD,EAAW,IAAIi1D,EAAc7uD,EAAS8P,EAAOqnB,IAAKrnB,EAAOsnB,SACxCo4B,kBACdzE,GAAS,UAAUz9C,KAAKy9C,EAAMlnD,OAAO,CACxC,IAAI/I,EACJ,IAAU,IADNA,EAAIiwD,EAAMnzD,MAAMiK,QAAQwyD,EAAQh9B,MACvB,CACLF,EAAMv9B,EAAS61D,qBACfr4B,EAASx9B,EAAS81D,wBAA0B50D,EAChDs6D,EAAW,IAAInxD,EAAMkzB,EAAKC,EAAQD,EAAKC,EAASi9B,EAAQh9B,IAAIt8B,QAC5D,MAEJgwD,EAAQnxD,EAAS21D,cAEjB6F,GACAp1D,EAAQ2iB,OAAOyyC,GACfD,IACAn1D,EAAQ2iB,OAAOwyC,GACf1xD,EAAW0xD,EAAWt3C,MAAMsZ,IAC5B89B,GAAWZ,EAAQx2C,MAAM9iB,aAG7Bk6D,EAAUZ,EAAQx2C,MAAM9iB,OACxB0I,EAAWO,EAAM6Z,MAAMsZ,IACvBn3B,EAAQ6uC,OAAO7qC,EAAMqzB,IAAKg9B,EAAQh9B,KAClCr3B,EAAQ6uC,OAAO7qC,EAAM6Z,MAAOw2C,EAAQx2C,OAEpCq3C,EAAar3C,MAAMsZ,KAAO1zB,IAC1ByxD,EAAar3C,MAAMuZ,QAAU69B,GAC7BC,EAAa79B,IAAIF,KAAO1zB,IACxByxD,EAAa79B,IAAID,QAAU69B,GAC/Bj1D,EAAQJ,UAAUytC,kBAAkB6nB,KAGxCh5D,KAAKm5D,kBAAoB,SAAS7lB,EAAO54B,EAAM0+C,GAC3C,OAAOp5D,KAAK41D,WAAWl7C,IAG3B1a,KAAKq5D,aAAe,SAAS/lB,EAAO54B,EAAM4+C,GACtC,OAAO,GAGXt5D,KAAKu5D,YAAc,SAASjmB,EAAO7pB,EAAKwR,KAGxCj7B,KAAK41D,WAAa,SAASl7C,GACvB,OAAOA,EAAKlI,MAAM,QAAQ,IAG9BxS,KAAKw5D,aAAe,SAAS11D,GACzB,OAAO,MAGX9D,KAAKy5D,oBAAsB,SAAUrL,GAGjC,IAAK,IAAIxvD,KAFToB,KAAKgxD,QAAU,GACfhxD,KAAK26C,OAAS,GACAyT,EACV,GAAIA,EAAQxvD,GAAI,CACZ,IAAIs4D,EAAO9I,EAAQxvD,GACfwI,EAAK8vD,EAAK95D,UAAUs8D,IACpBx4D,EAAOo7C,EAAO3B,OAAOvzC,GACpBlG,IACDo7C,EAAO3B,OAAOvzC,GAAMlG,EAAO,IAAIg2D,GAC9B5a,EAAO3B,OAAO/7C,KACf09C,EAAO3B,OAAO/7C,GAAKsC,GACvBlB,KAAKgxD,QAAQ5yD,KAAKQ,GAClBoB,KAAK26C,OAAO/7C,GAAKsC,EAIzB,IAAIy4D,EAAc,CAAC,qBAAsB,qBAAsB,oBAC3D,eAAgB,cAAe,kBAAmB,kBAEtD,IAAS/6D,EAAI,EAAGA,EAAI+6D,EAAY96D,OAAQD,KACnC,SAASuN,GACR,IAAIytD,EAAeD,EAAY/6D,GAC3Bq5C,EAAiB9rC,EAAMytD,GAC3BztD,EAAMwtD,EAAY/6D,IAAM,WACpB,OAAOoB,KAAK65D,WAAWD,EAAcpzD,UAAWyxC,IAJrD,CAMCj4C,OAIVA,KAAK65D,WAAa,SAASz5D,EAAQwS,EAAMqlC,GACrC,IAAI3E,EAAQ1gC,EAAK,IAAM,QACvB,GAAoB,iBAAT0gC,EAAmB,CAC1B,GAAI3uC,MAAMC,QAAQ0uC,EAAM,IAAK,CACzB,IAAIwmB,EAAWxmB,EAAM,GAAGA,EAAM,GAAGz0C,OAAS,GAE1C,GADIqC,EAAOlB,KAAK26C,OAAOmf,GAEnB,OAAO54D,EAAKd,GAAQ/B,MAAM6C,EAAM,CAACoyC,EAAM,IAAI1wC,OAAO,GAAGsjB,MAAM5oB,KAAKsV,EAAM,KAE9E0gC,EAAQA,EAAM,IAAM,QAGxB,IAAK,IAAI10C,EAAI,EAAGA,EAAIoB,KAAKgxD,QAAQnyD,OAAQD,IACrC,GAAKoB,KAAK26C,OAAO36C,KAAKgxD,QAAQpyD,IAA9B,CAEA,IAGQsC,EAHJsE,EAAQ8tC,EAAM9tC,MAAMxF,KAAKgxD,QAAQpyD,IACrC,IAAK4G,EAAM,IAAMA,EAAM,GAGnB,OAFAoN,EAAK,GAAKpN,EAAM,IACZtE,EAAOlB,KAAK26C,OAAO36C,KAAKgxD,QAAQpyD,KACxBwB,GAAQ/B,MAAM6C,EAAM0R,GAGxC,IAAI8a,EAAMuqB,EAAe55C,MAAM2B,KAAM4S,GACrC,OAAOqlC,EAAiBvqB,OAAMjnB,GAGlCzG,KAAK+5D,gBAAkB,SAASzmB,EAAOkB,EAAQtyC,EAAQ4B,EAASwc,GAC5D,GAAItgB,KAAKg6D,WAAY,CACjB,IAAIxH,EAAaxyD,KAAKg6D,WAAWtH,gBACjC,IAAK,IAAIv1D,KAAOq1D,EACZ,GAAIA,EAAWr1D,GAAKq3C,GAAS,CACzB,IAAI9mB,EAAM8kC,EAAWr1D,GAAKq3C,GAAQn2C,MAAM2B,KAAMwG,WAC9C,GAAIknB,EACA,OAAOA,KAO3B1tB,KAAKmyD,YAAc,SAASpB,GACxB,IAAK/wD,KAAKi6D,mBAAoB,CAC1B,IAAInM,EAAQ9tD,KAAKq3D,WAAWvJ,MACxBmM,EAAqB,GACzB,IAAK,IAAIzL,KAAQV,EAEb,IADA,IAAIoM,EAAUpM,EAAMU,GACXpB,EAAI,EAAGxnC,EAAIs0C,EAAQr7D,OAAQuuD,EAAIxnC,EAAGwnC,IACvC,GAAgC,kBAArB8M,EAAQ9M,GAAGyB,MACd,0BAA0Bz9C,KAAK8oD,EAAQ9M,GAAGyB,QAC1CoL,EAAmB77D,KAAK87D,EAAQ9M,GAAGsB,YAEtC,GAAgC,kBAArBwL,EAAQ9M,GAAGyB,MACvB,IAAK,IAAIv3C,EAAI,EAAG6iD,EAAUD,EAAQ9M,GAAGyB,MAAMhwD,OAAQyY,EAAI6iD,EAAS7iD,IAC5D,GAAI,0BAA0BlG,KAAK8oD,EAAQ9M,GAAGyB,MAAMv3C,IAAK,CACjDk3C,EAAO0L,EAAQ9M,GAAGsB,MAAMl8C,MAAM,YAAY8E,GAC9C2iD,EAAmB77D,KAAKowD,EAAK7I,OAAO,EAAG6I,EAAK3vD,OAAS,IAMzEmB,KAAKi6D,mBAAqBA,EAE9B,OAAKlJ,EAEEkJ,EAAmBr3D,OAAO5C,KAAKgyD,cAAgB,IAD3ChyD,KAAKgyD,cAIpBhyD,KAAKo6D,mBAAqB,WAGtB,OAFKp6D,KAAKs3D,iBACNt3D,KAAKo3D,eACFp3D,KAAKgyD,aAAehyD,KAAKs3D,gBAAgBtF,cAAgB,IAGpEhyD,KAAKq6D,eAAiB,SAAS/mB,EAAOxvC,EAASkC,EAAKoc,GAEhD,OADepiB,KAAKgyD,cAAgBhyD,KAAKo6D,sBACzBnoD,KAAI,SAASigD,GACzB,MAAO,CACH/pD,KAAM+pD,EACNx2D,MAAOw2D,EACPvzC,MAAO,EACP27C,KAAM,eAKlBt6D,KAAK05D,IAAM,kBACZp8D,KAAK45D,EAAK95D,WAEb3B,EAAQy7D,KAAOA,KAGfrtD,IAAIC,OAAO,kBAAkB,CAAC,UAAU,UAAU,WAAW,SAAS7N,EAASR,EAASsO,GACxF,aA+BAtO,EAAQ8+D,WAAa,SAASC,EAAU1hD,EAAO2hD,GAE3C,IAAIx/B,EAAMniB,EAAM6I,MAAMsZ,IAClBF,EAAcjiB,EAAM6I,MAAMuZ,OAC1BxgB,EAAO8/C,EAASv/B,IAAQ,GAC5B,OAAQniB,EAAM07B,QACV,IAAK,SAED,GAAqB,IADT17B,EAAM/E,MACRlV,OACN27D,EAASv/B,GAAOvgB,EAAKxE,UAAU,EAAG6kB,GAAejiB,EAAM/E,MAAM,GAAK2G,EAAKxE,UAAU6kB,OAC9E,CACH,IAAInoB,EAAO,CAACqoB,EAAK,GAAGr4B,OAAOkW,EAAM/E,OACjCymD,EAAS50D,OAAOvH,MAAMm8D,EAAU5nD,GAChC4nD,EAASv/B,GAAOvgB,EAAKxE,UAAU,EAAG6kB,GAAey/B,EAASv/B,GAC1Du/B,EAASv/B,EAAMniB,EAAM/E,MAAMlV,OAAS,IAAM6b,EAAKxE,UAAU6kB,GAE7D,MACJ,IAAK,SACD,IAAIC,EAAYliB,EAAMqiB,IAAID,OACtBzzB,EAASqR,EAAMqiB,IAAIF,IACnBA,IAAQxzB,EACR+yD,EAASv/B,GAAOvgB,EAAKxE,UAAU,EAAG6kB,GAAergB,EAAKxE,UAAU8kB,GAEhEw/B,EAAS50D,OACLq1B,EAAKxzB,EAASwzB,EAAM,EACpBvgB,EAAKxE,UAAU,EAAG6kB,GAAey/B,EAAS/yD,GAAQyO,UAAU8kB,SAQhFnxB,IAAIC,OAAO,aAAa,CAAC,UAAU,UAAU,SAAS,cAAc,0BAA0B,SAAS7N,EAASR,EAASsO,GACzH,aAEA,IAAIC,EAAM/N,EAAQ,aACdgO,EAAehO,EAAQ,uBAAuBgO,aAE9CywD,EAASj/D,EAAQi/D,OAAS,SAASjxC,EAAKwR,EAAKC,GAC7Cl7B,KAAK26D,UAAY36D,KAAKuC,SAASlC,KAAKL,MACpCA,KAAKu/C,OAAO91B,GAES,oBAAVyR,EACPl7B,KAAKssC,YAAYrR,EAAIA,IAAKA,EAAIC,QAE9Bl7B,KAAKssC,YAAYrR,EAAKC,KAG9B,WAqBI,SAAS0/B,EAAeC,EAAQC,EAAQC,GACpC,IAAIC,EAAcD,EAAqBF,EAAO3/B,QAAU4/B,EAAO5/B,OAAS2/B,EAAO3/B,OAAS4/B,EAAO5/B,OAC/F,OAAQ2/B,EAAO5/B,IAAM6/B,EAAO7/B,KAAS4/B,EAAO5/B,KAAO6/B,EAAO7/B,KAAO+/B,EArBrEhxD,EAAImB,UAAUnL,KAAMiK,GACpBjK,KAAKqoD,YAAc,WACf,OAAOroD,KAAKi7D,wBAAwBj7D,KAAKi7B,IAAKj7B,KAAKk7B,SAEvDl7B,KAAKuM,YAAc,WACf,OAAOvM,KAAKsL,UAEhBtL,KAAKk7D,cAAe,EACpBl7D,KAAKuC,SAAW,SAASuW,GACrB,IAAIA,EAAM6I,MAAMsZ,KAAOniB,EAAMqiB,IAAIF,KAAOniB,EAAM6I,MAAMsZ,KAAOj7B,KAAKi7B,QAG5DniB,EAAM6I,MAAMsZ,IAAMj7B,KAAKi7B,KAA3B,CAGA,IAAIkgC,EASR,SAA8BriD,EAAOqiD,EAAOC,GACxC,IAAIC,EAAgC,UAAhBviD,EAAM07B,OACtB8mB,GAAiBD,EAAgB,GAAK,IAAMviD,EAAMqiB,IAAIF,IAASniB,EAAM6I,MAAMsZ,KAC3EsgC,GAAiBF,EAAgB,GAAK,IAAMviD,EAAMqiB,IAAID,OAASpiB,EAAM6I,MAAMuZ,QAC3EsgC,EAAa1iD,EAAM6I,MACnB85C,EAAWJ,EAAgBG,EAAa1iD,EAAMqiB,IAClD,GAAIy/B,EAAeO,EAAOK,EAAYJ,GAClC,MAAO,CACHngC,IAAKkgC,EAAMlgC,IACXC,OAAQigC,EAAMjgC,QAGtB,GAAI0/B,EAAea,EAAUN,GAAQC,GACjC,MAAO,CACHngC,IAAKkgC,EAAMlgC,IAAMqgC,EACjBpgC,OAAQigC,EAAMjgC,QAAUigC,EAAMlgC,KAAOwgC,EAASxgC,IAAMsgC,EAAgB,IAI5E,MAAO,CACHtgC,IAAKugC,EAAWvgC,IAChBC,OAAQsgC,EAAWtgC,QA9BXwgC,CAAqB5iD,EAAO,CAACmiB,IAAKj7B,KAAKi7B,IAAKC,OAAQl7B,KAAKk7B,QAASl7B,KAAKk7D,cACnFl7D,KAAKssC,YAAY6uB,EAAMlgC,IAAKkgC,EAAMjgC,QAAQ,KAgC9Cl7B,KAAKssC,YAAc,SAASrR,EAAKC,EAAQygC,GACrC,IAAI31D,EAUJ,GARIA,EADA21D,EACM,CACF1gC,IAAKA,EACLC,OAAQA,GAGNl7B,KAAKi7D,wBAAwBhgC,EAAKC,GAGxCl7B,KAAKi7B,KAAOj1B,EAAIi1B,KAAOj7B,KAAKk7B,QAAUl1B,EAAIk1B,OAA9C,CAGA,IAAIsd,EAAM,CACNvd,IAAKj7B,KAAKi7B,IACVC,OAAQl7B,KAAKk7B,QAGjBl7B,KAAKi7B,IAAMj1B,EAAIi1B,IACfj7B,KAAKk7B,OAASl1B,EAAIk1B,OAClBl7B,KAAK2lC,QAAQ,SAAU,CACnB6S,IAAKA,EACL98C,MAAOsK,MAGfhG,KAAKw/C,OAAS,WACVx/C,KAAKsL,SAAS65B,IAAI,SAAUnlC,KAAK26D,YAErC36D,KAAKu/C,OAAS,SAAS91B,GACnBzpB,KAAKsL,SAAWme,GAAOzpB,KAAKsL,SAC5BtL,KAAKsL,SAASlI,GAAG,SAAUpD,KAAK26D,YAEpC36D,KAAKi7D,wBAA0B,SAAShgC,EAAKC,GACzC,IAAIl1B,EAAM,GAkBV,OAhBIi1B,GAAOj7B,KAAKsL,SAAS2iC,aACrBjoC,EAAIi1B,IAAM1iB,KAAK7K,IAAI,EAAG1N,KAAKsL,SAAS2iC,YAAc,GAClDjoC,EAAIk1B,OAASl7B,KAAKsL,SAASs3B,QAAQ58B,EAAIi1B,KAAKp8B,QAEvCo8B,EAAM,GACXj1B,EAAIi1B,IAAM,EACVj1B,EAAIk1B,OAAS,IAGbl1B,EAAIi1B,IAAMA,EACVj1B,EAAIk1B,OAAS3iB,KAAK9K,IAAIzN,KAAKsL,SAASs3B,QAAQ58B,EAAIi1B,KAAKp8B,OAAQ0Z,KAAK7K,IAAI,EAAGwtB,KAGzEA,EAAS,IACTl1B,EAAIk1B,OAAS,GAEVl1B,KAGZ1I,KAAKo9D,EAAOt9D,cAIfyM,IAAIC,OAAO,eAAe,CAAC,UAAU,UAAU,SAAS,cAAc,kBAAkB,wBAAwB,YAAY,eAAe,SAAS7N,EAASR,EAASsO,GACtK,aAEA,IAAIC,EAAM/N,EAAQ,aACds+D,EAAat+D,EAAQ,iBAAiBs+D,WACtCtwD,EAAehO,EAAQ,uBAAuBgO,aAC9ClC,EAAQ9L,EAAQ,WAAW8L,MAC3B2yD,EAASz+D,EAAQ,YAAYy+D,OAE7BkB,EAAW,SAASC,GACpB77D,KAAK87D,OAAS,CAAC,IACY,IAAvBD,EAAYh9D,OACZmB,KAAK87D,OAAS,CAAC,IACRn3D,MAAMC,QAAQi3D,GACrB77D,KAAK+7D,kBAAkB,CAAC9gC,IAAK,EAAGC,OAAQ,GAAI2gC,GAE5C77D,KAAK2yC,OAAO,CAAC1X,IAAK,EAAGC,OAAO,GAAI2gC,KAIxC,WAEI7xD,EAAImB,UAAUnL,KAAMiK,GACpBjK,KAAK+C,SAAW,SAAS+D,GACrB,IAAIm6C,EAAMjhD,KAAKiuC,YAAc,EAC7BjuC,KAAKymB,OAAO,IAAI1e,EAAM,EAAG,EAAGk5C,EAAKjhD,KAAK4iC,QAAQqe,GAAKpiD,SACnDmB,KAAK2yC,OAAO,CAAC1X,IAAK,EAAGC,OAAQ,GAAIp0B,IAErC9G,KAAK8F,SAAW,WACZ,OAAO9F,KAAKg8D,cAAcn2D,KAAK7F,KAAKi8D,wBAExCj8D,KAAK6nD,aAAe,SAAS5sB,EAAKC,GAC9B,OAAO,IAAIw/B,EAAO16D,KAAMi7B,EAAKC,IAED,IAA5B,MAAM11B,MAAM,KAAK3G,OACjBmB,KAAKk8D,OAAS,SAASp1D,GACnB,OAAOA,EAAKqJ,QAAQ,WAAY,MAAM3K,MAAM,OAGhDxF,KAAKk8D,OAAS,SAASp1D,GACnB,OAAOA,EAAKtB,MAAM,eAK1BxF,KAAKm8D,eAAiB,SAASr1D,GAC3B,IAAI0L,EAAQ1L,EAAK0L,MAAM,qBACvBxS,KAAKo8D,aAAe5pD,EAAQA,EAAM,GAAK,KACvCxS,KAAK2lC,QAAQ,sBAEjB3lC,KAAKi8D,oBAAsB,WACvB,OAAQj8D,KAAKq8D,cACX,IAAK,UACH,MAAO,OACT,IAAK,OACH,MAAO,KACT,QACE,OAAOr8D,KAAKo8D,cAAgB,OAIpCp8D,KAAKo8D,aAAe,GACpBp8D,KAAKq8D,aAAe,OACpBr8D,KAAKs8D,eAAiB,SAASC,GACvBv8D,KAAKq8D,eAAiBE,IAG1Bv8D,KAAKq8D,aAAeE,EACpBv8D,KAAK2lC,QAAQ,uBAEjB3lC,KAAKw8D,eAAiB,WAClB,OAAOx8D,KAAKq8D,cAEhBr8D,KAAKy8D,UAAY,SAAS31D,GACtB,MAAgB,QAARA,GAA0B,MAARA,GAAwB,MAARA,GAE9C9G,KAAK4iC,QAAU,SAAS3H,GACpB,OAAOj7B,KAAK87D,OAAO7gC,IAAQ,IAE/Bj7B,KAAK08D,SAAW,SAASlgC,EAAUC,GAC/B,OAAOz8B,KAAK87D,OAAO51C,MAAMsW,EAAUC,EAAU,IAEjDz8B,KAAKg8D,YAAc,WACf,OAAOh8D,KAAK08D,SAAS,EAAG18D,KAAKiuC,cAEjCjuC,KAAKiuC,UAAY,WACb,OAAOjuC,KAAK87D,OAAOj9D,QAEvBmB,KAAK8xC,aAAe,SAAShqC,GACzB,OAAO9H,KAAK28D,iBAAiB70D,GAAOjC,KAAK7F,KAAKi8D,wBAElDj8D,KAAK28D,iBAAmB,SAAS70D,GAC7B,IAAIiM,EACJ,GAAIjM,EAAM6Z,MAAMsZ,MAAQnzB,EAAMqzB,IAAIF,IAC9BlnB,EAAQ,CAAC/T,KAAK4iC,QAAQ96B,EAAM6Z,MAAMsZ,KAAK/kB,UAAUpO,EAAM6Z,MAAMuZ,OAAQpzB,EAAMqzB,IAAID,aAC5E,EACHnnB,EAAQ/T,KAAK08D,SAAS50D,EAAM6Z,MAAMsZ,IAAKnzB,EAAMqzB,IAAIF,MAC3C,IAAMlnB,EAAM,IAAM,IAAImC,UAAUpO,EAAM6Z,MAAMuZ,QAClD,IAAItV,EAAI7R,EAAMlV,OAAS,EACnBiJ,EAAMqzB,IAAIF,IAAMnzB,EAAM6Z,MAAMsZ,KAAOrV,IACnC7R,EAAM6R,GAAK7R,EAAM6R,GAAG1P,UAAU,EAAGpO,EAAMqzB,IAAID,SAEnD,OAAOnnB,GAEX/T,KAAK48D,YAAc,SAAS3hC,EAAKlnB,GAE7B,OADAvP,QAAQC,KAAK,sFACNzE,KAAK68D,gBAAgB5hC,EAAKlnB,IAErC/T,KAAK88D,YAAc,SAAStgC,EAAUC,GAElC,OADAj4B,QAAQC,KAAK,sFACNzE,KAAK+8D,gBAAgBvgC,EAAUC,IAE1Cz8B,KAAKg9D,cAAgB,SAASnxC,GAE1B,OADArnB,QAAQC,KAAK,mGACNzE,KAAK+7D,kBAAkBlwC,EAAU,CAAC,GAAI,MAEjD7rB,KAAK2yC,OAAS,SAAS9mB,EAAU/kB,GAI7B,OAHI9G,KAAKiuC,aAAe,GACpBjuC,KAAKm8D,eAAer1D,GAEjB9G,KAAK+7D,kBAAkBlwC,EAAU7rB,KAAKk8D,OAAOp1D,KAExD9G,KAAKo4D,aAAe,SAASvsC,EAAU/kB,GACnC,IAAI6a,EAAQ3hB,KAAKi9D,WAAWpxC,EAASoP,IAAKpP,EAASqP,QAC/CC,EAAMn7B,KAAKgG,IAAI6lB,EAASoP,IAAKpP,EAASqP,OAASp0B,EAAKjI,QASxD,OAPAmB,KAAKu6D,WAAW,CACZ54C,MAAOA,EACPwZ,IAAKA,EACLqZ,OAAQ,SACRzgC,MAAO,CAACjN,KACT,GAEI9G,KAAKk9D,SAAS/hC,IAGzBn7B,KAAKi9D,WAAa,SAAShiC,EAAKC,GAC5B,IAAIr8B,EAASmB,KAAKiuC,iBACNxnC,IAARw0B,EACAA,EAAMp8B,EACCo8B,EAAM,EACbA,EAAM,EACCA,GAAOp8B,IACdo8B,EAAMp8B,EAAS,EACfq8B,OAASz0B,GAEb,IAAIiU,EAAO1a,KAAK4iC,QAAQ3H,GAIxB,YAHcx0B,GAAVy0B,IACAA,EAASxgB,EAAK7b,QAEX,CAACo8B,IAAKA,EAAKC,OADlBA,EAAS3iB,KAAK9K,IAAI8K,KAAK7K,IAAIwtB,EAAQ,GAAIxgB,EAAK7b,UAIhDmB,KAAKk9D,SAAW,SAASl3D,GACrB,MAAO,CAACi1B,IAAKj1B,EAAIi1B,IAAKC,OAAQl1B,EAAIk1B,SAGtCl7B,KAAKgG,IAAM,SAASi1B,EAAKC,GACrB,MAAO,CAACD,IAAKA,EAAKC,OAAQA,IAG9Bl7B,KAAKm9D,cAAgB,SAAStxC,GAC1B,IAAIhtB,EAASmB,KAAKiuC,YAQlB,OAPIpiB,EAASoP,KAAOp8B,GAChBgtB,EAASoP,IAAM1iB,KAAK7K,IAAI,EAAG7O,EAAS,GACpCgtB,EAASqP,OAASl7B,KAAK4iC,QAAQ/jC,EAAS,GAAGA,SAE3CgtB,EAASoP,IAAM1iB,KAAK7K,IAAI,EAAGme,EAASoP,KACpCpP,EAASqP,OAAS3iB,KAAK9K,IAAI8K,KAAK7K,IAAIme,EAASqP,OAAQ,GAAIl7B,KAAK4iC,QAAQ/W,EAASoP,KAAKp8B,SAEjFgtB,GAEX7rB,KAAK68D,gBAAkB,SAAS5hC,EAAKlnB,GAEjC,IAAImnB,EAAS,GADbD,EAAM1iB,KAAK9K,IAAI8K,KAAK7K,IAAIutB,EAAK,GAAIj7B,KAAKiuC,cAE5BjuC,KAAKiuC,aACXl6B,EAAQA,EAAMnR,OAAO,CAAC,KACtBs4B,EAAS,IAETnnB,EAAQ,CAAC,IAAInR,OAAOmR,GACpBknB,IACAC,EAASl7B,KAAK87D,OAAO7gC,GAAKp8B,QAE9BmB,KAAK+7D,kBAAkB,CAAC9gC,IAAKA,EAAKC,OAAQA,GAASnnB,IAEvD/T,KAAK+7D,kBAAoB,SAASlwC,EAAU9X,GACxC,IAAI4N,EAAQ3hB,KAAKi9D,WAAWpxC,EAASoP,IAAKpP,EAASqP,QAC/CC,EAAM,CACNF,IAAKtZ,EAAMsZ,IAAMlnB,EAAMlV,OAAS,EAChCq8B,QAAyB,GAAhBnnB,EAAMlV,OAAc8iB,EAAMuZ,OAAS,GAAKnnB,EAAMA,EAAMlV,OAAS,GAAGA,QAU7E,OAPAmB,KAAKu6D,WAAW,CACZ54C,MAAOA,EACPwZ,IAAKA,EACLqZ,OAAQ,SACRzgC,MAAOA,IAGJ/T,KAAKk9D,SAAS/hC,IAEzBn7B,KAAKymB,OAAS,SAAS3e,GACnB,IAAI6Z,EAAQ3hB,KAAKi9D,WAAWn1D,EAAM6Z,MAAMsZ,IAAKnzB,EAAM6Z,MAAMuZ,QACrDC,EAAMn7B,KAAKi9D,WAAWn1D,EAAMqzB,IAAIF,IAAKnzB,EAAMqzB,IAAID,QAOnD,OANAl7B,KAAKu6D,WAAW,CACZ54C,MAAOA,EACPwZ,IAAKA,EACLqZ,OAAQ,SACRzgC,MAAO/T,KAAK28D,iBAAiB,CAACh7C,MAAOA,EAAOwZ,IAAKA,MAE9Cn7B,KAAKk9D,SAASv7C,IAEzB3hB,KAAK0mD,aAAe,SAASzrB,EAAKF,EAAaC,GAC3C,IAAIrZ,EAAQ3hB,KAAKi9D,WAAWhiC,EAAKF,GAC7BI,EAAMn7B,KAAKi9D,WAAWhiC,EAAKD,GAS/B,OAPAh7B,KAAKu6D,WAAW,CACZ54C,MAAOA,EACPwZ,IAAKA,EACLqZ,OAAQ,SACRzgC,MAAO/T,KAAK28D,iBAAiB,CAACh7C,MAAOA,EAAOwZ,IAAKA,MAClD,GAEIn7B,KAAKk9D,SAASv7C,IAEzB3hB,KAAK+8D,gBAAkB,SAASvgC,EAAUC,GACtCD,EAAWjkB,KAAK9K,IAAI8K,KAAK7K,IAAI,EAAG8uB,GAAWx8B,KAAKiuC,YAAc,GAE9D,IAAImvB,GADJ3gC,EAAWlkB,KAAK9K,IAAI8K,KAAK7K,IAAI,EAAG+uB,GAAWz8B,KAAKiuC,YAAc,KAC1BjuC,KAAKiuC,YAAc,GAAKzR,EAAW,EACnE6gC,EAAqB5gC,EAAWz8B,KAAKiuC,YAAc,EACnD1mC,EAAa61D,EAAqB5gC,EAAW,EAAqBA,EAClEh1B,EAAa41D,EAAqBp9D,KAAK4iC,QAAQr7B,GAAU1I,OAAS,EAClE4I,EAAa41D,EAAqB5gC,EAAU,EAAsBA,EAClE/0B,EAAa21D,EAAqB,EAAgCr9D,KAAK4iC,QAAQn7B,GAAQ5I,OACvFiJ,EAAQ,IAAIC,EAAMR,EAAUC,EAAUC,EAAQC,GAC9C41D,EAAet9D,KAAK87D,OAAO51C,MAAMsW,EAAUC,EAAU,GAQzD,OANAz8B,KAAKu6D,WAAW,CACZ54C,MAAO7Z,EAAM6Z,MACbwZ,IAAKrzB,EAAMqzB,IACXqZ,OAAQ,SACRzgC,MAAO/T,KAAK28D,iBAAiB70D,KAE1Bw1D,GAEXt9D,KAAKu9D,cAAgB,SAAStiC,GACtBA,EAAMj7B,KAAKiuC,YAAc,GAAKhT,GAAO,GACrCj7B,KAAKu6D,WAAW,CACZ54C,MAAO3hB,KAAKgG,IAAIi1B,EAAKj7B,KAAK4iC,QAAQ3H,GAAKp8B,QACvCs8B,IAAKn7B,KAAKgG,IAAIi1B,EAAM,EAAG,GACvBuZ,OAAQ,SACRzgC,MAAO,CAAC,GAAI,OAIxB/T,KAAKmQ,QAAU,SAASrI,EAAOhB,GAG3B,OAFMgB,aAAiBC,IACnBD,EAAQC,EAAM20B,WAAW50B,EAAM6Z,MAAO7Z,EAAMqzB,MAC5B,IAAhBr0B,EAAKjI,QAAgBiJ,EAAM80B,UACpB90B,EAAM6Z,MACb7a,GAAQ9G,KAAK8xC,aAAahqC,GACnBA,EAAMqzB,KAEjBn7B,KAAKymB,OAAO3e,GAERhB,EACM9G,KAAK2yC,OAAO7qC,EAAM6Z,MAAO7a,GAGzBgB,EAAM6Z,QAKpB3hB,KAAKw9D,YAAc,SAASC,GACxB,IAAK,IAAI7+D,EAAE,EAAGA,EAAE6+D,EAAO5+D,OAAQD,IAC3BoB,KAAKu6D,WAAWkD,EAAO7+D,KAG/BoB,KAAK09D,aAAe,SAASD,GACzB,IAAK,IAAI7+D,EAAE6+D,EAAO5+D,OAAO,EAAGD,GAAG,EAAGA,IAC9BoB,KAAK29D,YAAYF,EAAO7+D,KAGhCoB,KAAKu6D,WAAa,SAASzhD,EAAO2hD,GAC9B,IAAImD,EAA2B,UAAhB9kD,EAAM07B,QACjBopB,EAAW9kD,EAAM/E,MAAMlV,QAAU,IAAMia,EAAM/E,MAAM,IAChDhM,EAAMq1B,cAActkB,EAAM6I,MAAO7I,EAAMqiB,QAI1CyiC,GAAY9kD,EAAM/E,MAAMlV,OAAS,IACjCmB,KAAK69D,yBAAyB/kD,EAAO,MAGrCyhD,EAAWv6D,KAAK87D,OAAQhjD,EAAO2hD,GAC/Bz6D,KAAK2lC,QAAQ,SAAU7sB,MAI/B9Y,KAAK89D,gBAAkB,SAAShlD,GAC5B,IAAIilD,EAAY/9D,KAAK87D,OAAOj9D,QAER,UAAhBia,EAAM07B,QAAsB17B,EAAM6I,MAAMsZ,IAAM8iC,GAAajlD,EAAMqiB,IAAIF,IAAM8iC,GACxD,UAAhBjlD,EAAM07B,QAAsB17B,EAAM6I,MAAMsZ,KAAO8iC,IAElD/9D,KAAKu6D,WAAWzhD,IAIxB9Y,KAAK69D,yBAA2B,SAAS/kD,EAAOklD,GAK5C,IAJA,IAAIjqD,EAAQ+E,EAAM/E,MACd6R,EAAI7R,EAAMlV,OAASm/D,EAAM,EACzB/iC,EAAMniB,EAAM6I,MAAMsZ,IAClBC,EAASpiB,EAAM6I,MAAMuZ,OAChB+iC,EAAO,EAAGC,EAAK,EAAGD,EAAOr4C,EAAGq4C,EAAOC,EAAI,CAC5CA,GAAMF,EAAM,EACZ,IAAInqD,EAAQE,EAAMmS,MAAM+3C,EAAMC,GAC9BrqD,EAAMzV,KAAK,IACX4B,KAAKu6D,WAAW,CACZ54C,MAAO3hB,KAAKgG,IAAIi1B,EAAMgjC,EAAM/iC,GAC5BC,IAAKn7B,KAAKgG,IAAIi1B,EAAMijC,EAAIhjC,EAAS,GACjCsZ,OAAQ17B,EAAM07B,OACdzgC,MAAOF,IACR,GAEPiF,EAAM/E,MAAQA,EAAMmS,MAAM+3C,GAC1BnlD,EAAM6I,MAAMsZ,IAAMA,EAAMgjC,EACxBnlD,EAAM6I,MAAMuZ,OAASA,EACrBl7B,KAAKu6D,WAAWzhD,GAAO,IAE3B9Y,KAAK29D,YAAc,SAAS7kD,GACxB9Y,KAAK89D,gBAAgB,CACjBn8C,MAAO3hB,KAAKk9D,SAASpkD,EAAM6I,OAC3BwZ,IAAKn7B,KAAKk9D,SAASpkD,EAAMqiB,KACzBqZ,OAAyB,UAAhB17B,EAAM07B,OAAqB,SAAW,SAC/CzgC,MAAO+E,EAAM/E,MAAMmS,WAG3BlmB,KAAKm+D,gBAAkB,SAASz4D,EAAO6B,GAGnC,IAFA,IAAIwM,EAAQ/T,KAAK87D,QAAU97D,KAAKg8D,cAC5BoC,EAAgBp+D,KAAKi8D,sBAAsBp9D,OACtCD,EAAI2I,GAAY,EAAGqe,EAAI7R,EAAMlV,OAAQD,EAAIgnB,EAAGhnB,IAEjD,IADA8G,GAASqO,EAAMnV,GAAGC,OAASu/D,GACf,EACR,MAAO,CAACnjC,IAAKr8B,EAAGs8B,OAAQx1B,EAAQqO,EAAMnV,GAAGC,OAASu/D,GAE1D,MAAO,CAACnjC,IAAKrV,EAAE,EAAGsV,OAAQx1B,EAAQqO,EAAM6R,EAAE,GAAG/mB,OAASu/D,IAE1Dp+D,KAAKq+D,gBAAkB,SAASr4D,EAAKuB,GAKjC,IAJA,IAAIwM,EAAQ/T,KAAK87D,QAAU97D,KAAKg8D,cAC5BoC,EAAgBp+D,KAAKi8D,sBAAsBp9D,OAC3C6G,EAAQ,EACRu1B,EAAM1iB,KAAK9K,IAAIzH,EAAIi1B,IAAKlnB,EAAMlV,QACzBD,EAAI2I,GAAY,EAAG3I,EAAIq8B,IAAOr8B,EACnC8G,GAASqO,EAAMnV,GAAGC,OAASu/D,EAE/B,OAAO14D,EAAQM,EAAIk1B,UAGxB59B,KAAKs+D,EAASx+D,WAEjB3B,EAAQmgE,SAAWA,KAGnB/xD,IAAIC,OAAO,2BAA2B,CAAC,UAAU,UAAU,SAAS,cAAc,0BAA0B,SAAS7N,EAASR,EAASsO,GACvI,aAEA,IAAIC,EAAM/N,EAAQ,aACdgO,EAAehO,EAAQ,uBAAuBgO,aAE9Cq0D,EAAsB,SAASC,EAAWr8D,GAC1ClC,KAAKw+D,SAAU,EACfx+D,KAAK+T,MAAQ,GACb/T,KAAK+tD,OAAS,GACd/tD,KAAKy+D,YAAc,EACnBz+D,KAAKu+D,UAAYA,EAEjB,IAAIl/D,EAAOW,KAEXA,KAAK0+D,QAAU,WACX,GAAKr/D,EAAKm/D,QAAV,CAQA,IANA,IAAIG,EAAc,IAAIhpD,KAClB8oD,EAAcp/D,EAAKo/D,YACnBrqD,GAAW,EACXqV,EAAMpqB,EAAKoqB,IAEXtV,EAAYsqD,EACTp/D,EAAK0U,MAAM0qD,IACdA,IAEJ,IAAIxd,EAAMx3B,EAAIwkB,YACV2wB,EAAiB,EAErB,IADAv/D,EAAKm/D,SAAU,EACRC,EAAcxd,GAAK,CACtB5hD,EAAKw/D,aAAaJ,GAClBrqD,EAAUqqD,EACV,GACIA,UACKp/D,EAAK0U,MAAM0qD,IAEpB,KADAG,EACsB,IAAM,GAAO,IAAIjpD,KAASgpD,EAAe,GAAI,CAC/Dt/D,EAAKm/D,QAAU/lC,WAAWp5B,EAAKq/D,QAAS,IACxC,OAGRr/D,EAAKo/D,YAAcA,GAEH,GAAZrqD,IACAA,EAAUqqD,GAEVtqD,GAAaC,GACb/U,EAAKy/D,gBAAgB3qD,EAAWC,OAI5C,WAEIpK,EAAImB,UAAUnL,KAAMiK,GACpBjK,KAAK++D,aAAe,SAASR,GACzBv+D,KAAKu+D,UAAYA,EACjBv+D,KAAK+T,MAAQ,GACb/T,KAAK+tD,OAAS,GAEd/tD,KAAK2hB,MAAM,IAEf3hB,KAAKg/D,YAAc,SAASv1C,GACxBzpB,KAAKypB,IAAMA,EACXzpB,KAAK+T,MAAQ,GACb/T,KAAK+tD,OAAS,GAEd/tD,KAAK8rC,QAET9rC,KAAK8+D,gBAAkB,SAAStiC,EAAUC,GACtC,IAAIvqB,EAAO,CACP+sD,MAAOziC,EACPe,KAAMd,GAEVz8B,KAAK2lC,QAAQ,SAAU,CAACzzB,KAAMA,KAElClS,KAAK2hB,MAAQ,SAASpa,GAClBvH,KAAKy+D,YAAclmD,KAAK9K,IAAIlG,GAAY,EAAGvH,KAAKy+D,YAAaz+D,KAAKypB,IAAIwkB,aACtEjuC,KAAK+T,MAAMnO,OAAO5F,KAAKy+D,YAAaz+D,KAAK+T,MAAMlV,QAC/CmB,KAAK+tD,OAAOnoD,OAAO5F,KAAKy+D,YAAaz+D,KAAK+tD,OAAOlvD,QAEjDmB,KAAK8rC,OACL9rC,KAAKw+D,QAAU/lC,WAAWz4B,KAAK0+D,QAAS,MAG5C1+D,KAAKk/D,cAAgB,WACZl/D,KAAKw+D,UACNx+D,KAAKw+D,QAAU/lC,WAAWz4B,KAAK0+D,QAAS,OAGhD1+D,KAAKm/D,gBAAkB,SAASrmD,GAC5B,IAAIvR,EAAWuR,EAAM6I,MAAMsZ,IACvBgmB,EAAMnoC,EAAMqiB,IAAIF,IAAM1zB,EAE1B,GAAY,IAAR05C,EACAjhD,KAAK+T,MAAMxM,GAAY,UACpB,GAAoB,UAAhBuR,EAAM07B,OACbx0C,KAAK+T,MAAMnO,OAAO2B,EAAU05C,EAAM,EAAG,MACrCjhD,KAAK+tD,OAAOnoD,OAAO2B,EAAU05C,EAAM,EAAG,UACnC,CACH,IAAIruC,EAAOjO,MAAMs8C,EAAM,GACvBruC,EAAK2D,QAAQhP,EAAU,GACvBvH,KAAK+T,MAAMnO,OAAOvH,MAAM2B,KAAK+T,MAAOnB,GACpC5S,KAAK+tD,OAAOnoD,OAAOvH,MAAM2B,KAAK+tD,OAAQn7C,GAG1C5S,KAAKy+D,YAAclmD,KAAK9K,IAAIlG,EAAUvH,KAAKy+D,YAAaz+D,KAAKypB,IAAIwkB,aAEjEjuC,KAAK8rC,QAET9rC,KAAK8rC,KAAO,WACJ9rC,KAAKw+D,SACLhmC,aAAax4B,KAAKw+D,SACtBx+D,KAAKw+D,SAAU,GAEnBx+D,KAAKizD,UAAY,SAASh4B,GACtB,OAAOj7B,KAAK+T,MAAMknB,IAAQj7B,KAAK6+D,aAAa5jC,IAEhDj7B,KAAKo/D,SAAW,SAASnkC,GAGrB,OAFIj7B,KAAKy+D,aAAexjC,GACpBj7B,KAAK6+D,aAAa5jC,GACfj7B,KAAK+tD,OAAO9yB,IAAQ,SAG/Bj7B,KAAK6+D,aAAe,SAAS5jC,GACzB,IAAIvgB,EAAO1a,KAAKypB,IAAImZ,QAAQ3H,GACxBqY,EAAQtzC,KAAK+tD,OAAO9yB,EAAM,GAE1B/oB,EAAOlS,KAAKu+D,UAAUxO,cAAcr1C,EAAM44B,EAAOrY,GAWrD,OATIj7B,KAAK+tD,OAAO9yB,GAAO,KAAO/oB,EAAKohC,MAAQ,IACvCtzC,KAAK+tD,OAAO9yB,GAAO/oB,EAAKohC,MACxBtzC,KAAK+T,MAAMknB,EAAM,GAAK,KAClBj7B,KAAKy+D,YAAcxjC,EAAM,IACzBj7B,KAAKy+D,YAAcxjC,EAAM,IACtBj7B,KAAKy+D,aAAexjC,IAC3Bj7B,KAAKy+D,YAAcxjC,EAAM,GAGtBj7B,KAAK+T,MAAMknB,GAAO/oB,EAAKmO,UAGnC/iB,KAAKghE,EAAoBlhE,WAE5B3B,EAAQ6iE,oBAAsBA,KAG9Bz0D,IAAIC,OAAO,uBAAuB,CAAC,UAAU,UAAU,SAAS,eAAe,cAAc,cAAc,SAAS7N,EAASR,EAASsO,GACtI,aAEA,IAAI61B,EAAO3jC,EAAQ,cAEf8L,GADM9L,EAAQ,aACNA,EAAQ,WAAW8L,OAE3Bs3D,EAAkB,SAAS1gC,EAAQ2gC,EAAO33D,GAC1C3H,KAAKu/D,UAAU5gC,GACf3+B,KAAKs/D,MAAQA,EACbt/D,KAAK2H,KAAOA,GAAQ,SAGxB,WACI3H,KAAKw/D,WAAa,IAElBx/D,KAAKu/D,UAAY,SAAS5gC,GAClB3+B,KAAK2+B,OAAO,IAAMA,EAAO,KAE7B3+B,KAAK2+B,OAASA,EACd3+B,KAAKnD,MAAQ,KAGjBmD,KAAKy/D,OAAS,SAASngD,EAAMogD,EAAa57D,EAASw4C,GAC/C,GAAKt8C,KAAK2+B,OAIV,IAFA,IAAIhd,EAAQ26B,EAAO9f,SAAUrB,EAAMmhB,EAAO7f,QAEjC79B,EAAI+iB,EAAO/iB,GAAKu8B,EAAKv8B,IAAK,CAC/B,IAAI2uD,EAASvtD,KAAKnD,MAAM+B,GACV,MAAV2uD,KACAA,EAAS3tB,EAAKlB,gBAAgB56B,EAAQ8+B,QAAQhkC,GAAIoB,KAAK2+B,SAC5C9/B,OAASmB,KAAKw/D,aACrBjS,EAASA,EAAOrnC,MAAM,EAAGlmB,KAAKw/D,aAClCjS,EAASA,EAAOt7C,KAAI,SAASO,GACzB,OAAO,IAAIzK,EAAMnJ,EAAG4T,EAAMqsB,OAAQjgC,EAAG4T,EAAMqsB,OAASrsB,EAAM3T,WAE9DmB,KAAKnD,MAAM+B,GAAK2uD,EAAO1uD,OAAS0uD,EAAS,IAG7C,IAAK,IAAIp1C,EAAIo1C,EAAO1uD,OAAQsZ,KACxBunD,EAAYC,qBACRrgD,EAAMiuC,EAAOp1C,GAAG4kB,cAAcj5B,GAAU9D,KAAKs/D,MAAOhjB,OAKrEh/C,KAAK+hE,EAAgBjiE,WAExB3B,EAAQ4jE,gBAAkBA,KAG1Bx1D,IAAIC,OAAO,6BAA6B,CAAC,UAAU,UAAU,SAAS,cAAc,SAAS7N,EAASR,EAASsO,GAC/G,aAEA,IAAIhC,EAAQ9L,EAAQ,YAAY8L,MAChC,SAAS63D,EAASC,EAAUC,GACxB9/D,KAAK6/D,SAAWA,EACZl7D,MAAMC,QAAQk7D,GACd9/D,KAAK8/D,MAAQA,EAEbA,EAAQ9/D,KAAK8/D,MAAQ,CAAEA,GAG3B,IAAIviC,EAAOuiC,EAAMA,EAAMjhE,OAAS,GAChCmB,KAAK8H,MAAQ,IAAIC,EAAM+3D,EAAM,GAAGn+C,MAAMsZ,IAAK6kC,EAAM,GAAGn+C,MAAMuZ,OACnCqC,EAAKpC,IAAIF,IAAKsC,EAAKpC,IAAID,QAC9Cl7B,KAAK2hB,MAAQ3hB,KAAK8H,MAAM6Z,MACxB3hB,KAAKm7B,IAAQn7B,KAAK8H,MAAMqzB,IAExBn7B,KAAK8/D,MAAM3/D,SAAQ,SAASi+C,GACxBA,EAAK2hB,YAAY//D,QAClBA,OAGP,WACIA,KAAKggE,SAAW,SAASx7C,GACrBxkB,KAAK2hB,MAAMsZ,KAAOzW,EAClBxkB,KAAKm7B,IAAIF,KAAOzW,EAChBxkB,KAAK8/D,MAAM3/D,SAAQ,SAASi+C,GACxBA,EAAKz8B,MAAMsZ,KAAOzW,EAClB45B,EAAKjjB,IAAIF,KAAOzW,MAIxBxkB,KAAK4+C,QAAU,SAASR,GACpB,GAAIA,EAAK6hB,QAAS,CACd,GAAI7hB,EAAKz8B,MAAMsZ,IAAMj7B,KAAKuH,UAAY62C,EAAK32C,OAASzH,KAAKyH,OACrD,MAAM,IAAI4M,MAAM,6DAEpBrU,KAAK8/D,MAAM1hE,KAAKggD,GAChBp+C,KAAK8/D,MAAMI,MAAK,SAAS5oD,EAAG6oD,GACxB,OAAQ7oD,EAAExP,MAAMu0B,WAAW8jC,EAAEx+C,MAAMsZ,IAAKklC,EAAEx+C,MAAMuZ,WAEhDl7B,KAAK8H,MAAMu0B,WAAW+hB,EAAKz8B,MAAMsZ,IAAKmjB,EAAKz8B,MAAMuZ,QAAU,GAC3Dl7B,KAAKm7B,IAAIF,IAAMmjB,EAAKjjB,IAAIF,IACxBj7B,KAAKm7B,IAAID,OAAUkjB,EAAKjjB,IAAID,QACrBl7B,KAAK8H,MAAMs0B,aAAagiB,EAAKjjB,IAAIF,IAAKmjB,EAAKjjB,IAAID,QAAU,IAChEl7B,KAAK2hB,MAAMsZ,IAAMmjB,EAAKz8B,MAAMsZ,IAC5Bj7B,KAAK2hB,MAAMuZ,OAASkjB,EAAKz8B,MAAMuZ,aAEhC,GAAIkjB,EAAKz8B,MAAMsZ,KAAOj7B,KAAKm7B,IAAIF,IAClCj7B,KAAK8/D,MAAM1hE,KAAKggD,GAChBp+C,KAAKm7B,IAAIF,IAAMmjB,EAAKjjB,IAAIF,IACxBj7B,KAAKm7B,IAAID,OAASkjB,EAAKjjB,IAAID,WACxB,IAAIkjB,EAAKjjB,IAAIF,KAAOj7B,KAAK2hB,MAAMsZ,IAKlC,MAAM,IAAI5mB,MAAM,kEAJhBrU,KAAK8/D,MAAMvpD,QAAQ6nC,GACnBp+C,KAAK2hB,MAAMsZ,IAAMmjB,EAAKz8B,MAAMsZ,IAC5Bj7B,KAAK2hB,MAAMuZ,OAASkjB,EAAKz8B,MAAMuZ,OAInCkjB,EAAKyM,SAAW7qD,MAGpBA,KAAKogE,YAAc,SAASnlC,GACxB,OAAOA,GAAOj7B,KAAK2hB,MAAMsZ,KAAOA,GAAOj7B,KAAKm7B,IAAIF,KAGpDj7B,KAAKqgE,KAAO,SAASn0D,EAAUzE,EAAQuzB,GACnC,IAEIojB,EACA5iB,EAHA8kC,EAAU,EACVR,EAAQ9/D,KAAK8/D,MAEFS,GAAW,EAEZ,MAAV94D,IACAA,EAASzH,KAAKm7B,IAAIF,IAClBD,EAAYh7B,KAAKm7B,IAAID,QAGzB,IAAK,IAAIt8B,EAAI,EAAGA,EAAIkhE,EAAMjhE,OAAQD,IAAK,CAInC,IAAY,IADZ48B,GAFA4iB,EAAO0hB,EAAMlhE,IAEFkJ,MAAMs0B,aAAa30B,EAAQuzB,IAGlC,YADA9uB,EAAS,KAAMzE,EAAQuzB,EAAWslC,EAASC,GAM/C,IAFOr0D,EAAS,KAAMkyC,EAAKz8B,MAAMsZ,IAAKmjB,EAAKz8B,MAAMuZ,OAAQolC,EAASC,IAClDr0D,EAASkyC,EAAKoiB,YAAapiB,EAAKz8B,MAAMsZ,IAAKmjB,EAAKz8B,MAAMuZ,OAAQolC,IAC1D,IAAR9kC,EACR,OAEJ+kC,GAAYniB,EAAK6hB,QACjBK,EAAUliB,EAAKjjB,IAAID,OAEvBhvB,EAAS,KAAMzE,EAAQuzB,EAAWslC,EAASC,IAG/CvgE,KAAKygE,cAAgB,SAASxlC,EAAKC,GAE/B,IADA,IAAIkjB,EAAM5iB,EACD58B,EAAI,EAAGA,EAAIoB,KAAK8/D,MAAMjhE,OAAQD,IAAK,CAGxC,IAAY,IADZ48B,GADA4iB,EAAOp+C,KAAK8/D,MAAMlhE,IACPkJ,MAAMu0B,WAAWpB,EAAKC,IAE7B,MAAO,CACHkjB,KAAMA,EACNsiB,KAAM,SAEP,GAAY,IAARllC,EACP,MAAO,CACH4iB,KAAMA,EACNsiB,KAAM,UAIlB,OAAO,MAGX1gE,KAAK2gE,eAAiB,SAAS1lC,EAAKC,EAAQ+lB,GACxC,IACI7C,EAAM0hB,EADNpyC,EAAM1tB,KAAKygE,cAAcxlC,EAAKC,GAElC,GAAIxN,EAEA,GADA0wB,EAAO1wB,EAAI0wB,KACK,UAAZ1wB,EAAIgzC,MACDtiB,EAAKz8B,MAAMuZ,QAAUA,GACrBkjB,EAAKz8B,MAAMsZ,KAAOA,EAErBjW,OAAOxgB,SAAWwgB,OAAOxgB,QAAQo8D,IAAI3lC,EAAKC,EAAQkjB,QAC/C,GAAIA,EAAKz8B,MAAMsZ,KAAOA,EAAK,CAE9B,IAAIr8B,GADJkhE,EAAQ9/D,KAAK8/D,OACCn6D,QAAQy4C,GAItB,IAHU,IAANx/C,IACAoB,KAAK2hB,MAAMuZ,QAAU+lB,GAEjBriD,EAAIkhE,EAAMjhE,OAAQD,IAAK,CAG3B,IAFAw/C,EAAO0hB,EAAMlhE,IACR+iB,MAAMuZ,QAAU+lB,GAChB7C,EAAK6hB,QACN,OAEJ7hB,EAAKjjB,IAAID,QAAU+lB,EAEvBjhD,KAAKm7B,IAAID,QAAU+lB,IAK/BjhD,KAAKwF,MAAQ,SAASy1B,EAAKC,GACvB,IAAIl1B,EAAMhG,KAAKygE,cAAcxlC,EAAKC,GAElC,IAAKl1B,GAAmB,UAAZA,EAAI06D,KACZ,OAAO,KAEX,IAAItiB,EAAOp4C,EAAIo4C,KACX0hB,EAAQ9/D,KAAK8/D,MACbD,EAAW7/D,KAAK6/D,SAEhBjhE,EAAIkhE,EAAMn6D,QAAQy4C,GAClByiB,EAAaf,EAAMlhE,EAAI,GAC3BoB,KAAKm7B,IAAIF,IAAM4lC,EAAW1lC,IAAIF,IAC9Bj7B,KAAKm7B,IAAID,OAAS2lC,EAAW1lC,IAAID,OAGjC,IAAI4lC,EAAc,IAAIlB,EAASC,EAF/BC,EAAQA,EAAMl6D,OAAOhH,EAAGkhE,EAAMjhE,OAASD,IAIvC,OADAihE,EAASj6D,OAAOi6D,EAASl6D,QAAQ3F,MAAQ,EAAG,EAAG8gE,GACxCA,GAGX9gE,KAAKswD,MAAQ,SAASyQ,GAElB,IADA,IAAIjB,EAAQiB,EAAajB,MAChBlhE,EAAI,EAAGA,EAAIkhE,EAAMjhE,OAAQD,IAC9BoB,KAAK4+C,QAAQkhB,EAAMlhE,IAEvB,IAAIihE,EAAW7/D,KAAK6/D,SACpBA,EAASj6D,OAAOi6D,EAASl6D,QAAQo7D,GAAe,IAGpD/gE,KAAK+P,SAAW,WACZ,IAAI2d,EAAM,CAAC1tB,KAAK8H,MAAMiI,WAAa,OAMnC,OAJA/P,KAAK8/D,MAAM3/D,SAAQ,SAASi+C,GACxB1wB,EAAItvB,KAAK,KAAOggD,EAAKruC,eAEzB2d,EAAItvB,KAAK,KACFsvB,EAAI7nB,KAAK,OAGpB7F,KAAKghE,cAAgB,SAASl1D,GAG1B,IAFA,IAAIm1D,EAAoB,EAEfriE,EAAI,EAAGA,EAAIoB,KAAK8/D,MAAMjhE,OAAQD,IAAK,CACxC,IAAIw/C,EAAOp+C,KAAK8/D,MAAMlhE,GAGtB,IADAkN,GAAOsyC,EAAKz8B,MAAMuZ,OAAS+lC,GACjB,EACN,MAAO,CACHhmC,IAAKmjB,EAAKz8B,MAAMsZ,IAChBC,OAAQkjB,EAAKz8B,MAAMuZ,OAASpvB,GAKpC,IADAA,GAAOsyC,EAAKoiB,YAAY3hE,QACd,EACN,OAAOu/C,EAAKz8B,MAGhBs/C,EAAoB7iB,EAAKjjB,IAAID,OAGjC,MAAO,CACHD,IAAKj7B,KAAKm7B,IAAIF,IACdC,OAAQl7B,KAAKm7B,IAAID,OAASpvB,MAGnCxO,KAAKsiE,EAASxiE,WAEjB3B,EAAQmkE,SAAWA,KAGnB/1D,IAAIC,OAAO,iBAAiB,CAAC,UAAU,UAAU,SAAS,cAAc,SAAS7N,EAASR,EAASsO,GACnG,aACA,IACIqzB,EADQnhC,EAAQ,WAAW8L,MACLq1B,cAEtB8jC,EAAY,WACZlhE,KAAKutD,OAAS,GACdvtD,KAAKmhE,MAAQ,IAGjB,WACInhE,KAAKo9B,cAAgBA,EAErBp9B,KAAKohE,WAAa,SAASp7D,EAAKq7D,EAAcC,GAG1C,IAFA,IAAIrP,EAAOjyD,KAAKutD,OAEP3uD,EAAI0iE,GAAc,EAAG1iE,EAAIqzD,EAAKpzD,OAAQD,IAAK,CAChD,IAAIkJ,EAAQmqD,EAAKrzD,GACbqrC,EAAS7M,EAAcp3B,EAAK8B,EAAMqzB,KACtC,KAAI8O,EAAS,GAAb,CAEA,IAAID,EAAW5M,EAAcp3B,EAAK8B,EAAM6Z,OACxC,OAAe,IAAXsoB,EACOo3B,GAA6B,IAAbr3B,GAAkBprC,EAAE,EAAIA,EAC/CorC,EAAW,GAAmB,IAAbA,IAAmBq3B,EAC7BziE,GAEHA,EAAE,GAEd,OAAQA,EAAI,GAGhBoB,KAAK0qB,IAAM,SAAS5iB,GAChB,IAAIu5D,GAAgBv5D,EAAM80B,UACtB0kC,EAAathE,KAAKohE,WAAWt5D,EAAM6Z,MAAO0/C,GAC1CC,EAAa,IACbA,GAAcA,EAAa,GAE/B,IAAI79B,EAAWzjC,KAAKohE,WAAWt5D,EAAMqzB,IAAKkmC,EAAcC,GAMxD,OAJI79B,EAAW,EACXA,GAAYA,EAAW,EAEvBA,IACGzjC,KAAKutD,OAAO3nD,OAAO07D,EAAY79B,EAAW69B,EAAYx5D,IAGjE9H,KAAKuhE,QAAU,SAAStP,GAEpB,IADA,IAAIuP,EAAU,GACL5iE,EAAIqzD,EAAKpzD,OAAQD,KACtB4iE,EAAQpjE,KAAKC,MAAMmjE,EAASxhE,KAAK0qB,IAAIunC,EAAKrzD,KAE9C,OAAO4iE,GAGXxhE,KAAKyhE,eAAiB,SAASz7D,GAC3B,IAAIpH,EAAIoB,KAAKohE,WAAWp7D,GAExB,GAAIpH,GAAK,EACL,OAAOoB,KAAKutD,OAAO3nD,OAAOhH,EAAG,IAErCoB,KAAKswD,MAAQ,WAST,IARA,IAOoBxoD,EAPhB05D,EAAU,GACVvP,EAAOjyD,KAAKutD,OAMZ6C,GAJJ6B,EAAOA,EAAKiO,MAAK,SAAS5oD,EAAG6oD,GACzB,OAAO/iC,EAAc9lB,EAAEqK,MAAOw+C,EAAEx+C,WAGpB,GACP/iB,EAAI,EAAGA,EAAIqzD,EAAKpzD,OAAQD,IAAK,CAClCkJ,EAAQsoD,EACRA,EAAO6B,EAAKrzD,GACZ,IAAI48B,EAAM4B,EAAct1B,EAAMqzB,IAAKi1B,EAAKzuC,OACpC6Z,EAAM,IAGC,GAAPA,GAAa1zB,EAAM80B,WAAcwzB,EAAKxzB,aAGtCQ,EAAct1B,EAAMqzB,IAAKi1B,EAAKj1B,KAAO,IACrCrzB,EAAMqzB,IAAIF,IAAMm1B,EAAKj1B,IAAIF,IACzBnzB,EAAMqzB,IAAID,OAASk1B,EAAKj1B,IAAID,QAGhC+2B,EAAKrsD,OAAOhH,EAAG,GACf4iE,EAAQpjE,KAAKgyD,GACbA,EAAOtoD,EACPlJ,KAKJ,OAFAoB,KAAKutD,OAAS0E,EAEPuP,GAGXxhE,KAAKq7B,SAAW,SAASJ,EAAKC,GAC1B,OAAOl7B,KAAKohE,WAAW,CAACnmC,IAAKA,EAAKC,OAAQA,KAAY,GAG1Dl7B,KAAK0hE,cAAgB,SAAS17D,GAC1B,OAAOhG,KAAKohE,WAAWp7D,IAAQ,GAGnChG,KAAK2hE,aAAe,SAAS37D,GACzB,IAAIpH,EAAIoB,KAAKohE,WAAWp7D,GACxB,GAAIpH,GAAK,EACL,OAAOoB,KAAKutD,OAAO3uD,IAI3BoB,KAAKu8B,SAAW,SAASh1B,EAAUE,GAC/B,IAAIwqD,EAAOjyD,KAAKutD,OAChB,GAAI0E,EAAK,GAAGtwC,MAAMsZ,IAAMxzB,GAAUwqD,EAAKA,EAAKpzD,OAAS,GAAG8iB,MAAMsZ,IAAM1zB,EAChE,MAAO,GAEX,IAAI+5D,EAAathE,KAAKohE,WAAW,CAACnmC,IAAK1zB,EAAU2zB,OAAQ,IACrDomC,EAAa,IACbA,GAAcA,EAAa,GAC/B,IAAI79B,EAAWzjC,KAAKohE,WAAW,CAACnmC,IAAKxzB,EAAQyzB,OAAQ,GAAIomC,GACrD79B,EAAW,IACXA,GAAYA,EAAW,GAG3B,IADA,IAAIm+B,EAAU,GACLhjE,EAAI0iE,EAAY1iE,EAAI6kC,EAAU7kC,IACnCgjE,EAAQxjE,KAAK6zD,EAAKrzD,IAEtB,OAAOgjE,GAGX5hE,KAAK6hE,UAAY,WACb,OAAO7hE,KAAKutD,OAAO3nD,OAAO,EAAG5F,KAAKutD,OAAO1uD,SAG7CmB,KAAKu/C,OAAS,SAASz7C,GACf9D,KAAK8D,SACL9D,KAAKw/C,SAETx/C,KAAK8D,QAAUA,EACf9D,KAAKuC,SAAWvC,KAAK26D,UAAUt6D,KAAKL,MAEpCA,KAAK8D,QAAQV,GAAG,SAAUpD,KAAKuC,WAGnCvC,KAAKw/C,OAAS,WACLx/C,KAAK8D,UAEV9D,KAAK8D,QAAQ0xB,eAAe,SAAUx1B,KAAKuC,UAC3CvC,KAAK8D,QAAU,OAGnB9D,KAAK26D,UAAY,SAAS7hD,GAMtB,IALA,IAAI6I,EAAQ7I,EAAM6I,MACdwZ,EAAMriB,EAAMqiB,IACZ5zB,EAAWoa,EAAMsZ,IACjBxzB,EAAS0zB,EAAIF,IACbsyB,EAASvtD,KAAKutD,OACT3uD,EAAI,EAAG6hB,EAAI8sC,EAAO1uD,OAAQD,EAAI6hB,EAAG7hB,IAAK,CAE3C,IADIwuD,EAAIG,EAAO3uD,IACTu8B,IAAIF,KAAO1zB,EACb,MAGR,GAAoB,UAAhBuR,EAAM07B,OAGN,IAFA,IAAIstB,EAAUr6D,EAASF,EACnBwxD,GAAWp3C,EAAMuZ,OAASC,EAAID,OAC3Bt8B,EAAI6hB,EAAG7hB,IAAK,CAEf,IADIwuD,EAAIG,EAAO3uD,IACT+iB,MAAMsZ,IAAM1zB,EACd,MASJ,GAPI6lD,EAAEzrC,MAAMsZ,KAAO1zB,GAAY6lD,EAAEzrC,MAAMuZ,QAAUvZ,EAAMuZ,SAC/CkyB,EAAEzrC,MAAMuZ,QAAUvZ,EAAMuZ,QAAUl7B,KAAKmhE,OAAS,IAEhD/T,EAAEzrC,MAAMuZ,QAAU69B,EAClB3L,EAAEzrC,MAAMsZ,KAAO6mC,IAGnB1U,EAAEjyB,IAAIF,KAAO1zB,GAAY6lD,EAAEjyB,IAAID,QAAUvZ,EAAMuZ,OAAQ,CACvD,GAAIkyB,EAAEjyB,IAAID,QAAUvZ,EAAMuZ,QAAUl7B,KAAKmhE,MAAQ,EAC7C,SAEA/T,EAAEjyB,IAAID,QAAUvZ,EAAMuZ,QAAU69B,EAAU,GAAKn6D,EAAI6hB,EAAI,GACnD2sC,EAAEjyB,IAAID,OAASkyB,EAAEzrC,MAAMuZ,QAAUkyB,EAAEjyB,IAAID,QAAUqyB,EAAO3uD,EAAE,GAAG+iB,MAAMuZ,SACnEkyB,EAAEjyB,IAAID,QAAU69B,GAExB3L,EAAEjyB,IAAID,QAAU69B,EAChB3L,EAAEjyB,IAAIF,KAAO6mC,QAMrB,IAFIA,EAAUv6D,EAAWE,EACrBsxD,EAAUp3C,EAAMuZ,OAASC,EAAID,OAC1Bt8B,EAAI6hB,EAAG7hB,IAAK,CAGf,IAFIwuD,EAAIG,EAAO3uD,IAET+iB,MAAMsZ,IAAMxzB,EACd,MAEA2lD,EAAEjyB,IAAIF,IAAMxzB,IAERF,EAAW6lD,EAAEjyB,IAAIF,KACd1zB,GAAY6lD,EAAEjyB,IAAIF,KAAOtZ,EAAMuZ,OAASkyB,EAAEjyB,IAAID,SAGrDkyB,EAAEjyB,IAAIF,IAAM1zB,EACZ6lD,EAAEjyB,IAAID,OAASvZ,EAAMuZ,QAEhBkyB,EAAEjyB,IAAIF,KAAOxzB,EACd2lD,EAAEjyB,IAAID,QAAUC,EAAID,QAChB4mC,GAAW1U,EAAEjyB,IAAID,OAASvZ,EAAMuZ,UAChCkyB,EAAEjyB,IAAID,OAASvZ,EAAMuZ,OACrBkyB,EAAEjyB,IAAIF,IAAMtZ,EAAMsZ,MAItBmyB,EAAEjyB,IAAID,QAAU69B,EAChB3L,EAAEjyB,IAAIF,KAAO6mC,GAGZ1U,EAAEjyB,IAAIF,IAAMxzB,IACjB2lD,EAAEjyB,IAAIF,KAAO6mC,GAGb1U,EAAEzrC,MAAMsZ,IAAMxzB,IAEVF,EAAW6lD,EAAEzrC,MAAMsZ,KAChB1zB,GAAY6lD,EAAEzrC,MAAMsZ,KAAOtZ,EAAMuZ,OAASkyB,EAAEzrC,MAAMuZ,SAGzDkyB,EAAEzrC,MAAMsZ,IAAM1zB,EACd6lD,EAAEzrC,MAAMuZ,OAASvZ,EAAMuZ,QAElBkyB,EAAEzrC,MAAMsZ,KAAOxzB,EAChB2lD,EAAEzrC,MAAMuZ,QAAUC,EAAID,QAClB4mC,GAAW1U,EAAEzrC,MAAMuZ,OAASvZ,EAAMuZ,UAClCkyB,EAAEzrC,MAAMuZ,OAASvZ,EAAMuZ,OACvBkyB,EAAEzrC,MAAMsZ,IAAMtZ,EAAMsZ,MAIxBmyB,EAAEzrC,MAAMuZ,QAAU69B,EAClB3L,EAAEzrC,MAAMsZ,KAAO6mC,GAGd1U,EAAEzrC,MAAMsZ,IAAMxzB,IACnB2lD,EAAEzrC,MAAMsZ,KAAO6mC,GAK3B,GAAe,GAAXA,GAAgBljE,EAAI6hB,EACpB,KAAO7hB,EAAI6hB,EAAG7hB,IAAK,CACf,IAAIwuD,KAAIG,EAAO3uD,IACb+iB,MAAMsZ,KAAO6mC,EACf1U,EAAEjyB,IAAIF,KAAO6mC,MAK1BxkE,KAAK4jE,EAAU9jE,WAElB3B,EAAQylE,UAAYA,KAGpBr3D,IAAIC,OAAO,wBAAwB,CAAC,UAAU,UAAU,SAAS,iBAAiB,gBAAgB,SAAS7N,EAASR,EAASsO,GAC7H,aAEA,IAAIm3D,EAAYjlE,EAAQ,iBAAiBilE,UACrCl3D,EAAM/N,EAAQ,cACd8lE,EAAOtmE,EAAQsmE,KAAO,SAASj6D,EAAO04D,GACtCxgE,KAAK6qD,SAAW,KAChB7qD,KAAKwgE,YAAcA,EACnBxgE,KAAK8H,MAAQA,EACb9H,KAAK2hB,MAAQ7Z,EAAM6Z,MACnB3hB,KAAKm7B,IAAMrzB,EAAMqzB,IAEjBn7B,KAAKigE,QAAUn4D,EAAM6Z,MAAMsZ,KAAOnzB,EAAMqzB,IAAIF,IAC5Cj7B,KAAKgiE,SAAWhiE,KAAKutD,OAAS,IAuElC,SAAS0U,EAAa9G,EAAOxyB,GACzBwyB,EAAMlgC,KAAO0N,EAAO1N,IACH,GAAbkgC,EAAMlgC,MACNkgC,EAAMjgC,QAAUyN,EAAOzN,QAM/B,SAASgnC,EAAa/G,EAAOxyB,GACR,GAAbwyB,EAAMlgC,MACNkgC,EAAMjgC,QAAUyN,EAAOzN,QAC3BigC,EAAMlgC,KAAO0N,EAAO1N,IAhFxBjxB,EAAImjB,SAAS40C,EAAMb,GAEnB,WAEIlhE,KAAK+P,SAAW,WACZ,MAAO,IAAM/P,KAAKwgE,YAAc,KAAOxgE,KAAK8H,MAAMiI,YAGtD/P,KAAK+/D,YAAc,SAASlV,GACxB7qD,KAAK6qD,SAAWA,EAChB7qD,KAAKgiE,SAAS7hE,SAAQ,SAASi+C,GAC3BA,EAAK2hB,YAAYlV,OAIzB7qD,KAAK68B,MAAQ,WACT,IAAI/0B,EAAQ9H,KAAK8H,MAAM+0B,QACnBuhB,EAAO,IAAI2jB,EAAKj6D,EAAO9H,KAAKwgE,aAKhC,OAJAxgE,KAAKgiE,SAAS7hE,SAAQ,SAASgiE,GAC3B/jB,EAAK4jB,SAAS5jE,KAAK+jE,EAAQtlC,YAE/BuhB,EAAKgkB,iBAAmBpiE,KAAKoiE,iBACtBhkB,GAGXp+C,KAAKqiE,WAAa,SAASjkB,GACvB,IAAIp+C,KAAK8H,MAAMszB,QAAQgjB,GAAvB,CA+CR,IAAsBt2C,EAAO6gC,EAAP7gC,EA7CDs2C,EA6CQzV,EA7CF3oC,KAAK2hB,MA8C5BsgD,EAAan6D,EAAM6Z,MAAOgnB,GAC1Bs5B,EAAan6D,EAAMqzB,IAAKwN,GA5CpB,IADA,IAAI1N,EAAMmjB,EAAKz8B,MAAMsZ,IAAKC,EAASkjB,EAAKz8B,MAAMuZ,OACrCt8B,EAAI,EAAG48B,GAAO,EAAG58B,EAAIoB,KAAKgiE,SAASnjE,QAE7B,IADX28B,EAAMx7B,KAAKgiE,SAASpjE,GAAGkJ,MAAMwzB,QAAQL,EAAKC,IADMt8B,KAKpD,IAAI0jE,EAAatiE,KAAKgiE,SAASpjE,GAC3B2jE,EAAgB,EAEpB,GAAW,GAAP/mC,EAAU,CACV,GAAI8mC,EAAWx6D,MAAM4zB,cAAc0iB,GAC/B,OAAOkkB,EAAWD,WAAWjkB,GAE7BmkB,EAAgB,EAEpBtnC,EAAMmjB,EAAKt2C,MAAMqzB,IAAIF,IAAKC,EAASkjB,EAAKt2C,MAAMqzB,IAAID,OAAtD,IACS/iB,EAAIvZ,EAAb,IAAgB48B,GAAO,EAAGrjB,EAAInY,KAAKgiE,SAASnjE,QAE7B,IADX28B,EAAMx7B,KAAKgiE,SAAS7pD,GAAGrQ,MAAMwzB,QAAQL,EAAKC,IADM/iB,KAKzC,GAAPqjB,GAAWrjB,IAGf,IAFA,IAAIqqD,EAAgBxiE,KAAKgiE,SAASp8D,OAAOhH,EAAGuZ,EAAIvZ,EAAGw/C,GAC/C7gB,EAAc,GAAP/B,EAAWgnC,EAAc3jE,OAAS,EAAI2jE,EAAc3jE,OACtD4jE,EAAIF,EAAeE,EAAIllC,EAAMklC,IAClCrkB,EAAKikB,WAAWG,EAAcC,IAIlC,OAFArkB,EAAK2hB,YAAY//D,KAAK6qD,UAEfzM,IAGXp+C,KAAK0iE,aAAe,SAAS56D,GACzB,OAmBR,SAAsBA,EAAO6gC,GACzBu5B,EAAap6D,EAAM6Z,MAAOgnB,GAC1Bu5B,EAAap6D,EAAMqzB,IAAKwN,GArBb+5B,CAAa56D,EAAO9H,KAAK2hB,SAGrCrkB,KAAKykE,EAAK3kE,cAuBbyM,IAAIC,OAAO,2BAA2B,CAAC,UAAU,UAAU,SAAS,YAAY,6BAA6B,wBAAwB,uBAAuB,SAAS7N,EAASR,EAASsO,GACvL,aAEA,IAAIhC,EAAQ9L,EAAQ,YAAY8L,MAC5B63D,EAAW3jE,EAAQ,eAAe2jE,SAClCmC,EAAO9lE,EAAQ,UAAU8lE,KACzBpP,EAAgB12D,EAAQ,qBAAqB02D,cAivBjDl3D,EAAQknE,QA/uBR,WACI3iE,KAAKq+C,UAAY,SAASpjB,EAAKC,EAAQ0nC,GACnC,IAAI/X,EAAW7qD,KAAK8qD,YAAY7vB,GAChC,IAAK4vB,EACD,OAAO,KAGX,IADA,IAAIiV,EAAQjV,EAASiV,MACZlhE,EAAI,EAAGA,EAAIkhE,EAAMjhE,OAAQD,IAAK,CACnC,IAAIkJ,EAAQg4D,EAAMlhE,GAAGkJ,MACrB,GAAIA,EAAMuzB,SAASJ,EAAKC,GAAS,CAC7B,GAAY,GAAR0nC,GAAa96D,EAAM8zB,MAAMX,EAAKC,KAAYpzB,EAAM80B,UAChD,SACG,IAAa,GAATgmC,GAAc96D,EAAM+zB,QAAQZ,EAAKC,KAAYpzB,EAAM80B,UAC1D,SAEJ,OAAOkjC,EAAMlhE,MAIzBoB,KAAK6iE,gBAAkB,SAAS/6D,GAC5B,IAAI6Z,EAAQ7Z,EAAM6Z,MACdwZ,EAAMrzB,EAAMqzB,IACZ2nC,EAAY9iE,KAAK2N,UACjBo1D,EAAa,GAEjBphD,EAAMuZ,QAAU,EAChBC,EAAID,QAAU,EAEd,IAAK,IAAIt8B,EAAI,EAAGA,EAAIkkE,EAAUjkE,OAAQD,IAAK,CACvC,IAAI48B,EAAMsnC,EAAUlkE,GAAGkJ,MAAMyzB,aAAazzB,GAC1C,GAAW,GAAP0zB,EAAJ,CAGK,IAAY,GAARA,EACL,MAIJ,IADA,IAAIskC,EAAQgD,EAAUlkE,GAAGkhE,MAChB3nD,EAAI,EAAGA,EAAI2nD,EAAMjhE,OAAQsZ,IAAK,CACnC,IAAIimC,EAAO0hB,EAAM3nD,GAEjB,IAAY,IADZqjB,EAAM4iB,EAAKt2C,MAAMyzB,aAAazzB,IAE1B,MACG,GAAW,GAAP0zB,EAAJ,CAGP,GAAW,IAAPA,EACA,MAEJunC,EAAW3kE,KAAKggD,MAMxB,OAHAz8B,EAAMuZ,QAAU,EAChBC,EAAID,QAAU,EAEP6nC,GAGX/iE,KAAKgjE,oBAAsB,SAASzV,GAChC,GAAI5oD,MAAMC,QAAQ2oD,GAAS,CACvB,IAAIuS,EAAQ,GACZvS,EAAOptD,SAAQ,SAAS2H,GACpBg4D,EAAQA,EAAMl9D,OAAO5C,KAAK6iE,gBAAgB/6D,MAC3C9H,WAEC8/D,EAAQ9/D,KAAK6iE,gBAAgBtV,GAErC,OAAOuS,GAEX9/D,KAAKijE,YAAc,WAIf,IAHA,IAAInD,EAAQ,GACRgD,EAAY9iE,KAAK2N,UAEZ/O,EAAI,EAAGA,EAAIkkE,EAAUjkE,OAAQD,IAClC,IAAK,IAAIuZ,EAAI,EAAGA,EAAI2qD,EAAUlkE,GAAGkhE,MAAMjhE,OAAQsZ,IAC3C2nD,EAAM1hE,KAAK0kE,EAAUlkE,GAAGkhE,MAAM3nD,IAEtC,OAAO2nD,GAEX9/D,KAAKksD,gBAAkB,SAASjxB,EAAKC,EAAQ31B,EAAMslD,GAE/C,KADAA,EAAWA,GAAY7qD,KAAK8qD,YAAY7vB,IAEpC,OAAO,KAMX,IAJA,IAGIuD,EAAK4f,EAHL8kB,EAAW,CACX/nC,IAAK,CAAED,OAAQ,IAGVt8B,EAAI,EAAGA,EAAIisD,EAASiV,MAAMjhE,OAAQD,IAAK,CAE5C,IAAI48B,GADJ4iB,EAAOyM,EAASiV,MAAMlhE,IACPkJ,MAAMu0B,WAAWpB,EAAKC,GACrC,IAAY,GAARM,EAAW,CACXgD,EAAMx+B,KACD4iC,QAAQwb,EAAKz8B,MAAMsZ,KACnB/kB,UAAUgtD,EAAS/nC,IAAID,OAAQkjB,EAAKz8B,MAAMuZ,QAC/C,MAEC,GAAY,IAARM,EACL,OAAO,KAEX0nC,EAAW9kB,EAKf,OAHK5f,IACDA,EAAMx+B,KAAK4iC,QAAQwb,EAAKz8B,MAAMsZ,KAAK/kB,UAAUgtD,EAAS/nC,IAAID,UAEjD,GAAT31B,EACOi5B,EAAItoB,UAAU,EAAGglB,EAASgoC,EAAS/nC,IAAID,QACjC,GAAR31B,EACEi5B,EAAItoB,UAAUglB,EAASgoC,EAAS/nC,IAAID,QAEpCsD,GAGfx+B,KAAK8qD,YAAc,SAAStG,EAAQ2e,GAChC,IAAItD,EAAW7/D,KAAK2N,UAChB/O,EAAI,EAKR,IAJIukE,IACAvkE,EAAIihE,EAASl6D,QAAQw9D,KACf,GAANvkE,IACAA,EAAI,GACAA,EAAIihE,EAAShhE,OAAQD,IAAK,CAC9B,IAAIisD,EAAWgV,EAASjhE,GACxB,GAAIisD,EAASlpC,MAAMsZ,KAAOupB,GAAUqG,EAAS1vB,IAAIF,KAAOupB,EACpD,OAAOqG,EACJ,GAAIA,EAAS1vB,IAAIF,IAAMupB,EAC1B,OAAO,KAGf,OAAO,MAEXxkD,KAAKojE,gBAAkB,SAAS5e,EAAQ2e,GACpC,IAAItD,EAAW7/D,KAAK2N,UAChB/O,EAAI,EAKR,IAJIukE,IACAvkE,EAAIihE,EAASl6D,QAAQw9D,KACf,GAANvkE,IACAA,EAAI,GACAA,EAAIihE,EAAShhE,OAAQD,IAAK,CAC9B,IAAIisD,EAAWgV,EAASjhE,GACxB,GAAIisD,EAAS1vB,IAAIF,KAAOupB,EACpB,OAAOqG,EAGf,OAAO,MAGX7qD,KAAKqjE,kBAAoB,SAASpE,EAAO1hC,GAErC,IADA,IAAIsiC,EAAW7/D,KAAK2N,UAAWo/C,EAAWxvB,EAAK0hC,EAAM,EAC5CrgE,EAAI,EAAGA,EAAIihE,EAAShhE,OAAQD,IAAK,CACtC,IAAIisD,EAAWgV,EAASjhE,GACpBu8B,EAAM0vB,EAAS1vB,IAAIF,IACnBtZ,EAAQkpC,EAASlpC,MAAMsZ,IAC3B,GAAIE,GAAOoC,EAAM,CACT5b,EAAQ4b,IACJ5b,GAASs9C,EACTlS,GAAYxvB,EAAK5b,EAEjBorC,EAAW,GAEnB,MACO5xB,GAAO8jC,IAEVlS,GADAprC,GAASs9C,EACI9jC,EAAIxZ,EAEJwZ,EAAI8jC,EAAM,GAGnC,OAAOlS,GAGX/sD,KAAKsjE,aAAe,SAASzY,GAKzB,OAJA7qD,KAAK2N,UAAUvP,KAAKysD,GACpB7qD,KAAK2N,UAAUuyD,MAAK,SAAS5oD,EAAG6oD,GAC5B,OAAO7oD,EAAEqK,MAAMsZ,IAAMklC,EAAEx+C,MAAMsZ,OAE1B4vB,GAEX7qD,KAAK4+C,QAAU,SAAS4hB,EAAa14D,GACjC,IAEIs2C,EAFAyhB,EAAW7/D,KAAK2N,UAChB41D,GAAQ,EAGR/C,aAAuBuB,EACvB3jB,EAAOoiB,GAEPpiB,EAAO,IAAI2jB,EAAKj6D,EAAO04D,IAClB4B,iBAAmBt6D,EAAMs6D,iBAElCpiE,KAAKwjE,qBAAqBplB,EAAKt2C,OAE/B,IAAIP,EAAW62C,EAAKz8B,MAAMsZ,IACtBF,EAAcqjB,EAAKz8B,MAAMuZ,OACzBzzB,EAAS22C,EAAKjjB,IAAIF,IAClBD,EAAYojB,EAAKjjB,IAAID,OAErBuoC,EAAYzjE,KAAKq+C,UAAU92C,EAAUwzB,EAAa,GAClD2oC,EAAU1jE,KAAKq+C,UAAU52C,EAAQuzB,GAAY,GACjD,GAAIyoC,GAAaC,GAAWD,EACxB,OAAOA,EAAUpB,WAAWjkB,GAE5BqlB,IAAcA,EAAU37D,MAAM+zB,QAAQt0B,EAAUwzB,IAChD/6B,KAAKs+C,WAAWmlB,GAEhBC,IAAYA,EAAQ57D,MAAM8zB,MAAMn0B,EAAQuzB,IACxCh7B,KAAKs+C,WAAWolB,GACpB,IAAI5D,EAAQ9/D,KAAK6iE,gBAAgBzkB,EAAKt2C,OAClCg4D,EAAMjhE,OAAS,IACfmB,KAAK2jE,YAAY7D,GACZ1hB,EAAKgkB,kBACNtC,EAAM3/D,SAAQ,SAASgiE,GACnB/jB,EAAKikB,WAAWF,OAK5B,IAAK,IAAIvjE,EAAI,EAAGA,EAAIihE,EAAShhE,OAAQD,IAAK,CACtC,IAAIisD,EAAWgV,EAASjhE,GACxB,GAAI6I,GAAUojD,EAASlpC,MAAMsZ,IAAK,CAC9B4vB,EAASjM,QAAQR,GACjBmlB,GAAQ,EACR,MACG,GAAIh8D,GAAYsjD,EAAS1vB,IAAIF,IAAK,CAGrC,GAFA4vB,EAASjM,QAAQR,GACjBmlB,GAAQ,GACHnlB,EAAK6hB,QAAS,CACf,IAAIc,EAAelB,EAASjhE,EAAI,GAChC,GAAImiE,GAAgBA,EAAap/C,MAAMsZ,KAAOxzB,EAAQ,CAClDojD,EAASyF,MAAMyQ,GACf,OAGR,MACG,GAAIt5D,GAAUojD,EAASlpC,MAAMsZ,IAChC,MAcR,OAVKsoC,IACD1Y,EAAW7qD,KAAKsjE,aAAa,IAAI1D,EAAS5/D,KAAK2N,UAAWywC,KAE1Dp+C,KAAKqlD,aACLrlD,KAAK4jE,gBAAgB/Y,EAASlpC,MAAMsZ,IAAK4vB,EAASlpC,MAAMsZ,KAExDj7B,KAAK6jE,sBAAsBhZ,EAASlpC,MAAMsZ,IAAK4vB,EAASlpC,MAAMsZ,KAClEj7B,KAAK8jE,WAAY,EACjB9jE,KAAK2lC,QAAQ,aAAc,CAAEzzB,KAAMksC,EAAM5J,OAAQ,QAE1C4J,GAGXp+C,KAAK+jE,SAAW,SAASjE,GACrBA,EAAM3/D,SAAQ,SAASi+C,GACnBp+C,KAAK4+C,QAAQR,KACdp+C,OAGPA,KAAKs+C,WAAa,SAASF,GACvB,IAAIyM,EAAWzM,EAAKyM,SAChBtjD,EAAWsjD,EAASlpC,MAAMsZ,IAC1BxzB,EAASojD,EAAS1vB,IAAIF,IAEtB6nC,EAAY9iE,KAAK2N,UACjBmyD,EAAQjV,EAASiV,MACrB,GAAoB,GAAhBA,EAAMjhE,OACNikE,EAAUl9D,OAAOk9D,EAAUn9D,QAAQklD,GAAW,QAElD,GAAIA,EAAS/iD,MAAM8zB,MAAMwiB,EAAKjjB,IAAIF,IAAKmjB,EAAKjjB,IAAID,QAC5C4kC,EAAMztD,MACNw4C,EAAS1vB,IAAIF,IAAM6kC,EAAMA,EAAMjhE,OAAS,GAAGs8B,IAAIF,IAC/C4vB,EAAS1vB,IAAID,OAAS4kC,EAAMA,EAAMjhE,OAAS,GAAGs8B,IAAID,YAEtD,GAAI2vB,EAAS/iD,MAAM+zB,QAAQuiB,EAAKz8B,MAAMsZ,IAAKmjB,EAAKz8B,MAAMuZ,QAClD4kC,EAAMt7C,QACNqmC,EAASlpC,MAAMsZ,IAAM6kC,EAAM,GAAGn+C,MAAMsZ,IACpC4vB,EAASlpC,MAAMuZ,OAAS4kC,EAAM,GAAGn+C,MAAMuZ,YAE3C,GAAIkjB,EAAK6hB,QACLH,EAAMl6D,OAAOk6D,EAAMn6D,QAAQy4C,GAAO,OAEtC,CACI,IAAI0iB,EAAcjW,EAASrlD,MAAM44C,EAAKz8B,MAAMsZ,IAAKmjB,EAAKz8B,MAAMuZ,SAC5D4kC,EAAQgB,EAAYhB,OACdt7C,QACNs8C,EAAYn/C,MAAMsZ,IAAM6kC,EAAM,GAAGn+C,MAAMsZ,IACvC6lC,EAAYn/C,MAAMuZ,OAAS4kC,EAAM,GAAGn+C,MAAMuZ,OAGzCl7B,KAAKgkE,YACFhkE,KAAKqlD,aACLrlD,KAAK4jE,gBAAgBr8D,EAAUE,GAE/BzH,KAAK6jE,sBAAsBt8D,EAAUE,IAE7CzH,KAAK8jE,WAAY,EACjB9jE,KAAK2lC,QAAQ,aAAc,CAAEzzB,KAAMksC,EAAM5J,OAAQ,YAGrDx0C,KAAK2jE,YAAc,SAAS7D,GAExB,IADA,IAAImE,EAAa,GACRrlE,EAAI,EAAGA,EAAIkhE,EAAMjhE,OAAQD,IAC9BqlE,EAAW7lE,KAAK0hE,EAAMlhE,IAG1BqlE,EAAW9jE,SAAQ,SAASi+C,GACxBp+C,KAAKs+C,WAAWF,KACjBp+C,MACHA,KAAK8jE,WAAY,GAGrB9jE,KAAKu+C,WAAa,SAASH,GACvBp+C,KAAKs+C,WAAWF,GAChBA,EAAK4jB,SAAS7hE,SAAQ,SAASgiE,GAC3B/jB,EAAKskB,aAAaP,GAClBniE,KAAK4+C,QAAQujB,KACdniE,MACCo+C,EAAKgkB,iBAAmB,GACxBpiE,KAAKkkE,QAAQ9lB,EAAKz8B,MAAMsZ,IAAI,EAAGmjB,EAAKjjB,IAAIF,IAAKmjB,EAAKgkB,iBAAiB,GAEvEhkB,EAAK4jB,SAAW,IAGpBhiE,KAAKmkE,YAAc,SAASrE,GACxBA,EAAM3/D,SAAQ,SAASi+C,GACnBp+C,KAAKu+C,WAAWH,KACjBp+C,OAGPA,KAAKokE,OAAS,SAASnrC,EAAUorC,GAC7B,IAAIv8D,EAAOg4D,EAiBX,GAhBgB,MAAZ7mC,GACAnxB,EAAQ,IAAIC,EAAM,EAAG,EAAG/H,KAAKiuC,YAAa,GACvB,MAAfo2B,IAAqBA,GAAc,IAEvCv8D,EAD0B,iBAAZmxB,EACN,IAAIlxB,EAAMkxB,EAAU,EAAGA,EAAUj5B,KAAK4iC,QAAQ3J,GAAUp6B,QAC3D,QAASo6B,EACNlxB,EAAM20B,WAAWzD,EAAUA,GAE3BA,EAEZ6mC,EAAQ9/D,KAAKgjE,oBAAoBl7D,GACd,GAAfu8D,EACArkE,KAAK2jE,YAAY7D,GAEjB9/D,KAAKmkE,YAAYrE,GAEjBA,EAAMjhE,OACN,OAAOihE,GAEf9/D,KAAKskE,YAAc,SAAS9f,EAAQ+f,GAChC,QAASvkE,KAAK8qD,YAAYtG,EAAQ+f,IAGtCvkE,KAAKwkE,cAAgB,SAAShgB,EAAQ+f,GAClC,IAAI1Z,EAAW7qD,KAAK8qD,YAAYtG,EAAQ+f,GACxC,OAAO1Z,EAAWA,EAAS1vB,IAAIF,IAAMupB,GAGzCxkD,KAAKykE,gBAAkB,SAASjgB,EAAQ+f,GACpC,IAAI1Z,EAAW7qD,KAAK8qD,YAAYtG,EAAQ+f,GACxC,OAAO1Z,EAAWA,EAASlpC,MAAMsZ,IAAMupB,GAG3CxkD,KAAK0kE,mBAAqB,SAAS7Z,EAAUpjD,EAAQuzB,EAAWzzB,EAAUwzB,GACtD,MAAZxzB,IACAA,EAAWsjD,EAASlpC,MAAMsZ,KACX,MAAfF,IACAA,EAAc,GACJ,MAAVtzB,IACAA,EAASojD,EAAS1vB,IAAIF,KACT,MAAbD,IACAA,EAAYh7B,KAAK4iC,QAAQn7B,GAAQ5I,QACrC,IAAI4qB,EAAMzpB,KAAKypB,IACXk7C,EAAW,GAiBf,OAfA9Z,EAASwV,MAAK,SAASG,EAAavlC,EAAKC,EAAQ0pC,GAC7C,KAAI3pC,EAAM1zB,GAAV,CAEA,GAAI0zB,GAAO1zB,EAAU,CACjB,GAAI2zB,EAASH,EACT,OACJ6pC,EAAarsD,KAAK7K,IAAIqtB,EAAa6pC,GAInCD,GADe,MAAfnE,EACYA,EAEA/2C,EAAImZ,QAAQ3H,GAAK/kB,UAAU0uD,EAAY1pC,MAExDzzB,EAAQuzB,GACJ2pC,GAGX3kE,KAAKurD,eAAiB,SAAStwB,EAAKD,EAAWzzB,EAAUwzB,GACrD,IAGQrgB,EAHJmwC,EAAW7qD,KAAK8qD,YAAY7vB,GAEhC,OAAK4vB,EAKM7qD,KAAK0kE,mBACR7Z,EAAU5vB,EAAKD,EAAWzzB,EAAUwzB,IAJxCrgB,EAAO1a,KAAKypB,IAAImZ,QAAQ3H,IACZ/kB,UAAU6kB,GAAe,EAAGC,GAAatgB,EAAK7b,SAOlEmB,KAAK4N,eAAiB,WAClB,IAAIi3D,EAAK,GAQT,OAPAA,EAAK7kE,KAAK2N,UAAUsE,KAAI,SAAS44C,GAC7B,IAAIiV,EAAQjV,EAASiV,MAAM7tD,KAAI,SAASmsC,GACpC,OAAOA,EAAKvhB,WAEhB,OAAO,IAAI+iC,EAASiF,EAAI/E,OAMhC9/D,KAAK8kE,WAAa,SAASC,GACvB,IAEI3mB,EACA4mB,EAFAl9D,EADY9H,KAAK0D,UACCi/B,WAItB,GAAI76B,EAAM80B,UAAW,CACjB,IAAIhpB,EAAS9L,EAAM6Z,MAGnB,GAFAy8B,EAAOp+C,KAAKq+C,UAAUzqC,EAAOqnB,IAAKrnB,EAAOsnB,QAIrC,YADAl7B,KAAKu+C,WAAWH,IAET4mB,EAAahlE,KAAK01D,oBAAoB9hD,IACP,GAAlC9L,EAAM2zB,aAAaupC,GACnBl9D,EAAMqzB,IAAM6pC,GAEZl9D,EAAM6Z,MAAQqjD,EACdl9D,EAAM6Z,MAAMuZ,SACZpzB,EAAMqzB,IAAID,WAEP8pC,EAAahlE,KAAK01D,oBAAoB,CAACz6B,IAAKrnB,EAAOqnB,IAAKC,OAAQtnB,EAAOsnB,OAAS,MACjD,GAAlCpzB,EAAM2zB,aAAaupC,GACnBl9D,EAAMqzB,IAAM6pC,EAEZl9D,EAAM6Z,MAAQqjD,EAElBl9D,EAAM6Z,MAAMuZ,UAEZpzB,EAAQ9H,KAAKilE,oBAAoBrxD,EAAOqnB,IAAKrnB,EAAOsnB,SAAWpzB,MAEhE,CACH,IAAIg4D,EAAQ9/D,KAAK6iE,gBAAgB/6D,GACjC,GAAIi9D,GAAejF,EAAMjhE,OAErB,YADAmB,KAAKmkE,YAAYrE,GAEM,GAAhBA,EAAMjhE,SACbu/C,EAAO0hB,EAAM,IAOrB,GAHK1hB,IACDA,EAAOp+C,KAAKq+C,UAAUv2C,EAAM6Z,MAAMsZ,IAAKnzB,EAAM6Z,MAAMuZ,SAEnDkjB,GAAQA,EAAKt2C,MAAMiI,YAAcjI,EAAMiI,WACvC/P,KAAKu+C,WAAWH,OADpB,CAKA,IAAIoiB,EAAc,MAClB,IAAK14D,EAAMq0B,cAAe,CAEtB,IADAqkC,EAAcxgE,KAAK8xC,aAAahqC,IAChBjJ,OAAS,EACrB,OACJ2hE,EAAcA,EAAYj7D,OAAO2Q,UAAU,EAAG,GAAK,KAGvDlW,KAAK4+C,QAAQ4hB,EAAa14D,KAG9B9H,KAAKilE,oBAAsB,SAAShqC,EAAKC,EAAQ6kB,GAC7C,IAAIriD,EAAW,IAAIi1D,EAAc3yD,KAAMi7B,EAAKC,GACxC2zB,EAAQnxD,EAAS41D,kBACjB3rD,EAAOknD,GAASA,EAAMlnD,KAC1B,GAAIknD,GAAS,kBAAkBz9C,KAAKzJ,GAAO,CAE3B,YADZA,EAAOA,EAAK6K,MAAM,kBAAkB,MAEhC7K,GAAQ,cACZ,IAAIszC,EAAK,IAAI/qC,OAAOvI,GAChBG,EAAQ,IAAIC,EAChB,GAAW,GAAPg4C,EAAU,CACV,GACI8O,EAAQnxD,EAAS01D,qBACZvE,GAAS5T,EAAG7pC,KAAKy9C,EAAMlnD,OAChCjK,EAAS21D,cAQb,GALAvrD,EAAM6Z,MAAMsZ,IAAMv9B,EAAS61D,qBAC3BzrD,EAAM6Z,MAAMuZ,OAASx9B,EAAS81D,wBAA0B,EAExD91D,EAAW,IAAIi1D,EAAc3yD,KAAMi7B,EAAKC,IAE5B,GAAR6kB,EAAW,CACX,IAAItjB,GAAW,EACf,GAEI,GADAoyB,EAAQnxD,EAAS21D,eACD,GAAZ52B,EAAe,CACf,IAAI6W,EAAQtzC,KAAKo/D,SAAS1hE,EAASq1D,MAC9B9X,EAAG7pC,KAAKkiC,KACT7W,EAAU/+B,EAASq1D,WACpB,GAAIr1D,EAASq1D,KAAOt2B,EACvB,YAECoyB,GAAS5T,EAAG7pC,KAAKy9C,EAAMlnD,OAChCknD,EAAQnxD,EAAS01D,oBAEjBvE,EAAQnxD,EAAS41D,kBAIrB,OAFAxrD,EAAMqzB,IAAIF,IAAMv9B,EAAS61D,qBACzBzrD,EAAMqzB,IAAID,OAASx9B,EAAS81D,wBAA0B3E,EAAMnzD,MAAMmD,OAAS,EACpEiJ,IAIf9H,KAAKkkE,QAAU,SAAS38D,EAAUE,EAAQy9D,EAAO9zD,QAChC3K,GAATy+D,IACAA,EAAQ,KACZ,IAAI1mB,EAAcx+C,KAAKw+C,YACvB,GAAKA,EAAL,CAEA/2C,EAASA,GAAUzH,KAAKiuC,YAExB,IAAK,IAAIhT,EADT1zB,EAAWA,GAAY,EACE0zB,EAAMxzB,EAAQwzB,IAGnC,GAFwB,MAApBujB,EAAYvjB,KACZujB,EAAYvjB,GAAOj7B,KAAKmlE,cAAclqC,IAClB,SAApBujB,EAAYvjB,MAGZ7pB,GAASA,EAAK6pB,IAAlB,CAEA,IAAInzB,EAAQ9H,KAAKolE,mBAAmBnqC,GAChCnzB,GAASA,EAAMq0B,eACZr0B,EAAMqzB,IAAIF,KAAOxzB,GACjBK,EAAM6Z,MAAMsZ,KAAO1zB,IAEtB0zB,EAAMnzB,EAAMqzB,IAAIF,IAChBnzB,EAAMs6D,iBAAmB8C,EACzBllE,KAAK4+C,QAAQ,MAAO92C,OAKhC9H,KAAKqlE,YAAc,SAASpe,GAExB,IADAjnD,KAAKkkE,UACEjd,KAAU,GACbjnD,KAAKokE,OAAO,MAAM,IAG1BpkE,KAAKslE,gBAAkB,WACnB,IAAIxhE,EAAU9D,KACdA,KAAKkkE,QAAQ,KAAM,KAAM,MAAM,SAASjpC,GAEpC,IADA,IAAI5a,EAASvc,EAAQmvD,UAAUh4B,GACtBr8B,EAAI,EAAGA,EAAIyhB,EAAOxhB,OAAQD,IAAK,CACpC,IAAIiwD,EAAQxuC,EAAOzhB,GACnB,GAAkB,QAAdiwD,EAAMlnD,OAAkB,QAAQyJ,KAAKy9C,EAAMnzD,OAE/C,QAAI,UAAU0V,KAAKy9C,EAAMlnD,WAMrC3H,KAAKulE,YAAc,CACf,OAAU,EACV,UAAa,EACb,aAAgB,GAEpBvlE,KAAKwlE,WAAa,YAClBxlE,KAAKylE,aAAe,SAASh9D,GACzB,IAAKzI,KAAKulE,YAAY98D,GAClB,MAAM,IAAI4L,MAAM,uBAAyB5L,EAAQ,IAAMlN,OAAOwC,KAAKiC,KAAKulE,aAAa1/D,KAAK,MAAQ,KAEtG,GAAI7F,KAAKwlE,YAAc/8D,EAAvB,CAGAzI,KAAKwlE,WAAa/8D,EAEL,UAATA,GACAzI,KAAKokE,SACT,IAAIljE,EAAOlB,KAAK0lE,UAChB1lE,KAAK2lE,YAAY,MACjB3lE,KAAK2lE,YAAYzkE,KAGrBlB,KAAK2lE,YAAc,SAASC,GACpB5lE,KAAK0lE,WAAaE,IAGtB5lE,KAAK0lE,UAAYE,EAEjB5lE,KAAKmlC,IAAI,SAAUnlC,KAAK6lE,oBACxB7lE,KAAKmlC,IAAI,kBAAmBnlC,KAAK8lE,6BACjC9lE,KAAK2lC,QAAQ,oBAERigC,GAA+B,UAAnB5lE,KAAKwlE,YAKtBxlE,KAAKw+C,YAAc,GACnBx+C,KAAKmlE,cAAgBS,EAAST,cAAc9kE,KAAKulE,EAAU5lE,KAAMA,KAAKwlE,YACtExlE,KAAKolE,mBAAqBQ,EAASR,mBAAmB/kE,KAAKulE,EAAU5lE,KAAMA,KAAKwlE,YAEhFxlE,KAAK6lE,mBAAqB7lE,KAAK+lE,kBAAkB1lE,KAAKL,MACtDA,KAAK8lE,4BAA8B9lE,KAAKgmE,2BAA2B3lE,KAAKL,MACxEA,KAAKoD,GAAG,SAAUpD,KAAK6lE,oBACvB7lE,KAAKoD,GAAG,kBAAmBpD,KAAK8lE,8BAX5B9lE,KAAKw+C,YAAc,OAc3Bx+C,KAAK0+C,uBAAyB,SAAUzjB,EAAKgrC,GACzC,IAAIC,EAAKlmE,KAAKw+C,YACd,IAAK0nB,GAAOD,GAAiBC,EAAGjrC,GAC5B,MAAO,GAGX,IADA,IAAiB0jB,EAAb//C,EAAIq8B,EAAM,EACPr8B,GAAK,GAAG,CACX,IAAI2iD,EAAI2kB,EAAGtnE,GAIX,GAHS,MAAL2iD,IACAA,EAAI2kB,EAAGtnE,GAAKoB,KAAKmlE,cAAcvmE,IAE1B,SAAL2iD,EAAc,CACd,IAAIz5C,EAAQ9H,KAAKolE,mBAAmBxmE,GAGpC,GAFK+/C,IACDA,EAAa72C,GACbA,GAASA,EAAMqzB,IAAIF,KAAOA,EAC1B,MAERr8B,IAGJ,MAAO,CACHkJ,OAAc,IAAPlJ,GAAYkJ,EACnB62C,WAAYA,IAIpB3+C,KAAKy+C,kBAAoB,SAASxjB,EAAKppB,GAEnC,IAAIuX,EAAU,CACV+8C,UAFJt0D,EAAIA,EAAEu0B,UAEUjQ,SACZukB,IAAK7oC,EAAEokB,SAAWpkB,EAAE+mB,QACpBwtC,SAAUv0D,EAAEqkB,QAIhB,IADYl2B,KAAKqmE,kBAAkBprC,EAAK7R,GAC5B,CACR,IAAI/d,EAAMwG,EAAEnT,QAAUmT,EAAEg8B,WACpBxiC,GAAM,kBAAkB+F,KAAK/F,EAAGtK,aAChCsK,EAAGtK,WAAa,kBAI5Bf,KAAKqmE,kBAAoB,SAASprC,EAAK7R,GACnC,GAAKppB,KAAKmlE,cAAV,CAEA,IAAIx9D,EAAO3H,KAAKmlE,cAAclqC,GAC1BvgB,EAAO1a,KAAK4iC,QAAQ3H,GAEpB8kB,EAAe,QAATp4C,GAAkB,EAAI,EAC5By2C,EAAOp+C,KAAKq+C,UAAUpjB,GAAc,IAAT8kB,EAAa,EAAIrlC,EAAK7b,OAAQkhD,GAE7D,GAAI3B,EAKA,OAJIh1B,EAAQ+8C,UAAY/8C,EAAQsxB,IAC5B16C,KAAKs+C,WAAWF,GAEhBp+C,KAAKu+C,WAAWH,GACbA,EAGX,IAAIt2C,EAAQ9H,KAAKolE,mBAAmBnqC,GAAK,GACzC,GAAInzB,IAAUA,EAAMq0B,gBAChBiiB,EAAOp+C,KAAKq+C,UAAUv2C,EAAM6Z,MAAMsZ,IAAKnzB,EAAM6Z,MAAMuZ,OAAQ,KAC/CpzB,EAAMszB,QAAQgjB,EAAKt2C,OAE3B,OADA9H,KAAKs+C,WAAWF,GACTA,EAIf,GAAIh1B,EAAQg9C,SAAU,CAClB,IAAIl0D,EAAOlS,KAAK0+C,uBAAuBzjB,GACvC,GAAI/oB,EAAKpK,MACL,IAAIP,EAAW2K,EAAKpK,MAAM6Z,MAAMsZ,IAAM,EAClCxzB,EAASyK,EAAKpK,MAAMqzB,IAAIF,IAEhCj7B,KAAKkkE,QAAQ38D,EAAUE,EAAQ2hB,EAAQsxB,IAAM,IAAQ,QAC9CtxB,EAAQ+8C,UACf1+D,EAASK,EAAQA,EAAMqzB,IAAIF,IAAMj7B,KAAKiuC,YACtCjuC,KAAKkkE,QAAQjpC,EAAM,EAAGxzB,EAAQ2hB,EAAQsxB,IAAM,IAAQ,IAC7C5yC,IACHshB,EAAQsxB,MACR5yC,EAAMs6D,iBAAmB,KAC7BpiE,KAAK4+C,QAAQ,MAAO92C,IAGxB,OAAOA,IAKX9H,KAAKsmE,iBAAmB,SAASC,GAC7B,IAAItrC,EAAMj7B,KAAK0D,UAAU0kD,YAAYntB,IACrCA,EAAMj7B,KAAKykE,gBAAgBxpC,GAC3B,IAAInzB,EAAQ9H,KAAKqmE,kBAAkBprC,EAAK,IAExC,IAAInzB,EAAJ,CAEA,IAAIoK,EAAOlS,KAAK0+C,uBAAuBzjB,GAAK,GAG5C,GAFAnzB,EAAQoK,EAAKpK,OAASoK,EAAKysC,WAEhB,CACP1jB,EAAMnzB,EAAM6Z,MAAMsZ,IAClB,IAAImjB,EAAOp+C,KAAKq+C,UAAUpjB,EAAKj7B,KAAK4iC,QAAQ3H,GAAKp8B,OAAQ,GAErDu/C,EACAp+C,KAAKs+C,WAAWF,GAEhBp+C,KAAK4+C,QAAQ,MAAO92C,MAKhC9H,KAAK+lE,kBAAoB,SAASjtD,GAC9B,IAAI0jB,EAAW1jB,EAAM6I,MAAMsZ,IACvBgmB,EAAMnoC,EAAMqiB,IAAIF,IAAMuB,EAE1B,GAAY,IAARykB,EACAjhD,KAAKw+C,YAAYhiB,GAAY,UAC1B,GAAoB,UAAhB1jB,EAAM07B,OACbx0C,KAAKw+C,YAAY54C,OAAO42B,EAAUykB,EAAM,EAAG,UACxC,CACH,IAAIruC,EAAOjO,MAAMs8C,EAAM,GACvBruC,EAAK2D,QAAQimB,EAAU,GACvBx8B,KAAKw+C,YAAY54C,OAAOvH,MAAM2B,KAAKw+C,YAAa5rC,KAGxD5S,KAAKgmE,2BAA6B,SAASn0D,GACvC,IAAI46C,EAAO56C,EAAEK,KACTu6C,EAAKwS,OAASxS,EAAKlvB,MACfv9B,KAAKw+C,YAAY3/C,OAAS4tD,EAAKwS,OAC/Bj/D,KAAKw+C,YAAY54C,OAAO6mD,EAAKwS,MAAOj/D,KAAKw+C,YAAY3/C,aASrEgL,IAAIC,OAAO,iCAAiC,CAAC,UAAU,UAAU,SAAS,qBAAqB,cAAc,SAAS7N,EAASR,EAASsO,GACxI,aAEA,IAAI4oD,EAAgB12D,EAAQ,qBAAqB02D,cAC7C5qD,EAAQ9L,EAAQ,YAAY8L,MAuMhCtM,EAAQ+qE,aApMR,WAEIxmE,KAAK01D,oBAAsB,SAAS7pC,EAAU46C,GAC1C,GAAuB,GAAnB56C,EAASqP,OAAa,OAAO,KAEjC,IAAIwrC,EAAmBD,GAAOzmE,KAAK4iC,QAAQ/W,EAASoP,KAAKxhB,OAAOoS,EAASqP,OAAO,GAChF,GAAwB,IAApBwrC,EAAwB,OAAO,KAEnC,IAAIl0D,EAAQk0D,EAAiBl0D,MAAM,yBACnC,OAAKA,EAGDA,EAAM,GACCxS,KAAK2mE,oBAAoBn0D,EAAM,GAAIqZ,GAEnC7rB,KAAKo1D,oBAAoB5iD,EAAM,GAAIqZ,GALnC,MAQf7rB,KAAK+qC,gBAAkB,SAAS/kC,GAC5B,IACmB8B,EADf4S,EAAO1a,KAAK4iC,QAAQ58B,EAAIi1B,KACxBq9B,GAAS,EAETmO,EAAM/rD,EAAKjB,OAAOzT,EAAIk1B,OAAS,GAC/B1oB,EAAQi0D,GAAOA,EAAIj0D,MAAM,yBAO7B,GANKA,IACDi0D,EAAM/rD,EAAKjB,OAAOzT,EAAIk1B,QACtBl1B,EAAM,CAACi1B,IAAKj1B,EAAIi1B,IAAKC,OAAQl1B,EAAIk1B,OAAS,GAC1C1oB,EAAQi0D,GAAOA,EAAIj0D,MAAM,yBACzB8lD,GAAS,IAER9lD,EACD,OAAO,KAEX,GAAIA,EAAM,GAAI,CAEV,KADIwyD,EAAahlE,KAAK2mE,oBAAoBn0D,EAAM,GAAIxM,IAEhD,OAAO,KACX8B,EAAQC,EAAM20B,WAAW12B,EAAKg/D,GACzB1M,IACDxwD,EAAMqzB,IAAID,SACVpzB,EAAM6Z,MAAMuZ,UAEhBpzB,EAAM8L,OAAS9L,EAAMqzB,QAClB,CACH,IAAI6pC,EACJ,KADIA,EAAahlE,KAAKo1D,oBAAoB5iD,EAAM,GAAIxM,IAEhD,OAAO,KACX8B,EAAQC,EAAM20B,WAAWsoC,EAAYh/D,GAChCsyD,IACDxwD,EAAM6Z,MAAMuZ,SACZpzB,EAAMqzB,IAAID,UAEdpzB,EAAM8L,OAAS9L,EAAM6Z,MAGzB,OAAO7Z,GAEX9H,KAAK4mE,yBAA2B,SAAS5gE,GACrC,IAAI0U,EAAO1a,KAAK4iC,QAAQ58B,EAAIi1B,KAExBwrC,EAAM/rD,EAAKjB,OAAOzT,EAAIk1B,OAAS,GAC/B1oB,EAAQi0D,GAAOA,EAAIj0D,MAAM,yBAO7B,GANKA,IACDi0D,EAAM/rD,EAAKjB,OAAOzT,EAAIk1B,QACtBl1B,EAAM,CAACi1B,IAAKj1B,EAAIi1B,IAAKC,OAAQl1B,EAAIk1B,OAAS,GAC1C1oB,EAAQi0D,GAAOA,EAAIj0D,MAAM,2BAGxBA,EACD,OAAO,KAEX,IAAIymD,EAAa,IAAIlxD,EAAM/B,EAAIi1B,IAAKj1B,EAAIk1B,OAAS,EAAGl1B,EAAIi1B,IAAKj1B,EAAIk1B,QAC7D8pC,EAAaxyD,EAAM,GAAKxS,KAAK2mE,oBAAoBn0D,EAAM,GAAIxM,GACzDhG,KAAKo1D,oBAAoB5iD,EAAM,GAAIxM,GACzC,OAAKg/D,EAIE,CAAC/L,EAFO,IAAIlxD,EAAMi9D,EAAW/pC,IAAK+pC,EAAW9pC,OAAQ8pC,EAAW/pC,IAAK+pC,EAAW9pC,OAAS,IADrF,CAAC+9B,IAMhBj5D,KAAK6mE,UAAY,CACb,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAGT7mE,KAAKo1D,oBAAsB,SAAS0B,EAASjrC,EAAUi7C,GACnD,IAAIC,EAAc/mE,KAAK6mE,UAAU/P,GAC7BoO,EAAQ,EAERxnE,EAAW,IAAIi1D,EAAc3yD,KAAM6rB,EAASoP,IAAKpP,EAASqP,QAC1D2zB,EAAQnxD,EAAS41D,kBAGrB,GAFKzE,IACDA,EAAQnxD,EAAS21D,eAChBxE,EAAL,CAGMiY,IACFA,EAAS,IAAI52D,OACT,QACA2+C,EAAMlnD,KAAKwI,QAAQ,IAAK,OAAOA,QAAQ,SAAU,UAC5CA,QAAQ,cAAe,uBAC1B,OAMV,IAHA,IAAI62D,EAAan7C,EAASqP,OAASx9B,EAAS81D,wBAA0B,EAClE93D,EAAQmzD,EAAMnzD,QAEL,CAET,KAAOsrE,GAAc,GAAG,CACpB,IAAIP,EAAM/qE,EAAM+d,OAAOutD,GACvB,GAAIP,GAAOM,GAEP,GAAa,IADb7B,GAAS,GAEL,MAAO,CAACjqC,IAAKv9B,EAAS61D,qBAClBr4B,OAAQ8rC,EAAatpE,EAAS81D,8BAGjCiT,GAAO3P,IACZoO,GAAS,GAEb8B,GAAc,EAElB,GACInY,EAAQnxD,EAAS01D,qBACZvE,IAAUiY,EAAO11D,KAAKy9C,EAAMlnD,OAErC,GAAa,MAATknD,EACA,MAGJmY,GADAtrE,EAAQmzD,EAAMnzD,OACKmD,OAAS,EAGhC,OAAO,OAGXmB,KAAK2mE,oBAAsB,SAAS7P,EAASjrC,EAAUi7C,GACnD,IAAIG,EAAiBjnE,KAAK6mE,UAAU/P,GAChCoO,EAAQ,EAERxnE,EAAW,IAAIi1D,EAAc3yD,KAAM6rB,EAASoP,IAAKpP,EAASqP,QAC1D2zB,EAAQnxD,EAAS41D,kBAGrB,GAFKzE,IACDA,EAAQnxD,EAAS21D,eAChBxE,EAAL,CAGKiY,IACDA,EAAS,IAAI52D,OACT,QACA2+C,EAAMlnD,KAAKwI,QAAQ,IAAK,OAAOA,QAAQ,SAAU,UAC5CA,QAAQ,sBAAuB,uBAClC,OAKV,IAFA,IAAI62D,EAAan7C,EAASqP,OAASx9B,EAAS81D,0BAE/B,CAIT,IAFA,IAAI93D,EAAQmzD,EAAMnzD,MACdwrE,EAAcxrE,EAAMmD,OACjBmoE,EAAaE,GAAa,CAC7B,IAAIT,EAAM/qE,EAAM+d,OAAOutD,GACvB,GAAIP,GAAOQ,GAEP,GAAa,IADb/B,GAAS,GAEL,MAAO,CAACjqC,IAAKv9B,EAAS61D,qBAClBr4B,OAAQ8rC,EAAatpE,EAAS81D,8BAGjCiT,GAAO3P,IACZoO,GAAS,GAEb8B,GAAc,EAElB,GACInY,EAAQnxD,EAAS21D,oBACZxE,IAAUiY,EAAO11D,KAAKy9C,EAAMlnD,OAErC,GAAa,MAATknD,EACA,MAEJmY,EAAa,EAGjB,OAAO,WAOfn9D,IAAIC,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,cAAc,eAAe,kBAAkB,aAAa,wBAAwB,gBAAgB,gBAAgB,YAAY,eAAe,2BAA2B,uBAAuB,2BAA2B,mCAAmC,SAAS7N,EAASR,EAASsO,GACtV,aAEA,IAAIC,EAAM/N,EAAQ,aACd2jC,EAAO3jC,EAAQ,cACfsnD,EAActnD,EAAQ,iBAAiBsnD,YACvCjH,EAASrgD,EAAQ,YACjBgO,EAAehO,EAAQ,uBAAuBgO,aAC9C09C,EAAY1rD,EAAQ,eAAe0rD,UACnCwf,EAAWlrE,EAAQ,eAAei7D,KAClCnvD,EAAQ9L,EAAQ,WAAW8L,MAC3B6zD,EAAW3/D,EAAQ,cAAc2/D,SACjC0C,EAAsBriE,EAAQ,0BAA0BqiE,oBACxDe,EAAkBpjE,EAAQ,sBAAsBojE,gBAEhDh1D,EAAc,SAAdA,EAAuBvD,EAAM5F,GAC7BlB,KAAKonE,aAAe,GACpBpnE,KAAKqnE,aAAe,GACpBrnE,KAAKsnE,cAAgB,GACrBtnE,KAAKunE,aAAe,GACpBvnE,KAAKwnE,UAAY,EACjBxnE,KAAKynE,aAAc,EAEnBznE,KAAK2N,UAAY,GACjB3N,KAAKoH,GAAK,aAAeiD,EAAYq9D,KACrC1nE,KAAK2N,UAAUoC,SAAW,WACtB,OAAO/P,KAAK6F,KAAK,OAErB7F,KAAKoD,GAAG,aAAcpD,KAAK2nE,aAAatnE,KAAKL,OAC7CA,KAAK26D,UAAY36D,KAAKuC,SAASlC,KAAKL,MAEjB,iBAAR8G,GAAqBA,EAAK87B,UACjC97B,EAAO,IAAI80D,EAAS90D,IAExB9G,KAAKg/D,YAAYl4D,GACjB9G,KAAK0D,UAAY,IAAIikD,EAAU3nD,MAC/BA,KAAKymD,aAAe,IAAIlD,EAAYvjD,MAEpCs8C,EAAOzC,aAAa75C,MACpBA,KAAK2C,QAAQzB,GACbo7C,EAAO3W,QAAQ,UAAW3lC,OAI9BqK,EAAYq9D,KAAO,EAEnB,WAEI19D,EAAImB,UAAUnL,KAAMiK,GACpBjK,KAAKg/D,YAAc,SAASv1C,GACpBzpB,KAAKypB,KACLzpB,KAAKypB,IAAI+L,eAAe,SAAUx1B,KAAK26D,WAE3C36D,KAAKypB,IAAMA,EACXA,EAAIrmB,GAAG,SAAUpD,KAAK26D,WAElB36D,KAAK4nE,aACL5nE,KAAK4nE,YAAY5I,YAAYh/D,KAAKuM,eAEtCvM,KAAK6nE,eAET7nE,KAAKuM,YAAc,WACf,OAAOvM,KAAKypB,KAEhBzpB,KAAK8nE,eAAiB,SAAStjB,GAC3B,IAAKA,EAGD,OAFAxkD,KAAKglD,aAAe,QACpBhlD,KAAK8kD,gBAAkB,IAG3B,IAAIl/B,EAAI5lB,KAAKglD,aAAanmD,OACtBD,EAAIoB,KAAK+kD,kBAAkB/kD,KAAKglD,aAAcR,GAAU,EACxD5+B,EAAIhnB,IACJoB,KAAKglD,aAAap/C,OAAOhH,EAAGgnB,GAC5B5lB,KAAK8kD,gBAAgBl/C,OAAOhH,EAAGgnB,KAIvC5lB,KAAK+kD,kBAAoB,SAASgjB,EAAYz+C,GAI1C,IAHA,IAAI0+C,EAAM,EACNjnB,EAAKgnB,EAAWlpE,OAAS,EAEtBmpE,GAAOjnB,GAAI,CACd,IAAIknB,EAAOD,EAAMjnB,GAAO,EACpBQ,EAAIwmB,EAAWE,GAEnB,GAAI3+C,EAAMi4B,EACNymB,EAAMC,EAAM,MACX,MAAI3+C,EAAMi4B,GAGX,OAAO0mB,EAFPlnB,EAAKknB,EAAM,GAKnB,OAAOD,EAAK,GAGhBhoE,KAAK6nE,YAAc,WACf7nE,KAAK8jE,WAAY,EACjB9jE,KAAKslD,UAAY,GACjBtlD,KAAKkoE,gBAAkB,GACvBloE,KAAK8nE,eAAe,GAChB9nE,KAAK4nE,aACL5nE,KAAK4nE,YAAYjmD,MAAM,IAG/B3hB,KAAK2nE,aAAe,SAAS91D,GACzB,IAAIusC,EAAOvsC,EAAEK,KACblS,KAAK8nE,eAAe1pB,EAAKz8B,MAAMsZ,MAGnCj7B,KAAKuC,SAAW,SAASuW,GACrB9Y,KAAK8jE,WAAY,EACjB9jE,KAAKymD,aAAalkD,SAASuW,GAC3B9Y,KAAK8nE,eAAehvD,EAAM6I,MAAMsZ,KAEhC,IAAIktC,EAAenoE,KAAKooE,4BAA4BtvD,IAC/C9Y,KAAKqoE,WAAaroE,KAAKsoE,eACpBH,GAAgBA,EAAatpE,SAC7BmB,KAAKsoE,aAAa59C,IAAI,CAClB8pB,OAAQ,cACRsrB,MAAQqI,GACTnoE,KAAKuoE,iBACRvoE,KAAKuoE,iBAAkB,GAE3BvoE,KAAKsoE,aAAa59C,IAAI5R,EAAO9Y,KAAKuoE,iBAClCvoE,KAAKuoE,iBAAkB,EAEvBvoE,KAAKwoE,mBAAmBtpC,YAG5Bl/B,KAAK4nE,aAAe5nE,KAAK4nE,YAAYzI,gBAAgBrmD,GACrD9Y,KAAK2lC,QAAQ,SAAU7sB,IAE3B9Y,KAAK+C,SAAW,SAAS+D,GACrB9G,KAAKypB,IAAI1mB,SAAS+D,GAClB9G,KAAK0D,UAAUylD,OAAO,EAAG,GAEzBnpD,KAAK8nE,eAAe,GACpB9nE,KAAK2M,eAAe3M,KAAKsoE,cACzBtoE,KAAK0M,iBAAiB+7D,SAE1BzoE,KAAK8F,SACL9F,KAAK+P,SAAW,WACZ,OAAO/P,KAAKypB,IAAI3jB,YAEpB9F,KAAK6G,aAAe,WAChB,OAAO7G,KAAK0D,WAEhB1D,KAAKo/D,SAAW,SAASnkC,GACrB,OAAOj7B,KAAK4nE,YAAYxI,SAASnkC,IAErCj7B,KAAKizD,UAAY,SAASh4B,GACtB,OAAOj7B,KAAK4nE,YAAY3U,UAAUh4B,IAEtCj7B,KAAKkzD,WAAa,SAASj4B,EAAKC,GAC5B,IACI2zB,EADAxuC,EAASrgB,KAAK4nE,YAAY3U,UAAUh4B,GAC7BsmB,EAAI,EACf,GAAc,MAAVrmB,EAAgB,CAChB,IAAIt8B,EAAIyhB,EAAOxhB,OAAS,EACxB0iD,EAAIvhD,KAAK4iC,QAAQ3H,GAAKp8B,YAEtB,IAASD,EAAI,EAAGA,EAAIyhB,EAAOxhB,WACvB0iD,GAAKlhC,EAAOzhB,GAAGlD,MAAMmD,SACZq8B,GAFsBt8B,KAOvC,OADAiwD,EAAQxuC,EAAOzhB,KAGfiwD,EAAMnpD,MAAQ9G,EACdiwD,EAAMltC,MAAQ4/B,EAAIsN,EAAMnzD,MAAMmD,OACvBgwD,GAHI,MAKf7uD,KAAK2M,eAAiB,SAASF,GAM3B,GALAzM,KAAKsoE,aAAe77D,EAEhBzM,KAAKwoE,oBACLxoE,KAAKwoE,mBAAmBvpC,SAExBxyB,EAAa,CACb,IAAIpN,EAAOW,KACXyM,EAAYi8D,WAAW1oE,MACvBA,KAAK2oE,uBAAyB,WAC1BtpE,EAAKmpE,mBAAmBvpC,SACxB5/B,EAAKkpE,iBAAkB,GAE3BvoE,KAAKwoE,mBAAqB5oC,EAAKR,YAAYp/B,KAAK2oE,6BAEhD3oE,KAAK2oE,uBAAyB,cAGtC3oE,KAAK4oE,cAAgB,WACb5oE,KAAK2oE,wBACL3oE,KAAK2oE,0BAGb3oE,KAAK6oE,oBAAsB,CACvBC,KAAM,aACNC,KAAM,aACNp0B,QAAS,aACTq0B,QAAS,aACTP,MAAO,aACP/9C,IAAK,aACLu+C,aAAc,aACdC,cAAe,aACfR,WAAY,cAEhB1oE,KAAK0M,eAAiB,WAClB,OAAO1M,KAAKsoE,cAAgBtoE,KAAK6oE,qBAErC7oE,KAAK61D,aAAe,WAChB,OAAI71D,KAAK+M,iBACE6yB,EAAKlC,aAAa,IAAK19B,KAAK6M,cAE5B,MAGf7M,KAAK8M,eAAiB,SAASwc,GAC3BtpB,KAAKuE,UAAU,cAAe+kB,IAElCtpB,KAAK+M,eAAiB,WAClB,OAAO/M,KAAKmpE,eAAiBnpE,KAAK+1D,MAAMqT,iBAE5CppE,KAAK4M,WAAa,SAASpD,GACvBxJ,KAAKuE,UAAU,UAAWiF,IAE9BxJ,KAAK6M,WAAa,WACd,OAAO7M,KAAKqpE,UAEhBrpE,KAAKkrD,UAAY,SAASr/B,GACtB,OAAO7rB,KAAKmpE,cAAiBt9C,EAASqP,OAASl7B,KAAKqpE,WAAa,GAErErpE,KAAKspE,0BAA4B,SAAUC,GACvCvpE,KAAKuE,UAAU,yBAA0BglE,IAE7CvpE,KAAKmrD,0BAA4B,WAC7B,OAAOnrD,KAAKwpE,yBAGhBxpE,KAAKypE,YAAa,EAClBzpE,KAAKgN,aAAe,SAAS08D,GACzB1pE,KAAKuE,UAAU,YAAamlE,IAEhC1pE,KAAKiN,aAAe,WAChB,OAAOjN,KAAKypE,YAEhBzpE,KAAK2pE,gBAAkB,WACnB3pE,KAAKgN,cAAchN,KAAKypE,aAE5BzpE,KAAK4pE,oBAAsB,SAAS3uC,EAAKl6B,GAChCf,KAAKqnE,aAAapsC,KACnBj7B,KAAKqnE,aAAapsC,GAAO,IAC7Bj7B,KAAKqnE,aAAapsC,IAAQ,IAAMl6B,EAChCf,KAAK2lC,QAAQ,mBAAoB,KAErC3lC,KAAK6pE,uBAAyB,SAAS5uC,EAAKl6B,GACxCf,KAAKqnE,aAAapsC,IAAQj7B,KAAKqnE,aAAapsC,IAAQ,IAAI9qB,QAAQ,IAAMpP,EAAW,IACjFf,KAAK2lC,QAAQ,mBAAoB,KAErC3lC,KAAKmN,eAAiB,WAClB,OAAOnN,KAAKonE,cAEhBpnE,KAAKkN,eAAiB,SAASu/C,GAC3BzsD,KAAKonE,aAAe,GACpB,IAAK,IAAIxoE,EAAE,EAAGA,EAAE6tD,EAAK5tD,OAAQD,IACzBoB,KAAKonE,aAAa3a,EAAK7tD,IAAM,iBAEjCoB,KAAK2lC,QAAQ,mBAAoB,KAErC3lC,KAAK8pE,iBAAmB,WACpB9pE,KAAKonE,aAAe,GACpBpnE,KAAK2lC,QAAQ,mBAAoB,KAErC3lC,KAAK+pE,cAAgB,SAAS9uC,EAAKl6B,QACb0F,IAAd1F,IACAA,EAAY,kBACZA,EACAf,KAAKonE,aAAansC,GAAOl6B,SAElBf,KAAKonE,aAAansC,GAC7Bj7B,KAAK2lC,QAAQ,mBAAoB,KAErC3lC,KAAKgqE,gBAAkB,SAAS/uC,UACrBj7B,KAAKonE,aAAansC,GACzBj7B,KAAK2lC,QAAQ,mBAAoB,KAErC3lC,KAAKgI,UAAY,SAASF,EAAOw3D,EAAO33D,EAAME,GAC1C,IAAIT,EAAKpH,KAAKwnE,YAEVyC,EAAS,CACTniE,MAAQA,EACRH,KAAOA,GAAQ,OACfnF,SAAyB,mBAARmF,EAAqBA,EAAO,KAC7C23D,MAAQA,EACRz3D,UAAWA,EACXT,GAAIA,GAWR,OARIS,GACA7H,KAAKsnE,cAAclgE,GAAM6iE,EACzBjqE,KAAK2lC,QAAQ,uBAEb3lC,KAAKunE,aAAangE,GAAM6iE,EACxBjqE,KAAK2lC,QAAQ,qBAGVv+B,GAEXpH,KAAKkqE,iBAAmB,SAASD,EAAQpiE,GACrC,GAAKoiE,EAAOxK,OAAZ,CAEA,IAAIr4D,EAAKpH,KAAKwnE,YAYd,OAXAyC,EAAO7iE,GAAKA,EACZ6iE,EAAOpiE,UAAYA,EAEfA,GACA7H,KAAKsnE,cAAclgE,GAAM6iE,EACzBjqE,KAAK2lC,QAAQ,uBAEb3lC,KAAKunE,aAAangE,GAAM6iE,EACxBjqE,KAAK2lC,QAAQ,qBAGVskC,IAEXjqE,KAAKmH,aAAe,SAASgjE,GACzB,IAAIF,EAASjqE,KAAKsnE,cAAc6C,IAAanqE,KAAKunE,aAAa4C,GAC1DF,WAGSA,EAAOpiE,QAAU7H,KAAKsnE,cAAgBtnE,KAAKunE,cACzC4C,GAChBnqE,KAAK2lC,QAAQskC,EAAOpiE,QAAU,oBAAsB,sBAExD7H,KAAKkH,WAAa,SAASW,GACvB,OAAOA,EAAU7H,KAAKsnE,cAAgBtnE,KAAKunE,cAG/CvnE,KAAKoqE,UAAY,SAASnvB,GACtB,IAAKj7C,KAAKqqE,iBAAkB,CACxB,IAAID,EAAY,IAAI/K,EAAgB,KAAM,oBAAqB,QAC/Dr/D,KAAKqqE,iBAAmBrqE,KAAKkqE,iBAAiBE,GAElDpqE,KAAKqqE,iBAAiB9K,UAAUtkB,IAEpCj7C,KAAKsqE,eAAiB,SAAS/iE,EAAUE,EAAQ63D,EAAOz3D,GAC/B,iBAAVJ,IACP63D,EAAQ73D,EACRA,EAASF,GAER+3D,IACDA,EAAQ,YAEZ,IAAIx3D,EAAQ,IAAIC,EAAMR,EAAU,EAAGE,EAAQowD,KAE3C,OADA/vD,EAAMV,GAAKpH,KAAKgI,UAAUF,EAAOw3D,EAAO,WAAYz3D,GAC7CC,GAEX9H,KAAKgE,eAAiB,SAAShC,GAC3BhC,KAAKguC,aAAehsC,EACpBhC,KAAK2lC,QAAQ,mBAAoB,KAErC3lC,KAAK6D,eAAiB,WAClB,OAAO7D,KAAKguC,cAAgB,IAEhChuC,KAAKuqE,iBAAmB,WACpBvqE,KAAKgE,eAAe,KAExBhE,KAAKm8D,eAAiB,SAASr1D,GAC3B,IAAI0L,EAAQ1L,EAAK0L,MAAM,gBAEnBxS,KAAKo8D,aADL5pD,EACoBA,EAAM,GAEN,MAG5BxS,KAAKgrC,aAAe,SAAS/P,EAAKC,GAC9B,IAAIxgB,EAAO1a,KAAK4iC,QAAQ3H,GAEpBuvC,GAAU,EAOd,GANItvC,EAAS,IACTsvC,IAAY9vD,EAAKjB,OAAOyhB,EAAS,GAAG1oB,MAAMxS,KAAKgsD,UAE9Cwe,IACDA,IAAY9vD,EAAKjB,OAAOyhB,GAAQ1oB,MAAMxS,KAAKgsD,UAE3Cwe,EACA,IAAIvvB,EAAKj7C,KAAKgsD,aACb,GAAI,QAAQ56C,KAAKsJ,EAAKwL,MAAMgV,EAAO,EAAGA,EAAO,IAC1C+f,EAAK,UAELA,EAAKj7C,KAAK8rD,WAElB,IAAInqC,EAAQuZ,EACZ,GAAIvZ,EAAQ,EAAG,CACX,GACIA,UAEGA,GAAS,GAAKjH,EAAKjB,OAAOkI,GAAOnP,MAAMyoC,IAC9Ct5B,IAIJ,IADA,IAAIwZ,EAAMD,EACHC,EAAMzgB,EAAK7b,QAAU6b,EAAKjB,OAAO0hB,GAAK3oB,MAAMyoC,IAC/C9f,IAGJ,OAAO,IAAIpzB,EAAMkzB,EAAKtZ,EAAOsZ,EAAKE,IAEtCn7B,KAAKyqD,cAAgB,SAASxvB,EAAKC,GAI/B,IAHA,IAAIuvC,EAAYzqE,KAAKgrC,aAAa/P,EAAKC,GACnCxgB,EAAO1a,KAAK4iC,QAAQ6nC,EAAUtvC,IAAIF,KAE/BvgB,EAAKjB,OAAOgxD,EAAUtvC,IAAID,QAAQ1oB,MAAM,UAC3Ci4D,EAAUtvC,IAAID,QAAU,EAE5B,OAAOuvC,GAEXzqE,KAAKs8D,eAAiB,SAASC,GAC3Bv8D,KAAKypB,IAAI6yC,eAAeC,IAE5Bv8D,KAAKw8D,eAAiB,WAClB,OAAOx8D,KAAKypB,IAAI+yC,kBAEpBx8D,KAAKqN,aAAe,SAASq9D,GAAa1qE,KAAKuE,UAAU,YAAammE,IACtE1qE,KAAKsN,aAAe,WAAa,OAAOtN,KAAK2qE,YAC7C3qE,KAAK4qE,kBAAoB,SAAS/4D,GAC9B,IAAI46C,EAAO56C,EAAEK,KACblS,KAAK4nE,YAAYjmD,MAAM8qC,EAAKwS,OAC5Bj/D,KAAK2lC,QAAQ,kBAAmB9zB,IAGpC7R,KAAK26C,OAAS2B,EAAO3B,OACrB36C,KAAK+1D,MAAQ,KACb/1D,KAAK6qE,QAAU,KACf7qE,KAAK2C,QAAU,SAASzB,EAAMi5B,GAC1B,GAAIj5B,GAAwB,kBAATA,EAAmB,CAClC,GAAIA,EAAKk2D,aACL,OAAOp3D,KAAK8qE,cAAc5pE,GAC9B,IAAIkoB,EAAUloB,EACVgQ,EAAOkY,EAAQlY,UAEnBA,EAAOhQ,GAAQ,gBAKnB,GAHKlB,KAAK26C,OAAO,mBACb36C,KAAK26C,OAAO,iBAAmB,IAAIwsB,GAEnCnnE,KAAK26C,OAAOzpC,KAAUkY,EAGtB,OAFAppB,KAAK8qE,cAAc9qE,KAAK26C,OAAOzpC,SAC/BipB,GAAMA,KAGVn6B,KAAK6qE,QAAU35D,EACforC,EAAOjB,WAAW,CAAC,OAAQnqC,GAAO,SAAS1C,GACvC,GAAIxO,KAAK6qE,UAAY35D,EACjB,OAAOipB,GAAMA,IACbn6B,KAAK26C,OAAOzpC,KAAUkY,EACtBppB,KAAK8qE,cAAc9qE,KAAK26C,OAAOzpC,IACxB1C,GAAKA,EAAE0oD,OACd1oD,EAAI,IAAIA,EAAE0oD,KAAK9tC,GACVA,IACDppB,KAAK26C,OAAOzpC,GAAQ1C,EACpBA,EAAEkrD,IAAMxoD,GAEZlR,KAAK8qE,cAAct8D,IAEvB2rB,GAAMA,KACR95B,KAAKL,OACFA,KAAK+1D,OACN/1D,KAAK8qE,cAAc9qE,KAAK26C,OAAO,kBAAkB,IAGzD36C,KAAK8qE,cAAgB,SAAS5pE,EAAM6pE,GAGhC,GAFKA,IACD/qE,KAAK6qE,QAAU3pE,EAAKw4D,KACpB15D,KAAK+1D,QAAU70D,EAAnB,CAGA,IAAI8pE,EAAUhrE,KAAK+1D,MACnB/1D,KAAK+1D,MAAQ70D,EAEblB,KAAKirE,cAEDjrE,KAAK2qE,YACL3qE,KAAKkrE,eAET,IAAI3M,EAAYr9D,EAAKk2D,eAErB,QAAoB3wD,IAAjB83D,EAAUn7D,GAAkB,CAC3B,IAAIwnE,EAAoB5qE,KAAK4qE,kBAAkBvqE,KAAKL,MACpDu+D,EAAUn7D,GAAG,SAAUwnE,GAG3B,GAAK5qE,KAAK4nE,YAON5nE,KAAK4nE,YAAY7I,aAAaR,OAPX,CACnBv+D,KAAK4nE,YAAc,IAAItJ,EAAoBC,GAC3C,IAAIj/B,EAAQt/B,KACZA,KAAK4nE,YAAYxkE,GAAG,UAAU,SAASyO,GACnCytB,EAAMqG,QAAQ,kBAAmB9zB,MAMzC7R,KAAK4nE,YAAY5I,YAAYh/D,KAAKuM,eAElCvM,KAAKgsD,QAAU9qD,EAAK8qD,QACpBhsD,KAAK8rD,WAAa5qD,EAAK4qD,WAGlBif,IACG7pE,EAAKiqE,iBACLjqE,EAAKiqE,gBAAgBnrE,MACzBA,KAAKmE,SAASinE,WAAW5tE,IAAIF,KAAK0C,KAAMA,KAAKqrE,aAC7CrrE,KAAK2lE,YAAYzkE,EAAKoqE,cACtBtrE,KAAK4nE,YAAYjmD,MAAM,GACvB3hB,KAAKyL,MAAM,aAAc,CAACu/D,QAASA,EAAS9pE,KAAMA,OAI1DlB,KAAKirE,YAAc,WACXjrE,KAAK0+D,UACL1+D,KAAK0+D,QAAQ6M,YACbvrE,KAAK0+D,QAAU,OAIvB1+D,KAAKkrE,aAAe,WAChB,IACIlrE,KAAK0+D,QAAU1+D,KAAK+1D,MAAMyD,aAAax5D,MACzC,MAAO6R,GACLyqC,EAAO73C,KAAK,wBAAyBoN,GACrC7R,KAAK0+D,QAAU,OAGvB1+D,KAAKwM,QAAU,WACX,OAAOxM,KAAK+1D,OAGhB/1D,KAAKwrE,WAAa,EAClBxrE,KAAKyrE,aAAe,SAAS95B,GACrB3xC,KAAKwrE,aAAe75B,GAAahxB,MAAMgxB,KAG3C3xC,KAAKwrE,WAAa75B,EAClB3xC,KAAK2lC,QAAQ,kBAAmBgM,KAEpC3xC,KAAK82C,aAAe,WAChB,OAAO92C,KAAKwrE,YAGhBxrE,KAAK0rE,YAAc,EACnB1rE,KAAK2rE,cAAgB,SAASj2B,GACtB11C,KAAK0rE,cAAgBh2B,GAAc/0B,MAAM+0B,KAG7C11C,KAAK0rE,YAAch2B,EACnB11C,KAAK2lC,QAAQ,mBAAoB+P,KAErC11C,KAAK4rE,cAAgB,WACjB,OAAO5rE,KAAK0rE,aAEhB1rE,KAAK6rE,eAAiB,WAElB,OADA7rE,KAAK8rE,gBACD9rE,KAAK4sD,YACEr0C,KAAK7K,IAAI1N,KAAK+rE,wBAAyB/rE,KAAKgsE,aAChDhsE,KAAKgsE,aAGhBhsE,KAAK+rE,sBAAwB,WACzB,GAA6B,MAAzB/rE,KAAKisE,iBAA0B,OAAOjsE,KAAKisE,iBAC/C,IAAI3lE,EAAQ,EAKZ,OAJAtG,KAAK4sD,YAAYzsD,SAAQ,SAAS81C,GAC1BA,GAAKA,EAAE+1B,YAAc1lE,IACrBA,EAAQ2vC,EAAE+1B,gBAEXhsE,KAAKksE,gBAAkB5lE,GAGlCtG,KAAK8rE,cAAgB,SAASK,GAC1B,GAAInsE,KAAK8jE,WAAaqI,EAAO,CAGzB,GAFAnsE,KAAK8jE,WAAY,EAEb9jE,KAAKqlD,aACL,OAAOrlD,KAAKgsE,YAAchsE,KAAKosE,WAUnC,IARA,IAAIr4D,EAAQ/T,KAAKypB,IAAIuyC,cACjBn/D,EAAQmD,KAAKkoE,gBACbmE,EAAoB,EACpBC,EAAY,EACZzhB,EAAW7qD,KAAK2N,UAAU2+D,GAC1BC,EAAY1hB,EAAWA,EAASlpC,MAAMsZ,IAAM48B,IAC5C5W,EAAMltC,EAAMlV,OAEPD,EAAI,EAAGA,EAAIqiD,EAAKriD,IAAK,CAC1B,GAAIA,EAAI2tE,EAAW,CAEf,IADA3tE,EAAIisD,EAAS1vB,IAAIF,IAAM,IACdgmB,EACL,MAEJsrB,GADA1hB,EAAW7qD,KAAK2N,UAAU2+D,MACHzhB,EAASlpC,MAAMsZ,IAAM48B,IAGhC,MAAZh7D,EAAM+B,KACN/B,EAAM+B,GAAKoB,KAAKwsE,sBAAsBz4D,EAAMnV,IAAI,IAEhD/B,EAAM+B,GAAKytE,IACXA,EAAoBxvE,EAAM+B,IAElCoB,KAAKgsE,YAAcK,IAG3BrsE,KAAK4iC,QAAU,SAAS3H,GACpB,OAAOj7B,KAAKypB,IAAImZ,QAAQ3H,IAE5Bj7B,KAAK08D,SAAW,SAASlgC,EAAUC,GAC/B,OAAOz8B,KAAKypB,IAAIizC,SAASlgC,EAAUC,IAEvCz8B,KAAKiuC,UAAY,WACb,OAAOjuC,KAAKypB,IAAIwkB,aAEpBjuC,KAAK8xC,aAAe,SAAShqC,GACzB,OAAO9H,KAAKypB,IAAIqoB,aAAahqC,GAAS9H,KAAK0D,UAAUi/B,aAEzD3iC,KAAK2yC,OAAS,SAAS9mB,EAAU/kB,GAC7B,OAAO9G,KAAKypB,IAAIkpB,OAAO9mB,EAAU/kB,IAErC9G,KAAKymB,OAAS,SAAS3e,GACnB,OAAO9H,KAAKypB,IAAIhD,OAAO3e,IAE3B9H,KAAK+8D,gBAAkB,SAASvgC,EAAUC,GACtC,OAAOz8B,KAAKypB,IAAIszC,gBAAgBvgC,EAAUC,IAE9Cz8B,KAAKysE,YAAc,SAAShP,EAAQiP,GAChC,GAAKjP,EAAO5+D,OAAZ,CAGAmB,KAAKqoE,WAAY,EACjB,IAAK,IAAIzpE,EAAI6+D,EAAO5+D,OAAS,GAAS,GAAND,EAASA,IAAK,CAC1C,IAAIka,EAAQ2kD,EAAO7+D,GACC,UAAhBka,EAAM07B,QAAsC,UAAhB17B,EAAM07B,OAClCx0C,KAAKypB,IAAIk0C,YAAY7kD,GACdA,EAAMgnD,OACb9/D,KAAK+jE,SAASjrD,EAAMgnD,QAGvB4M,GAAc1sE,KAAKynE,cAChBhK,EAAOkP,gBACP3sE,KAAK0D,UAAUwC,SAASu3D,EAAOkP,iBAE/B3sE,KAAK0D,UAAUyyC,SAASn2C,KAAK4sE,kBAAkBnP,GAAQ,KAE/Dz9D,KAAKqoE,WAAY,IAErBroE,KAAK6sE,YAAc,SAASpP,EAAQiP,GAChC,GAAKjP,EAAO5+D,OAAZ,CAGAmB,KAAKqoE,WAAY,EACjB,IAAK,IAAIzpE,EAAI,EAAGA,EAAI6+D,EAAO5+D,OAAQD,IAAK,CACpC,IAAIka,EAAQ2kD,EAAO7+D,GACC,UAAhBka,EAAM07B,QAAsC,UAAhB17B,EAAM07B,QAClCx0C,KAAKypB,IAAIq0C,gBAAgBhlD,IAI5B4zD,GAAc1sE,KAAKynE,cAChBhK,EAAOqP,eACP9sE,KAAK0D,UAAUwC,SAASu3D,EAAOqP,gBAE/B9sE,KAAK0D,UAAUyyC,SAASn2C,KAAK4sE,kBAAkBnP,GAAQ,KAE/Dz9D,KAAKqoE,WAAY,IAErBroE,KAAK+sE,cAAgB,SAASC,GAC1BhtE,KAAKynE,YAAcuF,GAGvBhtE,KAAK4sE,kBAAoB,SAASnP,EAAQwP,GACtC,SAASrP,EAAS9kD,GACd,OAAOm0D,EAA0B,WAAjBn0D,EAAM07B,OAAuC,WAAjB17B,EAAM07B,OAKtD,IAFA,IAAI1sC,EAAOqzD,EAEFv8D,EAAI,EAAGA,EAAI6+D,EAAO5+D,OAAQD,IAAK,CACpC,IAAIka,EAAQ2kD,EAAO7+D,GACdka,EAAM6I,QACN7Z,EASD81D,EAAS9kD,IACTqiD,EAAQriD,EAAM6I,OACiC,GAA3C7Z,EAAMwzB,QAAQ6/B,EAAMlgC,IAAKkgC,EAAMjgC,SAC/BpzB,EAAMg0B,SAASq/B,GAEnBA,EAAQriD,EAAMqiB,IACgC,GAA1CrzB,EAAMwzB,QAAQ6/B,EAAMlgC,IAAKkgC,EAAMjgC,SAC/BpzB,EAAMi0B,OAAOo/B,KAGjBA,EAAQriD,EAAM6I,OACiC,GAA3C7Z,EAAMwzB,QAAQ6/B,EAAMlgC,IAAKkgC,EAAMjgC,UAC/BpzB,EAAQC,EAAM20B,WAAW5jB,EAAM6I,MAAO7I,EAAM6I,SAnB5C7Z,EADA81D,EAAS9kD,GACD/Q,EAAM20B,WAAW5jB,EAAM6I,MAAO7I,EAAMqiB,KAEpCpzB,EAAM20B,WAAW5jB,EAAM6I,MAAO7I,EAAM6I,QAqBxD,OAAO7Z,GAEX9H,KAAKmQ,QAAU,SAASrI,EAAOhB,GAC3B,OAAO9G,KAAKypB,IAAItZ,QAAQrI,EAAOhB,IAEnC9G,KAAKyyC,SAAW,SAASy6B,EAAWC,EAAYlvC,GAC5C,IAAIn3B,EAAO9G,KAAK8xC,aAAao7B,GACzBpN,EAAQ9/D,KAAK6iE,gBAAgBqK,GAE7BE,EAAUrlE,EAAM20B,WAAWywC,EAAYA,GAC3C,IAAKlvC,EAAM,CACPj+B,KAAKymB,OAAOymD,GACZ,IAAIrY,EAAUqY,EAAUvrD,MAAMsZ,IAAMiyC,EAAU/xC,IAAIF,KAC9CoyC,EAAWxY,GAAWqY,EAAU/xC,IAAID,OAASgyC,EAAUvrD,MAAMuZ,OAASgyC,EAAU/xC,IAAID,UAEhFkyC,EAAQzrD,MAAMsZ,KAAOiyC,EAAU/xC,IAAIF,KAAOmyC,EAAQzrD,MAAMuZ,OAASgyC,EAAU/xC,IAAID,SAC/EkyC,EAAQzrD,MAAMuZ,QAAUmyC,GACxBD,EAAQjyC,IAAIF,KAAOiyC,EAAU/xC,IAAIF,KAAOmyC,EAAQjyC,IAAID,OAASgyC,EAAU/xC,IAAID,SAC3EkyC,EAAQjyC,IAAID,QAAUmyC,IAE1BxY,GAAWuY,EAAQzrD,MAAMsZ,KAAOiyC,EAAU/xC,IAAIF,MAC9CmyC,EAAQzrD,MAAMsZ,KAAO45B,EACrBuY,EAAQjyC,IAAIF,KAAO45B,GAK3B,GADAuY,EAAQjyC,IAAMn7B,KAAK2yC,OAAOy6B,EAAQzrD,MAAO7a,GACrCg5D,EAAMjhE,OAAQ,CACd,IAAIyuE,EAAWJ,EAAUvrD,MACrB4rD,EAAWH,EAAQzrD,MAEnB0rD,GADAxY,EAAU0Y,EAAStyC,IAAMqyC,EAASryC,IACvBsyC,EAASryC,OAASoyC,EAASpyC,QAC1Cl7B,KAAK+jE,SAASjE,EAAM7tD,KAAI,SAAS4G,GAQ7B,OAPAA,EAAIA,EAAEgkB,SACAlb,MAAMsZ,KAAOqyC,EAASryC,MACxBpiB,EAAE8I,MAAMuZ,QAAUmyC,GAClBx0D,EAAEsiB,IAAIF,KAAOqyC,EAASryC,MACtBpiB,EAAEsiB,IAAID,QAAUmyC,GACpBx0D,EAAE8I,MAAMsZ,KAAO45B,EACfh8C,EAAEsiB,IAAIF,KAAO45B,EACNh8C,MAIf,OAAOu0D,GAEXptE,KAAKwtE,WAAa,SAASjmE,EAAUE,EAAQgmE,GACzCA,EAAeA,EAAat9D,QAAQ,MAAOnQ,KAAK61D,gBAChD,IAAK,IAAI56B,EAAI1zB,EAAU0zB,GAAKxzB,EAAQwzB,IAChCj7B,KAAKypB,IAAI2uC,aAAa,CAACn9B,IAAKA,EAAKC,OAAQ,GAAIuyC,IAErDztE,KAAK0tE,YAAc,SAAU5lE,GAKzB,IAJA,IAAI6lE,EAAW7lE,EAAMg1B,eACjB8wC,EAAc,IAAI7lE,EAAM,EAAG,EAAG,EAAG,GACjCqE,EAAOpM,KAAK6M,aAEPjO,EAAI+uE,EAAShsD,MAAMsZ,IAAKr8B,GAAK+uE,EAASxyC,IAAIF,MAAOr8B,EAAG,CACzD,IAAI8b,EAAO1a,KAAK4iC,QAAQhkC,GAExBgvE,EAAYjsD,MAAMsZ,IAAMr8B,EACxBgvE,EAAYzyC,IAAIF,IAAMr8B,EACtB,IAAK,IAAIuZ,EAAI,EAAGA,EAAI/L,GACM,KAAlBsO,EAAKjB,OAAOtB,KADQA,GAGxBA,EAAI/L,GAA0B,MAAlBsO,EAAKjB,OAAOtB,IACxBy1D,EAAYjsD,MAAMuZ,OAAS/iB,EAC3By1D,EAAYzyC,IAAID,OAAS/iB,EAAI,IAE7By1D,EAAYjsD,MAAMuZ,OAAS,EAC3B0yC,EAAYzyC,IAAID,OAAS/iB,GAE7BnY,KAAKymB,OAAOmnD,KAIpB5tE,KAAK6tE,WAAa,SAASrxC,EAAUC,EAASsjB,GAG1C,GAFAvjB,EAAWx8B,KAAKykE,gBAAgBjoC,GAChCC,EAAUz8B,KAAKwkE,cAAc/nC,GACzBsjB,EAAM,EAAG,CAET,IADI9kB,EAAMj7B,KAAKykE,gBAAgBjoC,EAAWujB,IAChC,EAAG,OAAO,EACpB,IAAI3sC,EAAO6nB,EAAIuB,OACZ,GAAIujB,EAAM,EAAG,CAChB,IAAI9kB,EACJ,IADIA,EAAMj7B,KAAKwkE,cAAc/nC,EAAUsjB,IAC7B//C,KAAKypB,IAAIwkB,YAAY,EAAG,OAAO,EACrC76B,EAAO6nB,EAAIwB,MACZ,CACHD,EAAWx8B,KAAK8tE,mBAAmBtxC,GAE/BppB,GADJqpB,EAAUz8B,KAAK8tE,mBAAmBrxC,IACbD,EAAW,EAGpC,IAAI10B,EAAQ,IAAIC,EAAMy0B,EAAU,EAAGC,EAAShnB,OAAOC,WAC/CoqD,EAAQ9/D,KAAK6iE,gBAAgB/6D,GAAOmK,KAAI,SAAS4G,GAIjD,OAHAA,EAAIA,EAAEgkB,SACJlb,MAAMsZ,KAAO7nB,EACfyF,EAAEsiB,IAAIF,KAAO7nB,EACNyF,KAGP9E,EAAe,GAAPgsC,EACN//C,KAAKypB,IAAIizC,SAASlgC,EAAUC,GAC5Bz8B,KAAKypB,IAAIszC,gBAAgBvgC,EAAUC,GAGzC,OAFAz8B,KAAKypB,IAAIozC,gBAAgBrgC,EAASppB,EAAMW,GACxC+rD,EAAMjhE,QAAUmB,KAAK+jE,SAASjE,GACvB1sD,GAEXpT,KAAK+tE,YAAc,SAASvxC,EAAUC,GAClC,OAAOz8B,KAAK6tE,WAAWrxC,EAAUC,GAAU,IAE/Cz8B,KAAKguE,cAAgB,SAASxxC,EAAUC,GACpC,OAAOz8B,KAAK6tE,WAAWrxC,EAAUC,EAAS,IAE9Cz8B,KAAKiuE,eAAiB,SAASzxC,EAAUC,GACrC,OAAOz8B,KAAK6tE,WAAWrxC,EAAUC,EAAS,IAI9Cz8B,KAAK8tE,mBAAqB,SAAS7yC,GAC/B,OAAO1iB,KAAK7K,IAAI,EAAG6K,KAAK9K,IAAIwtB,EAAKj7B,KAAKypB,IAAIwkB,YAAY,KAG1DjuC,KAAKkuE,iBAAmB,SAASjzC,EAAKC,GAClC,OAAIA,EAAS,EACF,EACJ3iB,KAAK9K,IAAIzN,KAAKypB,IAAImZ,QAAQ3H,GAAKp8B,OAAQq8B,IAIlDl7B,KAAKi7D,wBAA0B,SAAShgC,EAAKC,GAGzC,GAFAA,EAAS3iB,KAAK7K,IAAI,EAAGwtB,GAEjBD,EAAM,EACNA,EAAM,EACNC,EAAS,MACN,CACH,IAAI+lB,EAAMjhD,KAAKypB,IAAIwkB,YACfhT,GAAOgmB,GACPhmB,EAAMgmB,EAAM,EACZ/lB,EAASl7B,KAAKypB,IAAImZ,QAAQqe,EAAI,GAAGpiD,QAEjCq8B,EAAS3iB,KAAK9K,IAAIzN,KAAKypB,IAAImZ,QAAQ3H,GAAKp8B,OAAQq8B,GAIxD,MAAO,CACHD,IAAKA,EACLC,OAAQA,IAIhBl7B,KAAKwjE,qBAAuB,SAAS17D,GAC7BA,EAAM6Z,MAAMsZ,IAAM,GAClBnzB,EAAM6Z,MAAMsZ,IAAM,EAClBnzB,EAAM6Z,MAAMuZ,OAAS,GAErBpzB,EAAM6Z,MAAMuZ,OAASl7B,KAAKkuE,iBACtBpmE,EAAM6Z,MAAMsZ,IACZnzB,EAAM6Z,MAAMuZ,QAIpB,IAAI+lB,EAAMjhD,KAAKypB,IAAIwkB,YAAc,EAUjC,OATInmC,EAAMqzB,IAAIF,IAAMgmB,GAChBn5C,EAAMqzB,IAAIF,IAAMgmB,EAChBn5C,EAAMqzB,IAAID,OAASl7B,KAAKypB,IAAImZ,QAAQqe,GAAKpiD,QAEzCiJ,EAAMqzB,IAAID,OAASl7B,KAAKkuE,iBACpBpmE,EAAMqzB,IAAIF,IACVnzB,EAAMqzB,IAAID,QAGXpzB,GAEX9H,KAAKosE,WAAa,GAClBpsE,KAAKqlD,cAAe,EACpBrlD,KAAKwN,gBAAkB,CACnBC,IAAM,KACNC,IAAM,MAEV1N,KAAKkD,eAAiB,SAASirE,GAC3B,GAAIA,GAAenuE,KAAKqlD,aAAc,CAIlC,GAHArlD,KAAKqlD,aAAe8oB,EACpBnuE,KAAK8jE,WAAY,EACjB9jE,KAAK8nE,eAAe,GAChBqG,EAAa,CACb,IAAIltB,EAAMjhD,KAAKiuC,YACfjuC,KAAKslD,UAAY3gD,MAAMs8C,GACvBjhD,KAAK4jE,gBAAgB,EAAG3iB,EAAM,GAGlCjhD,KAAK2lC,QAAQ,oBAGrB3lC,KAAKoN,eAAiB,WAClB,OAAOpN,KAAKqlD,cAEhBrlD,KAAKuN,kBAAoB,SAASE,EAAKC,GAC/B1N,KAAKwN,gBAAgBC,MAAQA,GAAOzN,KAAKwN,gBAAgBE,MAAQA,IACjE1N,KAAKwN,gBAAkB,CAAEC,IAAKA,EAAKC,IAAKA,GACxC1N,KAAK8jE,WAAY,EACjB9jE,KAAKymD,aAAab,cACd5lD,KAAKqlD,cACLrlD,KAAK2lC,QAAQ,oBAGzB3lC,KAAKouE,gBAAkB,SAASC,EAAcC,GAC1C,IAAIC,EAASvuE,KAAKwN,gBACd+gE,EAAO7gE,IAAM,IACb6gE,EAAS,CAAC9gE,IAAK6gE,EAAc5gE,IAAK4gE,IACtC,IAAIE,EAAYxuE,KAAKyuE,oBAAoBJ,EAAcE,EAAO9gE,IAAK8gE,EAAO7gE,KAC1E,OAAI8gE,GAAaxuE,KAAKosE,YAAcoC,EAAY,IAC5CxuE,KAAKosE,WAAaoC,EAClBxuE,KAAK8jE,WAAY,EACb9jE,KAAKqlD,eACLrlD,KAAK4jE,gBAAgB,EAAG5jE,KAAKiuC,YAAc,GAC3CjuC,KAAK8nE,eAAe,GACpB9nE,KAAK2lC,QAAQ,qBAEV,IAKf3lC,KAAKyuE,oBAAsB,SAASD,EAAW/gE,EAAKC,GAOhD,OANID,IACA+gE,EAAYj2D,KAAK7K,IAAID,EAAK+gE,IAE1B9gE,IACA8gE,EAAYj2D,KAAK9K,IAAIC,EAAK8gE,IAEvBA,GAEXxuE,KAAK0uE,aAAe,WAChB,OAAO1uE,KAAKosE,YAEhBpsE,KAAK2uE,aAAe,SAAUC,GAC1B5uE,KAAKuN,kBAAkBqhE,EAAOA,IAElC5uE,KAAK6uE,kBAAoB,WACrB,MAAO,CACHphE,IAAMzN,KAAKwN,gBAAgBC,IAC3BC,IAAM1N,KAAKwN,gBAAgBE,MAInC1N,KAAKooE,4BAA8B,SAAStvD,GACxC,IAAIq1D,EAAcnuE,KAAKqlD,aACnB7Q,EAAS17B,EAAM07B,OACf7yB,EAAQ7I,EAAM6I,MACdwZ,EAAMriB,EAAMqiB,IACZqB,EAAW7a,EAAMsZ,IACjBwB,EAAUtB,EAAIF,IACdgmB,EAAMxkB,EAAUD,EAChB2rC,EAAe,KAGnB,GADAnoE,KAAKgkE,WAAY,EACN,GAAP/iB,EACA,GAAe,WAAXzM,EAAqB,CACrBx0C,KAAKmuE,EAAc,YAAc,mBAAmBvoE,OAAO42B,EAAUykB,GAErE,IAAI6hB,EAAY9iE,KAAK2N,UACrBw6D,EAAenoE,KAAK6iE,gBAAgB/pD,GACpC9Y,KAAK2jE,YAAYwE,GAEjB,IACIr8D,EAAM,EACV,GAFI++C,EAAW7qD,KAAK8qD,YAAY3vB,EAAIF,KAEtB,CACV4vB,EAAS8V,eAAexlC,EAAIF,IAAKE,EAAID,OAAQvZ,EAAMuZ,OAASC,EAAID,QAChE2vB,EAASmV,UAAU/e,GAEnB,IAAI6tB,EAAiB9uE,KAAK8qD,YAAYtuB,GAClCsyC,GAAkBA,IAAmBjkB,IACrCikB,EAAexe,MAAMzF,GACrBA,EAAWikB,GAEfhjE,EAAMg3D,EAAUn9D,QAAQklD,GAAY,EAGxC,KAAU/+C,EAAMg3D,EAAUjkE,OAAQiN,IAAO,EACjC++C,EAAWiY,EAAUh3D,IACZ6V,MAAMsZ,KAAOE,EAAIF,KAC1B4vB,EAASmV,UAAU/e,GAI3BxkB,EAAUD,MACP,CACH,IAAI5pB,EAAOjO,MAAMs8C,GACjBruC,EAAK2D,QAAQimB,EAAU,GACvB,IAAI3T,EAAMslD,EAAcnuE,KAAKslD,UAAYtlD,KAAKkoE,gBAC9Cr/C,EAAIjjB,OAAOvH,MAAMwqB,EAAKjW,GAClBkwD,EAAY9iE,KAAK2N,UAEjB7B,EAAM,EACV,GAFI++C,EAAW7qD,KAAK8qD,YAAYtuB,GAElB,CACV,IAAIhB,EAAMqvB,EAAS/iD,MAAMw0B,cAAc3a,EAAMsZ,IAAKtZ,EAAMuZ,QAC7C,GAAPM,GACAqvB,EAAWA,EAASrlD,MAAMmc,EAAMsZ,IAAKtZ,EAAMuZ,WAEvC2vB,EAASmV,SAAS/e,GAClB4J,EAAS8V,eAAelkC,EAAS,EAAGtB,EAAID,OAASvZ,EAAMuZ,UAGnD,GAARM,IACAqvB,EAAS8V,eAAenkC,EAAU,EAAGrB,EAAID,OAASvZ,EAAMuZ,QACxD2vB,EAASmV,SAAS/e,IAEtBn1C,EAAMg3D,EAAUn9D,QAAQklD,GAAY,EAGxC,KAAU/+C,EAAMg3D,EAAUjkE,OAAQiN,IAAO,CACrC,IAAI++C,KAAWiY,EAAUh3D,IACZ6V,MAAMsZ,KAAOuB,GACtBquB,EAASmV,SAAS/e,SAK9BA,EAAM1oC,KAAK2I,IAAIpI,EAAM6I,MAAMuZ,OAASpiB,EAAMqiB,IAAID,QAC/B,WAAXsZ,IACA2zB,EAAenoE,KAAK6iE,gBAAgB/pD,GACpC9Y,KAAK2jE,YAAYwE,GAEjBlnB,GAAOA,IAEP4J,EAAW7qD,KAAK8qD,YAAYtuB,KAE5BquB,EAAS8V,eAAenkC,EAAU7a,EAAMuZ,OAAQ+lB,GAcxD,OAVIktB,GAAenuE,KAAKslD,UAAUzmD,QAAUmB,KAAKypB,IAAIwkB,aACjDzpC,QAAQ8gB,MAAM,6DAElBtlB,KAAKgkE,WAAY,EAEbmK,EACAnuE,KAAK4jE,gBAAgBpnC,EAAUC,GAE/Bz8B,KAAK6jE,sBAAsBrnC,EAAUC,GAElC0rC,GAGXnoE,KAAK6jE,sBAAwB,SAASrnC,EAAUC,EAAS0jC,GACrDngE,KAAKkoE,gBAAgB1rC,GAAY,KACjCx8B,KAAKkoE,gBAAgBzrC,GAAW,MAGpCz8B,KAAK4jE,gBAAkB,SAASpnC,EAAUC,GACtC,IAIIpc,EACAwqC,EALA92C,EAAQ/T,KAAKypB,IAAIuyC,cACjBxyD,EAAUxJ,KAAK6M,aACfkiE,EAAW/uE,KAAKslD,UAChBkpB,EAAYxuE,KAAKosE,WAIjBnxC,EAAMuB,EAEV,IADAC,EAAUlkB,KAAK9K,IAAIgvB,EAAS1oB,EAAMlV,OAAS,GACpCo8B,GAAOwB,IACVouB,EAAW7qD,KAAK8qD,YAAY7vB,EAAK4vB,KAM7BxqC,EAAS,GACTwqC,EAASwV,KAAK,SAASG,EAAavlC,EAAKC,EAAQ0pC,GACzC,IAAIoK,EACJ,GAAmB,MAAfxO,EAAqB,EACrBwO,EAAahvE,KAAKivE,kBACFzO,EAAangD,EAAOxhB,SACzB,GAAKqwE,EAChB,IAAK,IAAItwE,EAAI,EAAGA,EAAIowE,EAAWnwE,OAAQD,IACnCowE,EAAWpwE,GAAKuwE,OAGpBH,EAAahvE,KAAKivE,kBACdl7D,EAAMknB,GAAK/kB,UAAU0uD,EAAY1pC,GACjC7a,EAAOxhB,QAEfwhB,EAASA,EAAOzd,OAAOosE,IACzB3uE,KAAKL,MACP6qD,EAAS1vB,IAAIF,IACblnB,EAAM82C,EAAS1vB,IAAIF,KAAKp8B,OAAS,GAGrCkwE,EAASlkB,EAASlpC,MAAMsZ,KAAOj7B,KAAKovE,mBAAmB/uD,EAAQmuD,EAAWhlE,GAC1EyxB,EAAM4vB,EAAS1vB,IAAIF,IAAM,IA1BzB5a,EAASrgB,KAAKivE,kBAAkBl7D,EAAMknB,IACtC8zC,EAAS9zC,GAAOj7B,KAAKovE,mBAAmB/uD,EAAQmuD,EAAWhlE,GAC3DyxB,MA4BZ,IAEIi0C,EAAoB,EACpBC,EAAoB,EAwdxB,SAAS3pB,EAAYjE,GACjB,QAAIA,EAAI,QAEDA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OAnf/BvhD,KAAKovE,mBAAqB,SAAS/uD,EAAQmuD,EAAWhlE,GAClD,GAAqB,GAAjB6W,EAAOxhB,OACP,MAAO,GAGX,IAAI2L,EAAS,GACT6kE,EAAgBhvD,EAAOxhB,OACvBywE,EAAY,EAAGC,EAAe,EAE9BC,EAASxvE,KAAKyvE,YAEdC,EAAmB1vE,KAAK2vE,kBACxBC,EAAYpB,GAAaj2D,KAAK7K,IAAI,EAAIlE,EAAS,KACvB,IAArBkmE,EAA6B,EAAIn3D,KAAK2C,MAAMszD,EAAY,GAuB/D,SAASqB,EAASljB,GAEd,IADA,IAAI1L,EAAM0L,EAAY2iB,EACb1wE,EAAI0wE,EAAW1wE,EAAI+tD,EAAW/tD,IAAK,CACxC,IAAIuqB,EAAK9I,EAAOzhB,GACL,KAAPuqB,GAAoB,IAAPA,IAAU83B,GAAO,GAGjCz2C,EAAO3L,SACR0mD,EA7BR,WACI,IAAIuqB,EAAc,EAClB,GAAkB,IAAdF,EACA,OAAOE,EACX,GAAIJ,EACA,IAAK,IAAI9wE,EAAI,EAAGA,EAAIyhB,EAAOxhB,OAAQD,IAAK,CACpC,IAAIiwD,EAAQxuC,EAAOzhB,GACnB,GA3BJ,IA2BQiwD,EACAihB,GAAe,MACd,IA5BX,IA4BejhB,EAEJ,IA7BL,IA6BSA,EACL,SAEA,MAJAihB,GAAetmE,GAS3B,OAFIgmE,IAA+B,IAArBE,IACVI,GAAetmE,GACZ+O,KAAK9K,IAAIqiE,EAAaF,GAUhBG,GACTvlE,EAAO+6C,OAASA,GAEpBgqB,GAAgBtuB,EAChBz2C,EAAOpM,KAAKmxE,GACZD,EAAY3iB,EAGhB,IADA,IAAIpH,EAAS,EACN8pB,EAAgBC,EAAYd,EAAYjpB,GAAQ,CACnD,IAAI//C,EAAQ8pE,EAAYd,EAAYjpB,EACpC,GAAIllC,EAAO7a,EAAQ,IA3Df,IA2D8B6a,EAAO7a,IA3DrC,GA4DAqqE,EAASrqE,QAGb,GAAI6a,EAAO7a,IAAU0pE,GAAqB7uD,EAAO7a,IAAU2pE,EAA3D,CAuBA,IADA,IAAIa,EAAWz3D,KAAK7K,IAAIlI,GAASgpE,GAAYA,GAAW,IAAKc,EAAY,GAClE9pE,EAAQwqE,GAAY3vD,EAAO7a,GAAS0pE,GACvC1pE,IAEJ,GAAIgqE,EAAQ,CACR,KAAOhqE,EAAQwqE,GAAY3vD,EAAO7a,GAAS0pE,GACvC1pE,IAEJ,KAAOA,EAAQwqE,GA9FT,GA8FqB3vD,EAAO7a,IAC9BA,SAGJ,KAAOA,EAAQwqE,GAAY3vD,EAAO7a,GAjGlC,IAkGIA,IAGJA,EAAQwqE,EACRH,IAAWrqE,IA1GR,GA8GH6a,EADJ7a,EAAQ8pE,EAAYd,IAEhBhpE,IACJqqE,EAASrqE,EAAQ+/C,QA7CjB,CACI,KAAY//C,GAAS8pE,EAAY,GACzBjvD,EAAO7a,IAAU0pE,EADW1pE,KAKpC,GAAIA,EAAQ8pE,EAAW,CACnBO,EAASrqE,GACT,SAGJ,IADAA,EAAQ8pE,EAAYd,EACRhpE,EAAQ6a,EAAOxhB,QACnBwhB,EAAO7a,IAAU2pE,EADU3pE,KAKnC,GAAIA,GAAS6a,EAAOxhB,OAChB,MAEJgxE,EAASrqE,IA4BjB,OAAOgF,GAEXxK,KAAKivE,kBAAoB,SAASzwC,EAAKK,GACnC,IACIr1B,EADAqf,EAAM,GAEVgW,EAASA,GAAU,EAEnB,IAAK,IAAIjgC,EAAI,EAAGA,EAAI4/B,EAAI3/B,OAAQD,IAAK,CACjC,IAAI2iD,EAAI/iB,EAAI3jB,WAAWjc,GACvB,GAAS,GAAL2iD,EAAQ,CACR/3C,EAAUxJ,KAAKylD,iBAAiB58B,EAAIhqB,OAASggC,GAC7ChW,EAAIzqB,KAxHN,IAyHE,IAAK,IAAIqiB,EAAI,EAAGA,EAAIjX,EAASiX,IACzBoI,EAAIzqB,KAzHJ,SA4HM,IAALmjD,EACL14B,EAAIzqB,KA/HJ,IAgIOmjD,EAAI,IAAMA,EAAI,IAAQA,EAAI,IAAMA,EAAI,GAC3C14B,EAAIzqB,KAlIE,GAoIDmjD,GAAK,MAAUiE,EAAYjE,GAChC14B,EAAIzqB,KAzIL,EACI,GA0IHyqB,EAAIzqB,KA3IL,GA8IP,OAAOyqB,GAEX7oB,KAAKwsE,sBAAwB,SAAShuC,EAAKyxC,EAAiBC,GACxD,GAAuB,GAAnBD,EACA,MAAO,CAAC,EAAG,GAKf,IAAI1uB,EAAGrmB,EACP,IALuB,MAAnB+0C,IACAA,EAAkBpY,KACtBqY,EAAeA,GAAgB,EAG1Bh1C,EAAS,EAAGA,EAASsD,EAAI3/B,SAEjB,IADT0iD,EAAI/iB,EAAI3jB,WAAWqgB,IAEfg1C,GAAgBlwE,KAAKylD,iBAAiByqB,GAEjC3uB,GAAK,MAAUiE,EAAYjE,GAChC2uB,GAAgB,EAEhBA,GAAgB,IAEhBA,EAAeD,IAVe/0C,KAetC,MAAO,CAACg1C,EAAch1C,IAG1Bl7B,KAAK4sD,YAAc,KACnB5sD,KAAKmwE,aAAe,SAASl1C,GACzB,IAAI+a,EAAI,EAIR,OAHIh2C,KAAK4sD,cACL5W,GAAKh2C,KAAK4sD,YAAY3xB,IAAQj7B,KAAK4sD,YAAY3xB,GAAK8xB,UAAY,GAE/D/sD,KAAKqlD,cAAiBrlD,KAAKslD,UAAUrqB,GAG/Bj7B,KAAKslD,UAAUrqB,GAAKp8B,OAASm3C,EAF7BA,GAIfh2C,KAAKowE,gBAAkB,SAASn1C,GAC5B,OAAKj7B,KAAKqlD,cAAiBrlD,KAAKslD,UAAUrqB,GAG/Bj7B,KAAKslD,UAAUrqB,GAAKp8B,OAAS,EAF7B,GAMfmB,KAAKqwE,iBAAmB,SAASniC,GAC7B,GAAIluC,KAAKqlD,aAAc,CACnB,IAAIr/C,EAAMhG,KAAKqrD,yBAAyBnd,EAAWz4B,OAAOC,WACtDlL,EAASxK,KAAKslD,UAAUt/C,EAAIi1B,KAChC,OAAOzwB,EAAO3L,QAAU2L,EAAO,GAAKxE,EAAIk1B,OAAS1wB,EAAO+6C,OAAS,EAEjE,OAAO,GAGfvlD,KAAKswE,uBAAyB,SAASpiC,GACnC,IAAIloC,EAAMhG,KAAKqrD,yBAAyBnd,EAAWz4B,OAAOC,WAC1D,OAAO1V,KAAKuwE,uBAAuBvqE,EAAIi1B,IAAKj1B,EAAIk1B,SAEpDl7B,KAAKwwE,yBAA2B,SAAShsB,EAAQisB,GAC7C,IAAIviC,EAAYluC,KAAKquC,oBAAoBmW,EAAQisB,GACjD,OAAOzwE,KAAKswE,uBAAuBpiC,IAEvCluC,KAAKyrD,iCAAmC,SAASjH,EAAQisB,GACrD,IAAIviC,EAAYluC,KAAKquC,oBAAoBmW,EAAQisB,GACjD,OAAOzwE,KAAKqrD,yBAAyBnd,EAAWz4B,OAAOC,UAAY,KAEvE1V,KAAK0wE,gBAAkB,SAASz1C,GAC5B,OAAKj7B,KAAKqlD,aAGCrlD,KAAKslD,UAAUrqB,QAFtB,GAKRj7B,KAAKylD,iBAAmB,SAASyqB,GAC7B,OAAOlwE,KAAKqpE,UAAY6G,EAAelwE,KAAKqpE,SAAW,IAI3DrpE,KAAK2wE,oBAAsB,SAASziC,EAAWgiC,GAC3C,OAAOlwE,KAAKqrD,yBAAyBnd,EAAWgiC,GAAcj1C,KAIlEj7B,KAAK4wE,uBAAyB,SAAS1iC,EAAWgiC,GAC9C,OAAOlwE,KAAKqrD,yBAAyBnd,EAAWgiC,GAAch1C,QAElEl7B,KAAKqrD,yBAA2B,SAASnd,EAAWgiC,EAAcxjB,GAC9D,GAAIxe,EAAY,EACZ,MAAO,CAACjT,IAAK,EAAGC,OAAQ,GAE5B,IAAIxgB,EAGAwgB,EAFAspB,EAAS,EACTisB,EAAY,EAEZx1C,EAAM,EACN41C,EAAY,EAEZhsB,EAAW7kD,KAAK8kD,gBAChBlmD,EAAIoB,KAAK+kD,kBAAkBF,EAAU3W,GACrCtoB,EAAIi/B,EAAShmD,OACjB,GAAI+mB,GAAKhnB,GAAK,EACV,CAAIq8B,EAAM4pB,EAASjmD,GACf4lD,EAASxkD,KAAKglD,aAAapmD,GAD/B,IAEIkyE,EAAU5iC,EAAY2W,EAASj/B,EAAI,QAEnCkrD,GAAWlrD,EAOnB,IAJA,IAAImrD,EAAS/wE,KAAKiuC,YAAc,EAC5B4c,EAAW7qD,KAAKojE,gBAAgB5e,GAChC+nB,EAAY1hB,EAAWA,EAASlpC,MAAMsZ,IAAM48B,IAEzC58B,GAAOiT,KAENjT,GADJ41C,EAAY7wE,KAAKmwE,aAAa3rB,IACRtW,GAAasW,GAAUusB,IAGzC91C,GAAO41C,IACPrsB,EACa+nB,IACT/nB,EAASqG,EAAS1vB,IAAIF,IAAI,EAE1BsxC,GADA1hB,EAAW7qD,KAAKojE,gBAAgB5e,EAAQqG,IACjBA,EAASlpC,MAAMsZ,IAAM48B,KAIhDiZ,IACA9wE,KAAKglD,aAAa5mD,KAAKomD,GACvBxkD,KAAK8kD,gBAAgB1mD,KAAK68B,IAIlC,GAAI4vB,GAAYA,EAASlpC,MAAMsZ,KAAOupB,EAClC9pC,EAAO1a,KAAK0kE,mBAAmB7Z,GAC/BrG,EAASqG,EAASlpC,MAAMsZ,QACrB,IAAIA,EAAM41C,GAAa3iC,GAAasW,EAASusB,EAChD,MAAO,CACH91C,IAAK81C,EACL71C,OAAQl7B,KAAK4iC,QAAQmuC,GAAQlyE,QAGjC6b,EAAO1a,KAAK4iC,QAAQ4hB,GACpBqG,EAAW,KAEf,IAAI9G,EAAa,EAAGU,EAAalsC,KAAK2C,MAAMgzB,EAAYjT,GACxD,GAAIj7B,KAAKqlD,aAAc,CACnB,IAAI76C,EAASxK,KAAKslD,UAAUd,GACxBh6C,IACA0wB,EAAS1wB,EAAOi6C,GACbA,EAAa,GAAKj6C,EAAO3L,SACxBklD,EAAav5C,EAAO+6C,OACpBkrB,EAAYjmE,EAAOi6C,EAAa,IAAMj6C,EAAOA,EAAO3L,OAAS,GAC7D6b,EAAOA,EAAKxE,UAAUu6D,KAYlC,YAPgBhqE,IAAZimD,GAAyB1sD,KAAKymD,aAAalC,UAAUtpB,EAAMwpB,EAAYD,EAAQC,KAC/EyrB,EAAelwE,KAAKymD,aAAae,YAAYkF,IAEjD+jB,GAAazwE,KAAKwsE,sBAAsB9xD,EAAMw1D,EAAensB,GAAY,GACrE/jD,KAAKqlD,cAAgBorB,GAAav1C,IAClCu1C,EAAYv1C,EAAS,GAErB2vB,EACOA,EAASmW,cAAcyP,GAE3B,CAACx1C,IAAKupB,EAAQtpB,OAAQu1C,IAEjCzwE,KAAKi9B,yBAA2B,SAASunB,EAAQisB,GAC7C,GAAyB,qBAAdA,EACP,IAAIzqE,EAAMhG,KAAKi7D,wBAAwBzW,EAAOvpB,IAAKupB,EAAOtpB,aAE1Dl1B,EAAMhG,KAAKi7D,wBAAwBzW,EAAQisB,GAE/CjsB,EAASx+C,EAAIi1B,IACbw1C,EAAYzqE,EAAIk1B,OAEhB,IAEIkjB,EAFAlQ,EAAY,EACZ8iC,EAAe,MAEnB5yB,EAAOp+C,KAAKq+C,UAAUmG,EAAQisB,EAAW,MAErCjsB,EAASpG,EAAKz8B,MAAMsZ,IACpBw1C,EAAYryB,EAAKz8B,MAAMuZ,QAG3B,IAAIyvB,EAAQ1vB,EAAM,EAGd4pB,EAAW7kD,KAAKglD,aAChBpmD,EAAIoB,KAAK+kD,kBAAkBF,EAAUL,GACrC5+B,EAAIi/B,EAAShmD,OACjB,GAAI+mB,GAAKhnB,GAAK,EACV,CAAIq8B,EAAM4pB,EAASjmD,GACfsvC,EAAYluC,KAAK8kD,gBAAgBlmD,GADrC,IAEIkyE,EAAUtsB,EAASK,EAASj/B,EAAI,QAEhCkrD,GAAWlrD,EAMnB,IAHA,IAAIilC,EAAW7qD,KAAKojE,gBAAgBnoC,GAChCsxC,EAAY1hB,EAAUA,EAASlpC,MAAMsZ,IAAK48B,IAEvC58B,EAAMupB,GAAQ,CACjB,GAAIvpB,GAAOsxC,EAAW,CAElB,IADA5hB,EAASE,EAAS1vB,IAAIF,IAAM,GACfupB,EACT,MAEJ+nB,GADA1hB,EAAW7qD,KAAKojE,gBAAgBzY,EAAQE,IAClBA,EAASlpC,MAAMsZ,IAAK48B,SAG1ClN,EAAS1vB,EAAM,EAGnBiT,GAAaluC,KAAKmwE,aAAal1C,GAC/BA,EAAM0vB,EAEFmmB,IACA9wE,KAAKglD,aAAa5mD,KAAK68B,GACvBj7B,KAAK8kD,gBAAgB1mD,KAAK8vC,IAGlC,IAAIy2B,EAAW,GACX9Z,GAAY5vB,GAAOsxC,GACnB5H,EAAW3kE,KAAK0kE,mBAAmB7Z,EAAUrG,EAAQisB,GACrDO,EAAenmB,EAASlpC,MAAMsZ,MAE9B0pC,EAAW3kE,KAAK4iC,QAAQ4hB,GAAQtuC,UAAU,EAAGu6D,GAC7CO,EAAexsB,GAEnB,IAAIT,EAAa,EACjB,GAAI/jD,KAAKqlD,aAAc,CACnB,IAAI4rB,EAAUjxE,KAAKslD,UAAU0rB,GAC7B,GAAIC,EAAS,CAET,IADA,IAAIC,EAAkB,EACfvM,EAAS9lE,QAAUoyE,EAAQC,IAC9BhjC,IACAgjC,IAEJvM,EAAWA,EAASzuD,UAChB+6D,EAAQC,EAAkB,IAAM,EAAGvM,EAAS9lE,QAEhDklD,EAAamtB,EAAkB,EAAID,EAAQ1rB,OAAS,GAO5D,OAHIvlD,KAAK4sD,aAAe5sD,KAAK4sD,YAAY3xB,IAAQj7B,KAAK4sD,YAAY3xB,GAAK6xB,YACnE5e,GAAaluC,KAAK4sD,YAAY3xB,GAAK6xB,WAEhC,CACH7xB,IAAKiT,EACLhT,OAAQ6oB,EAAa/jD,KAAKwsE,sBAAsB7H,GAAU,KAGlE3kE,KAAKuwE,uBAAyB,SAASt1C,EAAKw1C,GACxC,OAAOzwE,KAAKi9B,yBAAyBhC,EAAKw1C,GAAWv1C,QAEzDl7B,KAAKquC,oBAAsB,SAASmW,EAAQisB,GACxC,OAAOzwE,KAAKi9B,yBAAyBunB,EAAQisB,GAAWx1C,KAE5Dj7B,KAAKmxE,gBAAkB,WACnB,IAAIC,EAAa,EACbhzB,EAAO,KACX,GAAKp+C,KAAKqlD,aAaN,IALA,IAAI5oB,EAAUz8B,KAAKslD,UAAUzmD,OACzBo8B,EAAM,EAENsxC,GAFS3tE,EAAI,GACbw/C,EAAOp+C,KAAK2N,UAAU/O,MACHw/C,EAAKz8B,MAAMsZ,IAAK48B,KAEhC58B,EAAMwB,GAAS,CAClB,IAAIjyB,EAASxK,KAAKslD,UAAUrqB,GAC5Bm2C,GAAc5mE,EAASA,EAAO3L,OAAS,EAAI,IAC3Co8B,EACUsxC,IACNtxC,EAAMmjB,EAAKjjB,IAAIF,IAAI,EAEnBsxC,GADAnuB,EAAOp+C,KAAK2N,UAAU/O,MACJw/C,EAAKz8B,MAAMsZ,IAAK48B,SApBtB,CACpBuZ,EAAapxE,KAAKiuC,YAElB,IADA,IAAI4xB,EAAW7/D,KAAK2N,UACX/O,EAAI,EAAGA,EAAIihE,EAAShhE,OAAQD,IAEjCwyE,IADAhzB,EAAOyhB,EAASjhE,IACGu8B,IAAIF,IAAMmjB,EAAKz8B,MAAMsZ,IAsBhD,OAHIj7B,KAAK4sD,cACLwkB,GAAcpxE,KAAKqxE,0BAEhBD,GAEXpxE,KAAKsxE,gBAAkB,SAASC,GACvBvxE,KAAKwxE,iBACVxxE,KAAKwsE,sBAAwB,SAAShuC,EAAKyxC,EAAiBC,GACxD,GAAwB,IAApBD,EACA,MAAO,CAAC,EAAG,GAKf,IAAI1uB,EAAGrmB,EACP,IALK+0C,IACDA,EAAkBpY,KACtBqY,EAAeA,GAAgB,EAG1Bh1C,EAAS,EAAGA,EAASsD,EAAI3/B,WAGtBqxE,GADM,QADV3uB,EAAI/iB,EAAI/kB,OAAOyhB,IAEKl7B,KAAKylD,iBAAiByqB,GAEtBqB,EAAGE,kBAAkBlwB,IAEtB0uB,GAPe/0C,KAYtC,MAAO,CAACg1C,EAAch1C,MAI9Bl7B,KAAK2G,QAAU,WACP3G,KAAK4nE,cACL5nE,KAAK4nE,YAAY5I,YAAY,MAC7Bh/D,KAAK4nE,YAAc,MAEvB5nE,KAAKirE,cACLjrE,KAAK44C,qBACL54C,KAAK0D,UAAU87C,UAGnBx/C,KAAKwlD,YAAcA,GAsCpBloD,KAAK+M,EAAYjN,WAEpBnB,EAAQ,0BAA0B0mE,QAAQrlE,KAAK+M,EAAYjN,WAC3DnB,EAAQ,gCAAgCuqE,aAAalpE,KAAK+M,EAAYjN,WAGtEk/C,EAAO3C,cAActvC,EAAYjN,UAAW,UAAW,CACnDs0E,KAAM,CACFl0E,IAAK,SAAS9B,GAUV,GATKA,GAAkB,OAATA,EAEI,QAATA,EACLA,GAAQ,EACM,eAATA,EACLA,GAAS,EACY,iBAATA,IACZA,EAAQglB,SAAShlB,EAAO,MAAO,GAN/BA,GAAQ,EAQRsE,KAAK2xE,OAASj2E,EAGlB,GADAsE,KAAK2xE,MAAQj2E,EACRA,EAEE,CACH,IAAIkrD,EAAsB,iBAATlrD,EAAoBA,EAAQ,KAC7CsE,KAAKuN,kBAAkBq5C,EAAKA,GAC5B5mD,KAAKkD,gBAAe,QAJpBlD,KAAKkD,gBAAe,IAO5BtH,IAAK,WACD,OAAIoE,KAAKoN,kBACc,GAAfpN,KAAK2xE,MACE,cACN3xE,KAAK6uE,oBAAoBphE,IAEvBzN,KAAK2xE,MADD,OAGR,OAEXt4B,YAAY,GAEhB+xB,WAAY,CACR5tE,IAAK,SAAS8rB,IACVA,EAAa,QAAPA,EACmB,QAAnBtpB,KAAK+1D,MAAMpuD,KACJ,QAAP2hB,IACKtpB,KAAKyvE,cACZzvE,KAAKyvE,YAAcnmD,EACftpB,KAAKqlD,eACLrlD,KAAKqlD,cAAe,EACpBrlD,KAAKkD,gBAAe,MAIhC02C,aAAc,QAElB81B,iBAAkB,CACdlyE,IAAK,WACGwC,KAAKqlD,eACLrlD,KAAKqlD,cAAe,EACpBrlD,KAAKkD,gBAAe,KAG5B02C,cAAc,GAElBg4B,gBAAiB,CACbp0E,IAAK,WAAYwC,KAAK2lC,QAAQ,qBAC9BiU,aAAc,GAElB8wB,UAAW,CACPltE,IAAK,SAASktE,GACV1qE,KAAK2qE,WAAaD,EAElB1qE,KAAKirE,cACDP,GACA1qE,KAAKkrE,gBAEbtxB,cAAc,GAElBi4B,YAAa,CAACj4B,cAAc,GAC5BpwC,QAAS,CACLhM,IAAK,SAASgM,IACVA,EAAUkX,SAASlX,IACL,GAAKxJ,KAAKqpE,WAAa7/D,IACjCxJ,KAAK8jE,WAAY,EACjB9jE,KAAKkoE,gBAAkB,GACvBloE,KAAKqpE,SAAW7/D,EAChBxJ,KAAK2lC,QAAQ,mBAGrBiU,aAAc,EACdP,YAAY,GAEhBkwB,uBAAwB,CAAC3vB,cAAc,GACvCk4B,UAAW,CACPt0E,IAAK,SAAS8rB,GAAMtpB,KAAKylE,aAAan8C,IACtC+vB,YAAY,GAEhBqwB,UAAW,CACPlsE,IAAK,SAAS8rB,GAAMtpB,KAAK2lC,QAAQ,oBACjCiU,cAAc,GAElB2iB,YAAa,CACT/+D,IAAK,SAAS8rB,GAAMtpB,KAAKypB,IAAI6yC,eAAehzC,IAC5C1tB,IAAK,WAAY,OAAOoE,KAAKypB,IAAI+yC,kBACjCnjB,YAAY,GAEhBn4C,KAAM,CACF1D,IAAK,SAAS8rB,GAAOtpB,KAAK2C,QAAQ2mB,IAClC1tB,IAAK,WAAa,OAAOoE,KAAK6qE,SAC9BxxB,YAAY,KAIpB59C,EAAQ4O,YAAcA,KAGtBR,IAAIC,OAAO,aAAa,CAAC,UAAU,UAAU,SAAS,eAAe,cAAc,cAAc,SAAS7N,EAASR,EAASsO,GAC5H,aAEA,IAAI61B,EAAO3jC,EAAQ,cACf+N,EAAM/N,EAAQ,aACd8L,EAAQ9L,EAAQ,WAAW8L,MAE3BgqE,EAAS,WACT/xE,KAAKmE,SAAW,KAGpB,WACInE,KAAKxC,IAAM,SAAS4rB,GAEhB,OADApf,EAAIujB,MAAMvtB,KAAKmE,SAAUilB,GAClBppB,MAEXA,KAAK+4C,WAAa,WACd,OAAOnZ,EAAK5B,WAAWh+B,KAAKmE,WAEhCnE,KAAKmG,WAAa,SAASijB,GACvBppB,KAAKmE,SAAWilB,GAEpBppB,KAAKgyE,KAAO,SAASluE,GACjB,IAAIslB,EAAUppB,KAAKmE,SACfzG,EAAWsC,KAAKiyE,eAAenuE,EAASslB,GAC5C,IAAK1rB,EACD,OAAO,EAEX,IAAIihD,EAAa,KAajB,OAZAjhD,EAASyC,SAAQ,SAAS+xE,EAAIC,EAAIC,EAAIC,GAElC,OADA1zB,EAAa,IAAI52C,EAAMmqE,EAAIC,EAAIC,EAAIC,KAC/BF,GAAME,GAAMjpD,EAAQzH,OAASyH,EAAQzH,MAAMA,OACjB,GAAvByH,EAAQkpD,aAAwB3zB,EAAWvjB,QAAQhS,EAAQzH,UAE9Dg9B,EAAa,MACN,MAMRA,GAEX3+C,KAAKuyE,QAAU,SAASzuE,GACpB,IAAIslB,EAAUppB,KAAKmE,SACnB,IAAKilB,EAAQopD,OACT,MAAO,GACXxyE,KAAKyyE,gBAAgBrpD,GAErB,IAAIthB,EAAQshB,EAAQthB,MAChBiM,EAAQjM,EACNhE,EAAQ44D,SAAS50D,EAAM6Z,MAAMsZ,IAAKnzB,EAAMqzB,IAAIF,KAC5Cn3B,EAAQ2lB,IAAIuyC,cAEdzO,EAAS,GACTtS,EAAK7xB,EAAQ6xB,GACjB,GAAI7xB,EAAQspD,aAAc,CACtB,IAEIC,EAFA1xB,EAAMhG,EAAGp8C,OACTkyE,EAASh9D,EAAMlV,OAASoiD,EAE5Br1B,EAAO,IAAK,IAAIqP,EAAMggB,EAAGpc,QAAU,EAAG5D,GAAO81C,EAAQ91C,IAAO,CACxD,IAAK,IAAI9iB,EAAI,EAAGA,EAAI8oC,EAAK9oC,IACrB,IAAqC,GAAjCpE,EAAMknB,EAAM9iB,GAAGwzC,OAAO1Q,EAAG9iC,IACzB,SAASyT,EAEjB,IAAIzX,EAAYJ,EAAMknB,GAClBvgB,EAAO3G,EAAMknB,EAAMgmB,EAAM,GACzBqgB,EAAantD,EAAUtV,OAASsV,EAAU3B,MAAMyoC,EAAG,IAAI,GAAGp8C,OAC1D4kC,EAAW/oB,EAAKlI,MAAMyoC,EAAGgG,EAAM,IAAI,GAAGpiD,OAEtC8zE,GAAaA,EAAUx3C,IAAIF,MAAQA,GACnC03C,EAAUx3C,IAAID,OAASomC,IAI3B/T,EAAOnvD,KAAKu0E,EAAY,IAAI5qE,EACxBkzB,EAAKqmC,EAAYrmC,EAAMgmB,EAAM,EAAGxd,IAEhCwd,EAAM,IACNhmB,EAAMA,EAAMgmB,EAAM,UAG1B,IAAK,IAAIriD,EAAI,EAAGA,EAAImV,EAAMlV,OAAQD,IAC9B,KAAIggC,EAAUgB,EAAKlB,gBAAgB3qB,EAAMnV,GAAIq8C,GAC7C,IAAS9iC,EAAI,EAAGA,EAAIymB,EAAQ//B,OAAQsZ,IAAK,CACrC,IAAI3F,EAAQosB,EAAQzmB,GACpBo1C,EAAOnvD,KAAK,IAAI2J,EAAMnJ,EAAG4T,EAAMqsB,OAAQjgC,EAAG4T,EAAMqsB,OAASrsB,EAAM3T,UAK3E,GAAIiJ,EAAO,CACP,IAAIizB,EAAcjzB,EAAM6Z,MAAMuZ,OAC1BF,EAAYlzB,EAAM6Z,MAAMuZ,OAE5B,IADIt8B,EAAI,EAAGuZ,EAAIo1C,EAAO1uD,OAAS,EACxBD,EAAIuZ,GAAKo1C,EAAO3uD,GAAG+iB,MAAMuZ,OAASH,GAAewyB,EAAO3uD,GAAG+iB,MAAMsZ,KAAOnzB,EAAM6Z,MAAMsZ,KACvFr8B,IAEJ,KAAOA,EAAIuZ,GAAKo1C,EAAOp1C,GAAGgjB,IAAID,OAASF,GAAauyB,EAAOp1C,GAAGgjB,IAAIF,KAAOnzB,EAAMqzB,IAAIF,KAC/E9iB,IAGJ,IADAo1C,EAASA,EAAOrnC,MAAMtnB,EAAGuZ,EAAI,GACxBvZ,EAAI,EAAGuZ,EAAIo1C,EAAO1uD,OAAQD,EAAIuZ,EAAGvZ,IAClC2uD,EAAO3uD,GAAG+iB,MAAMsZ,KAAOnzB,EAAM6Z,MAAMsZ,IACnCsyB,EAAO3uD,GAAGu8B,IAAIF,KAAOnzB,EAAM6Z,MAAMsZ,IAIzC,OAAOsyB,GAEXvtD,KAAKmQ,QAAU,SAASmpD,EAAOsZ,GAC3B,IAAIxpD,EAAUppB,KAAKmE,SAEf82C,EAAKj7C,KAAKyyE,gBAAgBrpD,GAC9B,GAAIA,EAAQspD,aACR,OAAOE,EAEX,GAAK33B,EAAL,CAGA,IAAIzoC,EAAQyoC,EAAGn2C,KAAKw0D,GACpB,IAAK9mD,GAASA,EAAM,GAAG3T,QAAUy6D,EAAMz6D,OACnC,OAAO,KAGX,GADA+zE,EAActZ,EAAMnpD,QAAQ8qC,EAAI23B,GAC5BxpD,EAAQypD,aAAc,CACtBD,EAAcA,EAAYptE,MAAM,IAChC,IAAK,IAAI5G,EAAI2Z,KAAK9K,IAAI6rD,EAAMz6D,OAAQy6D,EAAMz6D,QAASD,KAAO,CACtD,IAAIuqB,EAAKmwC,EAAM16D,GACXuqB,GAAMA,EAAG7B,eAAiB6B,EAC1BypD,EAAYh0E,GAAKg0E,EAAYh0E,GAAGu9C,cAEhCy2B,EAAYh0E,GAAKg0E,EAAYh0E,GAAG0oB,cAExCsrD,EAAcA,EAAY/sE,KAAK,IAGnC,OAAO+sE,IAGX5yE,KAAKyyE,gBAAkB,SAASrpD,EAAS0pD,GACrC,GAAI1pD,EAAQopD,kBAAkBtiE,OAC1B,OAAOkZ,EAAQ6xB,GAAK7xB,EAAQopD,OAEhC,IAAIA,EAASppD,EAAQopD,OAErB,IAAKppD,EAAQopD,OACT,OAAOppD,EAAQ6xB,IAAK,EAEnB7xB,EAAQuV,SACT6zC,EAAS5yC,EAAKrB,aAAai0C,IAE3BppD,EAAQ2pD,YACRP,EA+IZ,SAAyBA,EAAQppD,GAC7B,SAAS4pD,EAAazxB,GAClB,MAAI,KAAKnwC,KAAKmwC,IAAMn4B,EAAQuV,OAAe,MACpC,GAEX,OAAOq0C,EAAaR,EAAO,IAAMA,EAC3BQ,EAAaR,EAAOA,EAAO3zE,OAAS,IArJzBo0E,CAAgBT,EAAQppD,IAErC,IAAIie,EAAWje,EAAQ8pD,cAAgB,KAAO,MAG9C,GADA9pD,EAAQspD,cAAgBI,GAAyB,SAAS1hE,KAAKohE,GAC3DppD,EAAQspD,aACR,OAAOtpD,EAAQ6xB,GAAKj7C,KAAKmzE,yBAAyBX,EAAQnrC,GAE9D,IACI,IAAI4T,EAAK,IAAI/qC,OAAOsiE,EAAQnrC,GAC9B,MAAMx1B,GACJopC,GAAK,EAET,OAAO7xB,EAAQ6xB,GAAKA,GAGxBj7C,KAAKmzE,yBAA2B,SAASX,EAAQnrC,GAG7C,IAFA,IAAIyT,EAAQ03B,EAAOriE,QAAQ,cAAe,QAAQ3K,MAAM,MACpDy1C,EAAK,GACAr8C,EAAI,EAAGA,EAAIk8C,EAAMj8C,OAAQD,IAAK,IACnCq8C,EAAG78C,KAAK,IAAI8R,OAAO4qC,EAAMl8C,GAAIyoC,IAC/B,MAAMx1B,GACJ,OAAO,EAEX,OAAOopC,GAGXj7C,KAAKiyE,eAAiB,SAASnuE,EAASslB,GACpC,IAAI6xB,EAAKj7C,KAAKyyE,gBAAgBrpD,GAC9B,IAAK6xB,EACD,OAAO,EACX,IAAIm4B,EAAiC,GAArBhqD,EAAQgqD,UACpBd,EAAqC,GAAvBlpD,EAAQkpD,YAEtBxqE,EAAQshB,EAAQthB,MAChB6Z,EAAQyH,EAAQzH,MACfA,IACDA,EAAQ7Z,EAAQA,EAAMsrE,EAAY,MAAQ,SAAWtvE,EAAQJ,UAAUi/B,YAEvEhhB,EAAMA,QACNA,EAAQA,EAAM2wD,GAAec,EAAY,MAAQ,UAErD,IAAI52C,EAAW10B,EAAQA,EAAM6Z,MAAMsZ,IAAM,EACrCwB,EAAU30B,EAAQA,EAAMqzB,IAAIF,IAAMn3B,EAAQmqC,YAAc,EAE5D,GAAImlC,EACA,IAAIjzE,EAAU,SAAS+L,GACnB,IAAI+uB,EAAMtZ,EAAMsZ,IAChB,IAAIo4C,EAAcp4C,EAAKtZ,EAAMuZ,OAAQhvB,GAArC,CAEA,IAAK+uB,IAAOA,GAAOuB,EAAUvB,IACzB,GAAIo4C,EAAcp4C,EAAKxlB,OAAOC,UAAWxJ,GACrC,OACR,GAAoB,GAAhBkd,EAAQsoD,KAEZ,IAAKz2C,EAAMwB,EAASD,EAAW7a,EAAMsZ,IAAKA,GAAOuB,EAAUvB,IACvD,GAAIo4C,EAAcp4C,EAAKxlB,OAAOC,UAAWxJ,GACrC,cAIR/L,EAAU,SAAS+L,GACnB,IAAI+uB,EAAMtZ,EAAMsZ,IAChB,IAAIo4C,EAAcp4C,EAAKtZ,EAAMuZ,OAAQhvB,GAArC,CAEA,IAAK+uB,GAAY,EAAGA,GAAOwB,EAASxB,IAChC,GAAIo4C,EAAcp4C,EAAK,EAAG/uB,GACtB,OACR,GAAoB,GAAhBkd,EAAQsoD,KAEZ,IAAKz2C,EAAMuB,EAAUC,EAAU9a,EAAMsZ,IAAKA,GAAOwB,EAASxB,IACtD,GAAIo4C,EAAcp4C,EAAK,EAAG/uB,GACtB,SAIhB,GAAIkd,EAAQspD,aACR,IAAIzxB,EAAMhG,EAAGp8C,OACTw0E,EAAgB,SAASp4C,EAAK4D,EAAQ3yB,GACtC,IAAI3E,EAAW6rE,EAAYn4C,EAAMgmB,EAAM,EAAIhmB,EAC3C,KAAI1zB,EAAW,GAAf,CACA,IAAImT,EAAO5W,EAAQ8+B,QAAQr7B,GACvB+5D,EAAa5mD,EAAKixC,OAAO1Q,EAAG,IAChC,MAAKm4B,GAAa9R,EAAaziC,IAA0B,IAAhByiC,GAAzC,CACA,IAAK,IAAI1iE,EAAI,EAAGA,EAAIqiD,EAAKriD,IAErB,IAA2B,IAD3B8b,EAAO5W,EAAQ8+B,QAAQr7B,EAAW3I,IACzB+sD,OAAO1Q,EAAGr8C,IACf,OAER,IAAI6kC,EAAW/oB,EAAKlI,MAAMyoC,EAAGgG,EAAM,IAAI,GAAGpiD,OAC1C,KAAIu0E,GAAa3vC,EAAW5E,GAC5B,QAAI3yB,EAAS3E,EAAU+5D,EAAY/5D,EAAW05C,EAAM,EAAGxd,SAAvD,UAIH,GAAI2vC,EACDC,EAAgB,SAASp4C,EAAKwI,EAAUv3B,GACxC,IAEIsC,EAFAkM,EAAO5W,EAAQ8+B,QAAQ3H,GACvB2D,EAAU,GACPrB,EAAO,EAEd,IADA0d,EAAG8Q,UAAY,EACRv9C,EAAIysC,EAAGn2C,KAAK4V,IAAQ,CACvB,IAAI7b,EAAS2P,EAAE,GAAG3P,OAElB,GADA0+B,EAAO/uB,EAAE9I,OACJ7G,EAAQ,CACT,GAAI0+B,GAAQ7iB,EAAK7b,OAAQ,MACzBo8C,EAAG8Q,UAAYxuB,GAAQ,EAE3B,GAAI/uB,EAAE9I,MAAQ7G,EAAS4kC,EACnB,MACJ7E,EAAQxgC,KAAKoQ,EAAE9I,MAAO7G,GAE1B,IAAK,IAAID,EAAIggC,EAAQ//B,OAAS,EAAGD,GAAK,EAAGA,GAAK,EAAG,CAC7C,IAAIs8B,EAAS0D,EAAQhgC,EAAI,GAEzB,GAAIsN,EAAS+uB,EAAKC,EAAQD,EAAKC,GAD3Br8B,EAAS+/B,EAAQhgC,KAEjB,OAAO,SAKfy0E,EAAgB,SAASp4C,EAAKqmC,EAAYp1D,GAC1C,IACIqxB,EACA/uB,EAFAkM,EAAO5W,EAAQ8+B,QAAQ3H,GAI3B,IADAggB,EAAG8Q,UAAYuV,EACR9yD,EAAIysC,EAAGn2C,KAAK4V,IAAQ,CACvB,IAAI7b,EAAS2P,EAAE,GAAG3P,OAElB,GAAIqN,EAAS+uB,EADbsC,EAAO/uB,EAAE9I,MACeu1B,EAAIsC,EAAO1+B,GAC/B,OAAO,EACX,IAAKA,IACDo8C,EAAG8Q,UAAYxuB,GAAQ,EACnBA,GAAQ7iB,EAAK7b,QAAQ,OAAO,IAKhD,MAAO,CAACsB,QAASA,MAGtB7C,KAAKy0E,EAAO30E,WAWf3B,EAAQs2E,OAASA,KAGjBloE,IAAIC,OAAO,4BAA4B,CAAC,UAAU,UAAU,SAAS,eAAe,sBAAsB,SAAS7N,EAASR,EAASsO,GACrI,aAEA,IAAI80C,EAAU5iD,EAAQ,eAClB0sB,EAAY1sB,EAAQ,oBACpBkyB,EAAW0wB,EAAQ1wB,SAEvB,SAASmlD,EAAYh3B,EAAQj1B,GACzBrnB,KAAKqnB,SAAWA,IAAasB,EAAU3B,MAAQ,MAAQ,OACvDhnB,KAAK+B,SAAW,GAChB/B,KAAKuzE,kBAAoB,GACzBvzE,KAAKwzE,YAAYl3B,GACjBt8C,KAAKyzE,gBAAiB,EAG1B,SAASC,EAAiBp3B,EAAQj1B,GAC9BisD,EAAYh2E,KAAK0C,KAAMs8C,EAAQj1B,GAC/BrnB,KAAKyzE,gBAAiB,EAG1BC,EAAiBt2E,UAAYk2E,EAAYl2E,UAEzC,WAgEI,SAASirD,EAAYxjD,GACjB,MAAyB,iBAAXA,GAAuBA,EAAQE,SACtCF,EAAQE,QAAQ8mB,WACfhnB,EAAQ8uE,WAAa,IAAM,GAhEvC3zE,KAAKgF,WAAa,SAASH,GACnB7E,KAAK+B,SAAS8C,EAAQsD,OACtBnI,KAAK4zE,cAAc/uE,GAEvB7E,KAAK+B,SAAS8C,EAAQsD,MAAQtD,EAE1BA,EAAQE,SACR/E,KAAK6zE,cAAchvE,IAG3B7E,KAAK4zE,cAAgB,SAAS/uE,EAASivE,GACnC,IAAI3rE,EAAOtD,IAA+B,kBAAZA,EAAuBA,EAAUA,EAAQsD,MACvEtD,EAAU7E,KAAK+B,SAASoG,GACnB2rE,UACM9zE,KAAK+B,SAASoG,GACzB,IAAI4rE,EAAM/zE,KAAKuzE,kBACf,IAAK,IAAIS,KAASD,EAAK,CACnB,IAAIE,EAAWF,EAAIC,GACnB,GAAIC,GAAYpvE,SACLkvE,EAAIC,QACR,GAAIrvE,MAAMC,QAAQqvE,GAAW,CAChC,IAAIr1E,EAAIq1E,EAAStuE,QAAQd,IACf,GAANjG,IACAq1E,EAASruE,OAAOhH,EAAG,GACI,GAAnBq1E,EAASp1E,SACTk1E,EAAIC,GAASC,EAAS,QAM1Cj0E,KAAK+E,QAAU,SAAS5H,EAAK0H,EAASgnB,GAMlC,GALkB,iBAAP1uB,GAAmBA,SACVsJ,GAAZolB,IACAA,EAAW1uB,EAAI0uB,UACnB1uB,EAAMA,EAAI6C,KAAKqnB,WAEdlqB,EAEL,MAAsB,mBAAX0H,EACA7E,KAAKgF,WAAW,CAACF,KAAMD,EAASE,QAAS5H,EAAKgL,KAAMtD,EAAQsD,MAAQhL,SAE/EA,EAAIqI,MAAM,KAAKrF,SAAQ,SAAS+zE,GAC5B,IAAIC,EAAQ,GACZ,IAA6B,GAAzBD,EAAQvuE,QAAQ,KAAY,CAC5B,IAAIm1C,EAAQo5B,EAAQ1uE,MAAM,OAC1B0uE,EAAUp5B,EAAMzoC,MAChByoC,EAAM36C,SAAQ,SAAS+zE,GACnB,IAAIE,EAAUp0E,KAAKq0E,UAAUH,GACzB9sE,EAAK+mB,EAASimD,EAAQt7C,QAAUs7C,EAAQj3E,IAC5Cg3E,IAAUA,EAAQ,IAAM,IAAM/sE,EAC9BpH,KAAKs0E,qBAAqBH,EAAO,eAClCn0E,MACHm0E,GAAS,IAEb,IAAIC,EAAUp0E,KAAKq0E,UAAUH,GACzB9sE,EAAK+mB,EAASimD,EAAQt7C,QAAUs7C,EAAQj3E,IAC5C6C,KAAKs0E,qBAAqBH,EAAQ/sE,EAAIvC,EAASgnB,KAChD7rB,OAQPA,KAAKs0E,qBAAuB,SAASN,EAAOnvE,EAASgnB,GACjD,IAAkCjtB,EAA9Bm1E,EAAM/zE,KAAKuzE,kBACf,GAAK1uE,EAEE,IAAKkvE,EAAIC,IAAUh0E,KAAKyzE,eAC3BM,EAAIC,GAASnvE,MACV,CACEF,MAAMC,QAAQmvE,EAAIC,KAE0B,IAArCp1E,EAAIm1E,EAAIC,GAAOruE,QAAQd,KAC/BkvE,EAAIC,GAAOpuE,OAAOhH,EAAG,GAFrBm1E,EAAIC,GAAS,CAACD,EAAIC,IAKC,iBAAZnoD,IACPA,EAAWw8B,EAAYxjD,IAG3B,IAAI9C,EAAWgyE,EAAIC,GACnB,IAAKp1E,EAAI,EAAGA,EAAImD,EAASlD,OAAQD,IAAK,CAGlC,GADeypD,EADHtmD,EAASnD,IAENitB,EACX,MAER9pB,EAAS6D,OAAOhH,EAAG,EAAGiG,eArBfkvE,EAAIC,IAyBnBh0E,KAAKwzE,YAAc,SAASzxE,GACxBA,GAAYxG,OAAOwC,KAAKgE,GAAU5B,SAAQ,SAASgI,GAC/C,IAAItD,EAAU9C,EAASoG,GACvB,GAAKtD,EAAL,CAGA,GAAuB,kBAAZA,EACP,OAAO7E,KAAK+E,QAAQF,EAASsD,GAEV,oBAAZtD,IACPA,EAAU,CAAEC,KAAMD,IAEC,kBAAZA,IAGNA,EAAQsD,OACTtD,EAAQsD,KAAOA,GAEnBnI,KAAKgF,WAAWH,OACjB7E,OAGPA,KAAKu0E,eAAiB,SAASxyE,GAC3BxG,OAAOwC,KAAKgE,GAAU5B,SAAQ,SAASgI,GACnCnI,KAAK4zE,cAAc7xE,EAASoG,MAC7BnI,OAGPA,KAAKw0E,SAAW,SAASC,GACrBl5E,OAAOwC,KAAK02E,GAASt0E,SAAQ,SAAShD,GAClC6C,KAAK+E,QAAQ5H,EAAKs3E,EAAQt3E,MAC3B6C,OAGPA,KAAK6zE,cAAgB,SAAShvE,GAC1B7E,KAAK+E,QAAQF,EAAQE,QAASF,IAElC7E,KAAKq0E,UAAY,SAASt2E,GACtB,IAAI+8C,EAAQ/8C,EAAKupB,cAAc9hB,MAAM,mBAAmBtH,QAAO,SAAS2a,GAAG,OAAOA,KAC9E1b,EAAM29C,EAAMzoC,MAEZuiB,EAAUiqB,EAAQ1hD,GACtB,GAAI0hD,EAAQzwB,cAAcwG,GACtBz3B,EAAM0hD,EAAQzwB,cAAcwG,GAAStN,kBACpC,KAAKwzB,EAAMj8C,OACZ,MAAO,CAAC1B,IAAKA,EAAK27B,QAAS,GAC1B,GAAoB,GAAhBgiB,EAAMj8C,QAA2B,SAAZi8C,EAAM,GAChC,MAAO,CAAC39C,IAAKA,EAAIg/C,cAAerjB,QAAS,GAG7C,IADA,IAAIA,EAAS,EACJl6B,EAAIk8C,EAAMj8C,OAAQD,KAAM,CAC7B,IAAIyoC,EAAWwX,EAAQ1wB,SAAS2sB,EAAMl8C,IACtC,GAAgB,MAAZyoC,EAGA,MAFsB,oBAAX7iC,SACPA,QAAQ8gB,MAAM,oBAAsBw1B,EAAMl8C,GAAK,OAASb,IACrD,EAEX+6B,GAAUuO,EAEd,MAAO,CAAClqC,IAAKA,EAAK27B,OAAQA,IAG9B94B,KAAKynC,eAAiB,SAAwB3O,EAAQjE,GAClD,IAAI13B,EAAMgxB,EAAS2K,GAAUjE,EAC7B,OAAO70B,KAAKuzE,kBAAkBp2E,IAGlC6C,KAAKs/C,eAAiB,SAASptC,EAAM4mB,EAAQjE,EAAWD,GACpD,KAAIA,EAAU,GAAd,CACA,IAAIz3B,EAAMgxB,EAAS2K,GAAUjE,EACzBhwB,EAAU7E,KAAKuzE,kBAAkBp2E,GAMrC,OALI+U,EAAKwiE,YACLxiE,EAAKwiE,WAAa,IAAMv3E,EACxB0H,EAAU7E,KAAKuzE,kBAAkBrhE,EAAKwiE,YAAc7vE,IAGpDA,GACe,aAAXA,GAAyD,aAA/BA,EAAQA,EAAQhG,OAAS,IAMvDqT,EAAKwiE,YACC57C,GAAoB,GAAVA,GAAoC,GAApBjE,EAAUh2B,SAEtB,GAAXi6B,GAAgBlE,EAAU,KAC/B1iB,EAAKwiE,UAAY,IAFjBxiE,EAAKwiE,UAAYxiE,EAAKwiE,UAAUxuD,MAAM,GAAI/oB,EAAI0B,OAAS,IAIxD,CAACgG,QAASA,KAXTqN,EAAKwiE,UAAYxiE,EAAKwiE,WAAav3E,EAC5B,CAAC0H,QAAS,WAa7B7E,KAAK0/C,cAAgB,SAASx9C,EAAQgQ,GAClC,OAAOA,EAAKwiE,WAAa,KAG9Bp3E,KAAKg2E,EAAYl2E,WAEpB3B,EAAQ63E,YAAcA,EACtB73E,EAAQi4E,iBAAmBA,KAG3B7pE,IAAIC,OAAO,+BAA+B,CAAC,UAAU,UAAU,SAAS,cAAc,4BAA4B,0BAA0B,SAAS7N,EAASR,EAASsO,GACvK,aAEA,IAAIC,EAAM/N,EAAQ,cACdy3E,EAAmBz3E,EAAQ,4BAA4By3E,iBACvDzpE,EAAehO,EAAQ,wBAAwBgO,aAE/C0qE,EAAiB,SAASttD,EAAUtlB,GACpC2xE,EAAiBp2E,KAAK0C,KAAM+B,EAAUslB,GACtCrnB,KAAK40E,OAAS50E,KAAK+B,SACnB/B,KAAKioC,kBAAkB,QAAQ,SAASp2B,GACpC,OAAOA,EAAEhN,QAAQC,KAAK+M,EAAE3P,OAAQ2P,EAAEe,MAAQ,QAIlD5I,EAAImjB,SAASwnD,EAAgBjB,GAE7B,WAEI1pE,EAAImB,UAAUnL,KAAMiK,GAEpBjK,KAAK8E,KAAO,SAASD,EAAS3C,EAAQ0Q,GAClC,GAAIjO,MAAMC,QAAQC,GAAU,CACxB,IAAK,IAAIjG,EAAIiG,EAAQhG,OAAQD,KACzB,GAAIoB,KAAK8E,KAAKD,EAAQjG,GAAIsD,EAAQ0Q,GAAO,OAAO,EAEpD,OAAO,EAMX,GAHuB,kBAAZ/N,IACPA,EAAU7E,KAAK+B,SAAS8C,KAEvBA,EACD,OAAO,EAEX,GAAI3C,GAAUA,EAAO2iC,YAAchgC,EAAQyE,SACvC,OAAO,EAEX,GAA+B,GAA3BtJ,KAAK60E,oBAA+BhwE,EAAQiwE,cAAgBjwE,EAAQiwE,YAAY5yE,GAChF,OAAO,EAEX,IAAI2P,EAAI,CAAC3P,OAAQA,EAAQ2C,QAASA,EAAS+N,KAAMA,GAIjD,OAHAf,EAAEkjE,YAAc/0E,KAAKyL,MAAM,OAAQoG,GACnC7R,KAAK2lC,QAAQ,YAAa9zB,IAED,IAAlBA,EAAEkjE,aAGb/0E,KAAKg1E,gBAAkB,SAAS9yE,GAC5B,IAAIlC,KAAKi1E,UAIT,OADA/yE,GAAUA,EAAOuJ,MAAM,gBACnBzL,KAAKk1E,WACLl1E,KAAKm1E,MAAM9iE,MACXrS,KAAKmlC,IAAI,OAAQnlC,KAAKo1E,oBAEjBp1E,KAAKm1E,MAAMt2E,SACZmB,KAAKm1E,MAAQn1E,KAAKq1E,UAEfr1E,KAAKk1E,WAAY,IAEvBl1E,KAAKo1E,qBACNp1E,KAAKo1E,mBAAqB,SAASvjE,GAC/B7R,KAAKm1E,MAAM/2E,KAAK,CAACyT,EAAEhN,QAASgN,EAAEe,QAChCvS,KAAKL,OAGXA,KAAKq1E,SAAWr1E,KAAKm1E,MACrBn1E,KAAKm1E,MAAQ,GACbn1E,KAAKoD,GAAG,OAAQpD,KAAKo1E,oBACdp1E,KAAKk1E,WAAY,IAG5Bl1E,KAAKs1E,OAAS,SAASpzE,GACnB,IAAIlC,KAAKi1E,WAAcj1E,KAAKm1E,MAA5B,CAGA,GAAIn1E,KAAKk1E,UACL,OAAOl1E,KAAKg1E,gBAAgB9yE,GAEhC,IACIlC,KAAKi1E,WAAY,EACjBj1E,KAAKm1E,MAAMh1E,SAAQ,SAAS0Y,GACR,iBAALA,EACP7Y,KAAK8E,KAAK+T,EAAG3W,GAEblC,KAAK8E,KAAK+T,EAAE,GAAI3W,EAAQ2W,EAAE,MAC/B7Y,MAPP,QASIA,KAAKi1E,WAAY,KAIzBj1E,KAAKu1E,UAAY,SAAS/mE,GACtB,OAAOA,EAAEyD,KAAI,SAAS4G,GAKlB,MAJmB,iBAARA,EAAE,KACTA,EAAE,GAAKA,EAAE,GAAG1Q,MACX0Q,EAAE,KACHA,EAAIA,EAAE,IACHA,OAIhBvb,KAAKq3E,EAAev3E,WAEvB3B,EAAQk5E,eAAiBA,KAIzB9qE,IAAIC,OAAO,gCAAgC,CAAC,UAAU,UAAU,SAAS,eAAe,aAAa,cAAc,SAAS7N,EAASR,EAASsO,GAC9I,aAEA,IAAI61B,EAAO3jC,EAAQ,eACfqgD,EAASrgD,EAAQ,aACjB8L,EAAQ9L,EAAQ,YAAY8L,MAEhC,SAAShD,EAAQ+0B,EAAK07C,GAClB,MAAO,CAAC17C,IAAKA,EAAK07C,IAAKA,GAE3B/5E,EAAQsG,SAAW,CAAC,CAChBoG,KAAM,mBACNpD,QAASA,EAAQ,SAAU,aAC3BD,KAAM,SAAS5C,GACXo6C,EAAOjB,WAAW,yBAAyB,SAAStxC,GAChDA,EAAO0xC,KAAKv5C,GACZA,EAAOuzE,uBAGfnsE,UAAU,GACX,CACCnB,KAAM,gBACNpD,QAASA,EAAQ,QAAS,MAC1BD,KAAM,SAAS5C,GACXo6C,EAAOjB,WAAW,sBAAsB,SAAStxC,GAC7CA,EAAO2rE,gBAAgBxzE,EAAQ,OAGvCyzE,eAAgB,UAChBrsE,UAAU,GACX,CACCnB,KAAM,oBACNpD,QAASA,EAAQ,cAAe,YAChCD,KAAM,SAAS5C,GACXo6C,EAAOjB,WAAW,sBAAsB,SAAStxC,GAC7CA,EAAO2rE,gBAAgBxzE,GAAS,OAGxCyzE,eAAgB,UAChBrsE,UAAU,GACX,CACCnB,KAAM,YACNytE,YAAa,aACb7wE,QAASA,EAAQ,SAAU,aAC3BD,KAAM,SAAS5C,GAAUA,EAAO0iC,aAChCt7B,UAAU,GACX,CACCnB,KAAM,kBACNytE,YAAa,mBACb7wE,QAASA,EAAQ,KAAM,UACvBD,KAAM,SAAS5C,GAAUA,EAAO2zE,mBAChCvsE,UAAU,GACX,CACCnB,KAAM,WACNytE,YAAa,gBACb7wE,QAASA,EAAQ,SAAU,aAC3BD,KAAM,SAAS5C,EAAQwY,GACC,kBAATA,GAAsBiG,MAAMjG,IACnCxY,EAAO4zE,SAASp7D,GACpBxY,EAAO6zE,OAAO,CAAEC,MAAO,cAE3B1sE,UAAU,GACX,CACCnB,KAAM,OACNpD,QAASA,EAAQ,gBAAiB,4BAClCD,KAAM,SAAS5C,GAAUA,EAAO4B,QAAQghE,YAAW,IACnDmR,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,SACNpD,QAASA,EAAQ,4BAA6B,wCAC9CD,KAAM,SAAS5C,GAAUA,EAAO4B,QAAQghE,YAAW,IACnDmR,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,mBACNpD,QAASA,EAAQ,KAAM,MACvBD,KAAM,SAAS5C,GAAUA,EAAO4B,QAAQwiE,oBACxC2P,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,yBACNpD,QAASA,EAAQ,SAAU,UAC3BD,KAAM,SAAS5C,GAAUA,EAAO4B,QAAQwiE,kBAAiB,IACzD2P,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,UACNytE,YAAa,WACb7wE,QAASA,EAAQ,KAAM,yBACvBD,KAAM,SAAS5C,GAAUA,EAAO4B,QAAQogE,WACxCyR,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,kBACNytE,YAAa,oBACb7wE,QAASA,EAAQ,KAAM,yBACvBD,KAAM,SAAS5C,GAAUA,EAAO4B,QAAQwhE,mBACxCqQ,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,YACNytE,YAAa,aACb7wE,QAASA,EAAQ,QAAS,oBAC1BD,KAAM,SAAS5C,GACXA,EAAO4B,QAAQogE,UACfhiE,EAAO4B,QAAQsgE,OAAOliE,EAAOwB,UAAUwyE,iBAE3CP,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,YACNytE,YAAa,aACb7wE,QAASA,EAAQ,cAAe,0BAChCD,KAAM,SAAS5C,GAAUA,EAAO4B,QAAQsgE,UACxCuR,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,WACNytE,YAAa,YACb7wE,QAASA,EAAQ,SAAU,aAC3BD,KAAM,SAAS5C,GAAUA,EAAOi0E,YAChCF,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,eACNytE,YAAa,gBACb7wE,QAASA,EAAQ,eAAgB,mBACjCD,KAAM,SAAS5C,GAAUA,EAAOk0E,gBAChCH,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,mBACNytE,YAAa,sBACb7wE,QAASA,EAAQ,QAAS,UAC1BD,KAAM,SAAS5C,GACPA,EAAOwB,UAAUk5B,UACjB16B,EAAOwB,UAAUoyC,aAEjB5zC,EAAOi0E,YAEf7sE,UAAU,GACX,CACCnB,KAAM,uBACNytE,YAAa,0BACb7wE,QAASA,EAAQ,cAAe,gBAChCD,KAAM,SAAS5C,GACPA,EAAOwB,UAAUk5B,UACjB16B,EAAOwB,UAAUoyC,aAEjB5zC,EAAOk0E,gBAEf9sE,UAAU,GACX,CACCnB,KAAM,OACNytE,YAAa,OACb7wE,QAASA,EAAQ,SAAU,aAC3BD,KAAM,SAAS5C,GACXo6C,EAAOjB,WAAW,qBAAqB,SAASxpC,GAAIA,EAAEkgE,OAAO7vE,OAEjEoH,UAAU,GACX,CACCnB,KAAM,YACNytE,YAAa,YACb7wE,QAAS,SACTD,KAAM,SAAS5C,GAAUA,EAAOynE,mBAChCrgE,UAAU,GACX,CACCnB,KAAM,gBACNytE,YAAa,kBACb7wE,QAASA,EAAQ,kBAAmB,uCACpCD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAeqjD,mBAC/C+rB,kBAAmB,UACnB3sE,UAAU,EACVqsE,eAAgB,UAChBU,gBAAiB,YAClB,CACCluE,KAAM,YACNytE,YAAa,cACb7wE,QAASA,EAAQ,YAAa,2BAC9BD,KAAM,SAAS5C,GAAUA,EAAOo0E,qBAChCL,kBAAmB,UACnB3sE,UAAU,EACVqsE,eAAgB,UAChBU,gBAAiB,YAClB,CACCluE,KAAM,WACNytE,YAAa,YACb7wE,QAASA,EAAQ,WAAY,yBAC7BD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAeuiD,YAC/C6sB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,WACNytE,YAAa,aACb7wE,QAASA,EAAQ,KAAM,aACvBD,KAAM,SAAS5C,EAAQ0Q,GAAQ1Q,EAAOq0E,WAAW3jE,EAAK4jE,QACtDP,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,cACNytE,YAAa,gBACb7wE,QAASA,EAAQ,iBAAkB,wCACnCD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAemjD,iBAC/CisB,kBAAmB,UACnB3sE,UAAU,EACVqsE,eAAgB,UAChBU,gBAAiB,YAClB,CACCluE,KAAM,UACNytE,YAAa,YACb7wE,QAASA,EAAQ,WAAY,4BAC7BD,KAAM,SAAS5C,GAAUA,EAAOc,mBAChCizE,kBAAmB,UACnB3sE,UAAU,EACVqsE,eAAgB,UAChBU,gBAAiB,YAClB,CACCluE,KAAM,aACNytE,YAAa,cACb7wE,QAASA,EAAQ,aAAc,2BAC/BD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAeyiD,cAC/C2sB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,aACNytE,YAAa,eACb7wE,QAASA,EAAQ,OAAQ,eACzBD,KAAM,SAAS5C,EAAQ0Q,GAAQ1Q,EAAOu0E,aAAa7jE,EAAK4jE,QACxDP,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,iBACNytE,YAAa,mBACb7wE,QAASA,EAAQ,kBAAmB,qBACpCD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAeyjD,kBAC/C2rB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,eACNytE,YAAa,kBACb7wE,QAASA,EAAQ,YAAa,eAC9BD,KAAM,SAAS5C,GAAUA,EAAOw0E,oBAChCT,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,oBACNytE,YAAa,uBACb7wE,QAASA,EAAQ,iBAAkB,mCACnCD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAe+iD,mBAC/CqsB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,gBACNytE,YAAa,mBACb7wE,QAASA,EAAQ,gBAAiB,4BAClCD,KAAM,SAAS5C,GAAUA,EAAOy0E,qBAChCV,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,aACNytE,YAAa,cACb7wE,QAASA,EAAQ,aAAc,2BAC/BD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAe6iD,cAC/CusB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,WACNytE,YAAa,aACb7wE,QAASA,EAAQ,OAAQ,eACzBD,KAAM,SAAS5C,EAAQ0Q,GAAQ1Q,EAAO00E,aAAahkE,EAAK4jE,QACxDP,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,kBACNytE,YAAa,oBACb7wE,QAASA,EAAQ,mBAAoB,sBACrCD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAeujD,mBAC/C6rB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,gBACNytE,YAAa,mBACb7wE,QAASA,EAAQ,aAAc,gBAC/BD,KAAM,SAAS5C,GAAUA,EAAO20E,qBAChCZ,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,kBACNytE,YAAa,qBACb7wE,QAASA,EAAQ,kBAAmB,8CACpCD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAeijD,iBAC/CmsB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,cACNytE,YAAa,iBACb7wE,QAASA,EAAQ,gBAAiB,4BAClCD,KAAM,SAAS5C,GAAUA,EAAO40E,mBAChCb,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,cACNytE,YAAa,eACb7wE,QAASA,EAAQ,cAAe,eAChCD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAe2iD,eAC/CysB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,YACNytE,YAAa,cACb7wE,QAASA,EAAQ,QAAS,gBAC1BD,KAAM,SAAS5C,EAAQ0Q,GAAQ1Q,EAAO60E,cAAcnkE,EAAK4jE,QACzDP,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,iBACNytE,YAAa,mBACb7wE,QAAS,iBACTD,KAAM,SAAS5C,GAAUA,EAAO80E,kBAChC1tE,UAAU,GACX,CACCnB,KAAM,WACNytE,YAAa,YACb7wE,QAASA,EAAQ,KAAM,mBACvBD,KAAM,SAAS5C,GAAUA,EAAO+0E,kBAChC3tE,UAAU,GACX,CACCnB,KAAM,eACNytE,YAAa,kBACb7wE,QAASA,EAAQ,WAAY,mBAC7BD,KAAM,SAAS5C,GAAUA,EAAOg1E,gBAChC5tE,UAAU,GACX,CACCnB,KAAM,eACNytE,YAAa,iBACb7wE,QAAS,eACTD,KAAM,SAAS5C,GAAUA,EAAOi1E,gBAChC7tE,UAAU,GACX,CACCnB,KAAM,SACNytE,YAAa,UACb7wE,QAASA,EAAQ,KAAM,iBACvBD,KAAM,SAAS5C,GAAUA,EAAOk1E,gBAChC9tE,UAAU,GACX,CACCnB,KAAM,aACNytE,YAAa,gBACb7wE,QAAS,SACTD,KAAM,SAAS5C,GAAUA,EAAOm1E,cAChC/tE,UAAU,GACX,CACCnB,KAAM,WACNytE,YAAa,YACb7wE,QAASA,EAAQ,UAAW,MAC5BD,KAAM,SAAS+M,GAAKA,EAAErP,SAASqpC,SAAS,GAAI,EAAIh6B,EAAErP,SAASwtC,YAAYD,aACvEzmC,UAAU,GACX,CACCnB,KAAM,aACNytE,YAAa,cACb7wE,QAASA,EAAQ,YAAa,MAC9BD,KAAM,SAAS+M,GAAKA,EAAErP,SAASqpC,SAAS,EAAG,EAAIh6B,EAAErP,SAASwtC,YAAYD,aACtEzmC,UAAU,GACX,CACCnB,KAAM,kBACNytE,YAAa,oBACb7wE,QAAS,aACTD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAe+iD,mBAC/CqsB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,gBACNytE,YAAa,kBACb7wE,QAAS,YACTD,KAAM,SAAS5C,GAAUA,EAAO2E,eAAeijD,iBAC/CmsB,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,kBACNytE,YAAa,mBACb7wE,QAASA,EAAQ,aAAc,oBAC/BD,KAAM,SAAS5C,GAAUA,EAAOH,SAASizE,gBAAgB9yE,IACzDoH,UAAU,GACX,CACCnB,KAAM,cACNytE,YAAa,eACb7wE,QAASA,EAAQ,eAAgB,mBACjCD,KAAM,SAAS5C,GAAUA,EAAOH,SAASuzE,OAAOpzE,IAChDoH,UAAU,GACX,CACCnB,KAAM,iBACNytE,YAAa,mBACb7wE,QAASA,EAAQ,iBAAkB,cACnCD,KAAM,SAAS5C,GAAUA,EAAOo1E,kBAChCrB,kBAAmB,UACnBN,eAAgB,UAChBrsE,UAAU,GACX,CACCnB,KAAM,mBACNytE,YAAa,qBACb7wE,QAASA,EAAQ,6BAA8B,oBAC/CD,KAAM,SAAS5C,GAAUA,EAAOo1E,gBAAe,IAC/CrB,kBAAmB,UACnBN,eAAgB,UAChBrsE,UAAU,GACX,CACCnB,KAAM,mBACNytE,YAAa,qBACb7wE,QAASA,EAAQ,eAAgB,gBACjCD,KAAM,SAAS5C,GAAUA,EAAOo1E,gBAAe,GAAM,IACrDrB,kBAAmB,UACnBN,eAAgB,UAChBrsE,UAAU,GACX,CACCnB,KAAM,oBACNytE,YAAa,uBACb7wE,QAASA,EAAQ,KAAM,MACvBD,KAAM,aACNg7C,WAAW,EACXx2C,UAAU,GACX,CACCnB,KAAM,OACNytE,YAAa,OACb9wE,KAAM,SAAS5C,KAEfoH,UAAU,GAEd,CACInB,KAAM,MACNytE,YAAa,MACb9wE,KAAM,SAAS5C,GACX,IACI4F,EADU5F,EAAOq1E,yBAA2Br1E,EAAOwB,UAAUk5B,UAC3C16B,EAAOwB,UAAUunC,eAAiB/oC,EAAOwB,UAAUi/B,WACzEzgC,EAAOuJ,MAAM,MAAO3D,GAEfA,EAAM80B,WACP16B,EAAO4B,QAAQ2iB,OAAO3e,GAC1B5F,EAAO0uC,kBAEX+kC,eAAgB,SAChBM,kBAAmB,WACpB,CACC9tE,KAAM,QACNytE,YAAa,QACb9wE,KAAM,SAAS5C,EAAQ0Q,GACnB1Q,EAAOs1E,aAAa5kE,IAExB+iE,eAAgB,UACjB,CACCxtE,KAAM,aACNytE,YAAa,cACb7wE,QAASA,EAAQ,SAAU,aAC3BD,KAAM,SAAS5C,GAAUA,EAAO46D,eAChC6Y,eAAgB,SAChBM,kBAAmB,eACpB,CACC9tE,KAAM,qBACNytE,YAAa,sBACb7wE,QAASA,EAAQ,eAAgB,mBACjCD,KAAM,SAAS5C,GAAUA,EAAOu1E,sBAChC9B,eAAgB,SAChBM,kBAAmB,WACpB,CACC9tE,KAAM,YACNytE,YAAa,aACb7wE,QAASA,EAAQ,aAAc,iBAC/BD,KAAM,SAAS5C,GAAUA,EAAOw1E,aAChC/B,eAAgB,YAChBM,kBAAmB,eACpB,CACC9tE,KAAM,gBACNytE,YAAa,iBACb7wE,QAASA,EAAQ,SAAU,aAC3BD,KAAM,SAAS5C,GAAUA,EAAOu1D,sBAChCwe,kBAAmB,cACnBN,eAAgB,iBACjB,CACCxtE,KAAM,qBACNytE,YAAa,uBACb7wE,QAASA,EAAQ,eAAgB,mBACjCD,KAAM,SAAS5C,GAAUA,EAAO42D,sBAChCmd,kBAAmB,UACnBN,eAAgB,iBACjB,CACCxtE,KAAM,iBACNytE,YAAa,mBACb7wE,QAASA,EAAQ,gBAAiB,gBAClCD,KAAM,SAAS5C,GAAUA,EAAOy1E,aAAa,IAC7ChC,eAAgB,SAChBM,kBAAmB,WACpB,CACC9tE,KAAM,mBACNytE,YAAa,qBACb7wE,QAASA,EAAQ,kBAAmB,kBACpCD,KAAM,SAAS5C,GAAUA,EAAOy1E,cAAc,IAC9ChC,eAAgB,SAChBM,kBAAmB,WACpB,CACC9tE,KAAM,UACNytE,YAAa,UACb7wE,QAASA,EAAQ,SAAU,oBAC3BD,KAAM,SAAS5C,GACXo6C,EAAOjB,WAAW,qBAAqB,SAASxpC,GAAIA,EAAEkgE,OAAO7vE,GAAQ,QAE1E,CACCiG,KAAM,OACNytE,YAAa,OACb7wE,QAASA,EAAQ,SAAU,aAC3BD,KAAM,SAAS5C,GAAUA,EAAO4mE,SACjC,CACC3gE,KAAM,OACNytE,YAAa,OACb7wE,QAASA,EAAQ,sBAAuB,6BACxCD,KAAM,SAAS5C,GAAUA,EAAO6mE,SACjC,CACC5gE,KAAM,cACNytE,YAAa,gBACb7wE,QAASA,EAAQ,eAAgB,qBACjCD,KAAM,SAAS5C,GAAUA,EAAO01E,eAChCjC,eAAgB,UACjB,CACCxtE,KAAM,cACNytE,YAAa,gBACb7wE,QAASA,EAAQ,SAAU,aAC3BD,KAAM,SAAS5C,GAAUA,EAAO6rE,eAChC4H,eAAgB,UACjB,CACCxtE,KAAM,gBACNytE,YAAa,kBACb7wE,QAASA,EAAQ,iBAAkB,uBACnCD,KAAM,SAAS5C,GAAUA,EAAO21E,iBAChClC,eAAgB,UACjB,CACCxtE,KAAM,gBACNytE,YAAa,kBACb7wE,QAASA,EAAQ,WAAY,eAC7BD,KAAM,SAAS5C,GAAUA,EAAO8rE,iBAChC2H,eAAgB,UACjB,CACCxtE,KAAM,MACNytE,YAAa,SACb7wE,QAASA,EAAQ,SAAU,8BAC3BD,KAAM,SAAS5C,GAAUA,EAAOukB,OAAO,UACvCwvD,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,YACNytE,YAAa,YACb7wE,QAASA,EACL,4BACA,mDAEJD,KAAM,SAAS5C,GAAUA,EAAOukB,OAAO,SACvCwvD,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,gBACNytE,YAAa,gBACb7wE,QAASA,EAAQ,eAAgB,MACjCD,KAAM,SAAS5C,GACX,IAAIA,EAAOwB,UAAUk5B,UAGjB,OAAO,EAFP16B,EAAOukB,OAAO,SAKtBwvD,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,oBACNytE,YAAa,uBACb7wE,QAASA,EAAQ,gBAAiB,qBAClCD,KAAM,SAAS5C,GAAUA,EAAO41E,qBAChC7B,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,kBACNytE,YAAa,qBACb7wE,QAASA,EAAQ,aAAc,yBAC/BD,KAAM,SAAS5C,GAAUA,EAAO61E,mBAChC9B,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,wBACNytE,YAAa,4BACb7wE,QAASA,EAAQ,uBAAwB,MACzCD,KAAM,SAAS5C,GACX,IAAI4F,EAAQ5F,EAAOwB,UAAUi/B,WAC7B76B,EAAM6Z,MAAMuZ,OAAS,EACrBh5B,EAAO4B,QAAQ2iB,OAAO3e,IAE1BmuE,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,sBACNytE,YAAa,0BACb7wE,QAASA,EAAQ,oBAAqB,MACtCD,KAAM,SAAS5C,GACX,IAAI4F,EAAQ5F,EAAOwB,UAAUi/B,WAC7B76B,EAAMqzB,IAAID,OAASzlB,OAAOC,UAC1BxT,EAAO4B,QAAQ2iB,OAAO3e,IAE1BmuE,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,iBACNytE,YAAa,mBACb7wE,QAASA,EAAQ,iBAAkB,oCACnCD,KAAM,SAAS5C,GAAUA,EAAO81E,kBAChC/B,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,kBACNytE,YAAa,oBACb7wE,QAASA,EAAQ,cAAe,cAChCD,KAAM,SAAS5C,GAAUA,EAAO+1E,mBAChChC,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,UACNytE,YAAa,UACb7wE,QAASA,EAAQ,YAAa,aAC9BD,KAAM,SAAS5C,GAAUA,EAAOg2E,gBAChCjC,kBAAmB,UACnBN,eAAgB,iBACjB,CACCxtE,KAAM,SACNytE,YAAa,SACb7wE,QAASA,EAAQ,MAAO,OACxBD,KAAM,SAAS5C,GAAUA,EAAOqjD,UAChC0wB,kBAAmB,UACnBN,eAAgB,iBACjB,CACCxtE,KAAM,eACNytE,YAAa,gBACb7wE,QAASA,EAAQ,SAAU,UAC3BD,KAAM,SAAS5C,GAAUA,EAAOg2E,gBAChCjC,kBAAmB,cACnBN,eAAgB,iBACjB,CACCxtE,KAAM,cACNytE,YAAa,eACb7wE,QAASA,EAAQ,SAAU,UAC3BD,KAAM,SAAS5C,GAAUA,EAAOi2E,eAChClC,kBAAmB,cACnBN,eAAgB,iBACjB,CACCxtE,KAAM,eACNytE,YAAa,gBACb9wE,KAAM,SAAS5C,EAAQs8B,GAAOt8B,EAAOywC,OAAOnU,IAC5Cy3C,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,aACNytE,YAAa,cACb9wE,KAAM,SAAS5C,EAAQ0Q,GACnB1Q,EAAOywC,OAAO/S,EAAKlC,aAAa9qB,EAAK9L,MAAS,GAAI8L,EAAK4jE,OAAS,KAEpEP,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,YACNytE,YAAa,aACb7wE,QAASA,EAAQ,KAAM,UACvBD,KAAM,SAAS5C,GAAUA,EAAOk2E,aAChCnC,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,mBACNytE,YAAa,oBACb7wE,QAASA,EAAQ,cAAe,UAChCD,KAAM,SAAS5C,GAAUA,EAAOm2E,oBAChCpC,kBAAmB,SAAS/zE,GAASA,EAAOo2E,oBAAoB,IAChE3C,eAAgB,UACjB,CACCxtE,KAAM,cACNytE,YAAa,eACb7wE,QAASA,EAAQ,SAAU,UAC3BD,KAAM,SAAS5C,GAAUA,EAAOi6C,eAChC85B,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,cACNytE,YAAa,eACb7wE,QAASA,EAAQ,eAAgB,gBACjCD,KAAM,SAAS5C,GAAUA,EAAOolB,eAChC2uD,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,aACNytE,YAAa,cACb7wE,QAASA,EAAQ,KAAM,MACvBD,KAAM,SAAS5C,GAAUA,EAAOq2E,cAChCtC,kBAAmB,cACnBN,eAAgB,WACjB,CACCxtE,KAAM,eACNytE,YAAa,iBACb7wE,QAASA,EAAQ,eAAgB,mBACjCD,KAAM,SAAS5C,GACX,IAAI4F,EAAQ5F,EAAOwB,UAAUi/B,WAE7B76B,EAAM6Z,MAAMuZ,OAASpzB,EAAMqzB,IAAID,OAAS,EACxCpzB,EAAMqzB,IAAIF,MACV/4B,EAAOwB,UAAUyyC,SAASruC,GAAO,IAErCmuE,kBAAmB,UACnBN,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,YACNytE,YAAa,aACb7wE,QAASA,EAAQ,KAAM,MACvBD,KAAM,SAAS5C,GASX,IARA,IAAIsmD,EAActmD,EAAOwB,UAAU8kD,cAC/B9lB,EAAiB8lB,EAActmD,EAAOwB,UAAU6kD,mBAAqBrmD,EAAOwB,UAAU8iD,qBACtFjkB,EAAeimB,EAActmD,EAAOwB,UAAU8iD,qBAAuBtkD,EAAOwB,UAAU6kD,mBACtFiwB,EAAkBt2E,EAAO4B,QAAQ2lB,IAAImZ,QAAQF,EAAezH,KAAKp8B,OAEjE45E,EADev2E,EAAO4B,QAAQ2lB,IAAIqoB,aAAa5vC,EAAOwB,UAAUi/B,YACnCxyB,QAAQ,QAAS,KAAKtR,OACnD65E,EAAax2E,EAAO4B,QAAQ2lB,IAAImZ,QAAQF,EAAezH,KAElDr8B,EAAI8jC,EAAezH,IAAM,EAAGr8B,GAAK2jC,EAAatH,IAAM,EAAGr8B,IAAK,CACjE,IAAI+5E,EAAU/4C,EAAK9B,eAAe8B,EAAK7B,gBAAgB77B,EAAO4B,QAAQ2lB,IAAImZ,QAAQhkC,KAC3D,IAAnB+5E,EAAQ95E,SACR85E,EAAU,IAAMA,GAEpBD,GAAcC,EAGdp2C,EAAatH,IAAM,EAAK/4B,EAAO4B,QAAQ2lB,IAAIwkB,YAAc,IACzDyqC,GAAcx2E,EAAO4B,QAAQ2lB,IAAIwyC,uBAGrC/5D,EAAO0uC,iBACP1uC,EAAO4B,QAAQ2lB,IAAItZ,QAAQ,IAAIpI,EAAM26B,EAAezH,IAAK,EAAGsH,EAAatH,IAAM,EAAG,GAAIy9C,GAElFD,EAAgB,GAChBv2E,EAAOwB,UAAUwlD,aAAaxmB,EAAezH,IAAKyH,EAAexH,QACjEh5B,EAAOwB,UAAUkqC,SAASlL,EAAezH,IAAKyH,EAAexH,OAASu9C,KAEtED,EAAkBt2E,EAAO4B,QAAQ2lB,IAAImZ,QAAQF,EAAezH,KAAKp8B,OAAS25E,EAAmBA,EAAkB,EAAKA,EACpHt2E,EAAOwB,UAAUwlD,aAAaxmB,EAAezH,IAAKu9C,KAG1DvC,kBAAmB,UACnB3sE,UAAU,GACX,CACCnB,KAAM,kBACNytE,YAAa,mBACb7wE,QAASA,EAAQ,KAAM,MACvBD,KAAM,SAAS5C,GACX,IAAIuF,EAASvF,EAAO4B,QAAQ2lB,IAAIwkB,YAAc,EAC1CvmC,EAASxF,EAAO4B,QAAQ2lB,IAAImZ,QAAQn7B,GAAQ5I,OAC5C0uD,EAASrrD,EAAOwB,UAAU+pD,UAAUF,OACpCqrB,EAAY,GACZrrB,EAAO1uD,OAAS,IAChB0uD,EAAS,CAACrrD,EAAOwB,UAAUi/B,aAG/B,IAAK,IAAI/jC,EAAI,EAAGA,EAAI2uD,EAAO1uD,OAAQD,IAC3BA,GAAM2uD,EAAO1uD,OAAS,IAChB0uD,EAAO3uD,GAAGu8B,IAAIF,MAAQxzB,GAAU8lD,EAAO3uD,GAAGu8B,IAAID,SAAWxzB,GAC3DkxE,EAAUx6E,KAAK,IAAI2J,EAAMwlD,EAAO3uD,GAAGu8B,IAAIF,IAAKsyB,EAAO3uD,GAAGu8B,IAAID,OAAQzzB,EAAQC,KAIxE,IAAN9I,EAC8B,IAAxB2uD,EAAO3uD,GAAG+iB,MAAMsZ,KAAwC,IAA3BsyB,EAAO3uD,GAAG+iB,MAAMuZ,QAC/C09C,EAAUx6E,KAAK,IAAI2J,EAAM,EAAG,EAAGwlD,EAAO3uD,GAAG+iB,MAAMsZ,IAAKsyB,EAAO3uD,GAAG+iB,MAAMuZ,SAGxE09C,EAAUx6E,KAAK,IAAI2J,EAAMwlD,EAAO3uD,EAAE,GAAGu8B,IAAIF,IAAKsyB,EAAO3uD,EAAE,GAAGu8B,IAAID,OAAQqyB,EAAO3uD,GAAG+iB,MAAMsZ,IAAKsyB,EAAO3uD,GAAG+iB,MAAMuZ,SAInHh5B,EAAO22E,sBACP32E,EAAO0uC,iBAEP,IAAQhyC,EAAI,EAAGA,EAAIg6E,EAAU/5E,OAAQD,IACjCsD,EAAOwB,UAAUiqD,SAASirB,EAAUh6E,IAAI,IAGhD0K,UAAU,EACVqsE,eAAgB,QACjB,CACCxtE,KAAM,eACNrD,KAAM,SAAS5C,GACXA,EAAOwB,UAAUktC,iBACjB1uC,EAAO40E,kBACP50E,EAAOywC,OAAO,OAElBsjC,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,gBACNrD,KAAM,SAAS5C,GACXA,EAAOwB,UAAUktC,iBACjB,IAAIh9B,EAAS1R,EAAOqkD,oBACpBrkD,EAAOwB,UAAUylD,OAAOv1C,EAAOqnB,IAAM,EAAGxlB,OAAOC,WAC/CxT,EAAOywC,OAAO,MACK,IAAf/+B,EAAOqnB,KAAW/4B,EAAOq0E,cAEjCN,kBAAmB,UACnBN,eAAgB,UACjB,CACCxtE,KAAM,qBACNytE,YAAa,uBACb7wE,QAASA,EAAQ,KAAM,MACvBD,KAAM,SAAS5C,GACXA,EAAO6zE,OAAO,CAAEC,MAAO,cAE3B1sE,UAAU,GACX,CACCnB,KAAM,aACNytE,YAAa,0BACb7wE,QAASA,EAAQ,KAAM,MACvBD,KAAM,SAAS5C,GACXA,EAAO6zE,OAAO,CAAEC,MAAO,WAE3B1sE,UAAU,IAGd,IAAK,IAAI1K,EAAI,EAAGA,EAAI,EAAGA,IACnBnD,EAAQsG,SAAS3D,KAAK,CAClB+J,KAAM,cAAgBvJ,EACtBg3E,YAAa,iBAAmBh3E,EAChCqoD,MAAOroD,EACPkG,KAAM,SAAS5C,GAAUA,EAAO4B,QAAQuhE,YAAYrlE,KAAKinD,QACzD0uB,eAAgB,SAChBrsE,UAAU,OAMlBO,IAAIC,OAAO,aAAa,CAAC,UAAU,UAAU,SAAS,yBAAyB,cAAc,cAAc,eAAe,oBAAoB,yBAAyB,0BAA0B,yBAAyB,0BAA0B,mBAAmB,aAAa,YAAY,wBAAwB,+BAA+B,gCAAgC,aAAa,qBAAqB,kBAAkB,SAAS7N,EAASR,EAASsO,GACtc,aAEA9N,EAAQ,wBAER,IAAI+N,EAAM/N,EAAQ,aACd0jC,EAAM1jC,EAAQ,aACd2jC,EAAO3jC,EAAQ,cACf0sB,EAAY1sB,EAAQ,mBACpBokC,EAAYpkC,EAAQ,wBAAwBokC,UAC5Ckc,EAAetgD,EAAQ,yBAAyBsgD,aAChD4B,EAAcliD,EAAQ,wBAAwBkiD,YAC9CW,EAAa7iD,EAAQ,yBAAyB6iD,WAC9Cz0C,EAAcpO,EAAQ,kBAAkBoO,YACxC0nE,EAAS91E,EAAQ,YAAY81E,OAC7BhqE,EAAQ9L,EAAQ,WAAW8L,MAC3BkC,EAAehO,EAAQ,uBAAuBgO,aAC9C0qE,EAAiB14E,EAAQ,8BAA8B04E,eACvDmE,EAAkB78E,EAAQ,+BAA+B8F,SACzDu6C,EAASrgD,EAAQ,YACjB02D,EAAgB12D,EAAQ,oBAAoB02D,cAE5C9yB,EAAY5jC,EAAQ,eACpBiO,EAAS,SAATA,EAAkB1H,EAAUsB,EAASslB,GACrCppB,KAAK21B,WAAa,GAClB,IAAIprB,EAAY/H,EAASu2E,sBACzB/4E,KAAKuK,UAAYA,EACjBvK,KAAKwC,SAAWA,EAChBxC,KAAKoH,GAAK,YAAc8C,EAAOw9D,KAE/B1nE,KAAK+B,SAAW,IAAI4yE,EAAehsD,EAAU3B,MAAQ,MAAQ,MAAO8xD,GAC7C,iBAAZxtE,WACPtL,KAAK8mC,UAAY,IAAIzG,EAAU79B,EAASw2E,uBAAwBh5E,MAChEA,KAAKwC,SAASy2E,SAAWj5E,KAAK8mC,UAAUf,aACxC/lC,KAAKmnC,cAAgB,IAAIoV,EAAav8C,MACtC,IAAIm+C,EAAYn+C,OAGpBA,KAAKk5E,WAAa,IAAIp6B,EAAW9+C,MAEjCA,KAAKm5E,SAAU,IAAIpH,GAASv0E,IAAI,CAC5Bk0E,MAAM,IAGV1xE,KAAKo5E,gBAAkBp5E,KAAKo5E,gBAAgB/4E,KAAKL,MACjDA,KAAK+B,SAASqB,GAAG,OAAQpD,KAAKo5E,iBAE9Bp5E,KAAKq5E,0BAELr5E,KAAKs5E,iBAAmB15C,EAAKR,YAAY,WACrCp/B,KAAK2lC,QAAQ,QAAS,IAClB3lC,KAAK8D,SAAW9D,KAAK8D,QAAQ8jE,aAC7B5nE,KAAK8D,QAAQ8jE,YAAY1I,iBAC/B7+D,KAAKL,OAEPA,KAAKoD,GAAG,UAAU,SAASq0C,EAAGnY,GAC1BA,EAAMg6C,iBAAiBp6C,SAAS,OAGpCl/B,KAAK6N,WAAW/J,GAAWslB,GAAWA,EAAQtlB,SAAW,IAAIuG,EAAY,KACzEiyC,EAAOzC,aAAa75C,MAChBopB,GACAppB,KAAKmG,WAAWijB,GACpBkzB,EAAO3W,QAAQ,SAAU3lC,OAG7BkK,EAAOw9D,KAAO,EAEd,WAEI19D,EAAImB,UAAUnL,KAAMiK,GAEpBjK,KAAKq5E,wBAA0B,WAC3Br5E,KAAK+B,SAASqB,GAAG,OAAQpD,KAAK49C,eAAev9C,KAAKL,OAAO,GACzDA,KAAK+B,SAASqB,GAAG,YAAapD,KAAK29C,aAAat9C,KAAKL,OAAO,GAE5DA,KAAKu5E,cAAgB35C,EAAKR,YAAYp/B,KAAK29C,aAAat9C,KAAKL,MAAM,IACnEA,KAAKoD,GAAG,SAAU,WACTpD,KAAKgiC,QACNhiC,KAAK49C,iBACL59C,KAAKgiC,MAAM2qC,gBAAkB3sE,KAAKw5E,UAEtCx5E,KAAKgiC,MAAMG,YAAa,GAC1B9hC,KAAKL,OAAO,GAEdA,KAAKoD,GAAG,kBAAmB,WAClBpD,KAAKgiC,QACNhiC,KAAK49C,iBACL59C,KAAKgiC,MAAM2qC,gBAAkB3sE,KAAKw5E,UAEtCx5E,KAAKgiC,MAAMI,kBAAmB,GAChC/hC,KAAKL,OAAO,IAGlBA,KAAKgiC,MAAQ,KACbhiC,KAAKy5E,OAAS,GACdz5E,KAAK49C,eAAiB,SAAS87B,GAC3B,GAAI15E,KAAKgiC,MAAO,CACZ,IAAK03C,GAAgB15E,KAAKgiC,MAAMn9B,QAC5B,OACJ7E,KAAKy5E,OAASz5E,KAAKgiC,MAElB03C,IACD15E,KAAK25E,gBAAkB,KACvBD,EAAe,IAGnB15E,KAAKu5E,cAAcr6C,WACnBl/B,KAAKgiC,MAAQhiC,KAAK8D,QAAQk+B,MAAQ,CAC9Bn9B,QAAS60E,EAAa70E,SAAW,GACjC+N,KAAM8mE,EAAa9mE,KACnB++B,UAAW3xC,KAAKwC,SAASmvC,WAE7B3xC,KAAKgiC,MAAM2qC,gBAAkB3sE,KAAK0D,UAAUuC,UAGhDjG,KAAK29C,aAAe,SAAS9rC,GACzB,GAAI7R,KAAKgiC,OAAShiC,KAAK8D,QAAS,CAC5B,GAAI+N,IAAuB,IAAlBA,EAAEkjE,cAA0B/0E,KAAK8D,QACtC,OAAQ9D,KAAKgiC,MAAQ,KACzB,GAAS,GAALnwB,GAAa7R,KAAKgiC,MAAMn9B,SAAsC,SAA3B7E,KAAKgiC,MAAMn9B,QAAQsD,KACtD,OAEJ,GADAnI,KAAK2lC,QAAQ,uBACR3lC,KAAKgiC,MAAO,OACjB,IAAIn9B,EAAU7E,KAAKgiC,MAAMn9B,QACrB8wE,EAAiB9wE,GAAWA,EAAQ8wE,eACxC,GAAIA,EAAgB,CAChB,OAAQA,GACJ,IAAK,iBACDA,EAAiB,UACrB,IAAK,SACD31E,KAAKwC,SAASsnC,qBAAqB,KAAM,IACzC,MACJ,IAAK,UACL,IAAK,SACD9pC,KAAKwC,SAASsnC,uBACd,MACJ,IAAK,gBACD,IAAIhiC,EAAQ9H,KAAK0D,UAAUi/B,WACvB2Z,EAASt8C,KAAKwC,SAASwtC,aACvBloC,EAAM6Z,MAAMsZ,KAAOqhB,EAAO7f,SAAW30B,EAAMqzB,IAAIF,KAAOqhB,EAAO9f,WAC7Dx8B,KAAKwC,SAASo3E,wBAAwB55E,KAAK0D,UAAUilC,OAAQ3oC,KAAK0D,UAAUkkD,MAMlE,WAAlB+tB,GACA31E,KAAKwC,SAASq3E,iBAAiB75E,KAAKgiC,MAAM2P,WAElD,IAAImoC,EAAM95E,KAAK0D,UAAUuC,SACzBjG,KAAKgiC,MAAM8qC,eAAiBgN,EAC5B95E,KAAKw5E,SAAWx5E,KAAK0D,UAAUuC,SAC/BjG,KAAK8D,QAAQ4I,iBAAiBu8D,aAAa6Q,GAC3C95E,KAAKy5E,OAASz5E,KAAKgiC,MACnBhiC,KAAKgiC,MAAQ,OAGrBhiC,KAAK+5E,mBAAqB,CAAC,YAAa,MAAO,gBAC/C/5E,KAAKo5E,gBAAkB,SAASvnE,GAC5B,GAAK7R,KAAKg6E,iBAAV,CAGA,IAAIC,EAAOj6E,KAAKy5E,OACZS,EAAoBl6E,KAAK+5E,mBACzBI,EAAcF,EAAKp1E,SAAYgN,EAAEhN,QAAQsD,MAAQ8xE,EAAKp1E,QAAQsD,KAClE,GAAsB,gBAAlB0J,EAAEhN,QAAQsD,KAAwB,CAClC,IAAIrB,EAAO+K,EAAEe,UACiBnM,IAA1BzG,KAAKo6E,mBACLp6E,KAAKo6E,kBAAmB,GAE5BD,EAAcA,GACPn6E,KAAKo6E,oBACH,KAAKhpE,KAAKtK,IAAS,KAAKsK,KAAK6oE,EAAKrnE,OAE3C5S,KAAKo6E,kBAAmB,OAExBD,EAAcA,IACwC,IAA/CD,EAAkBv0E,QAAQkM,EAAEhN,QAAQsD,MAIlB,UAAzBnI,KAAKg6E,kBACFrkE,KAAK+pB,MAAQ1/B,KAAKq6E,kBAAoB,MAEzCF,GAAc,GAGdA,EACAn6E,KAAK8D,QAAQykE,iBAAkB,GACqB,IAA/C2R,EAAkBv0E,QAAQkM,EAAEhN,QAAQsD,QACzCnI,KAAKq6E,kBAAoB1kE,KAAK+pB,SAEtC1/B,KAAKiF,mBAAqB,SAASpD,EAAiBs4B,GAChD,GAAIt4B,GAA8C,kBAApBA,GAAmD,OAAnBA,EAA0B,CACpF7B,KAAKs6E,cAAgBz4E,EACrB,IAAIy9B,EAAQt/B,KACZs8C,EAAOjB,WAAW,CAAC,aAAcx5C,IAAkB,SAASkI,GACpDu1B,EAAMg7C,eAAiBz4E,GACvBy9B,EAAM45C,WAAWj0E,mBAAmB8E,GAAUA,EAAOswB,SACzDF,GAAMA,YAGVn6B,KAAKs6E,cAAgB,KACrBt6E,KAAKk5E,WAAWj0E,mBAAmBpD,GACnCs4B,GAAMA,KAGdn6B,KAAKy/C,mBAAqB,WACtB,OAAOz/C,KAAKk5E,WAAWz5B,sBAE3Bz/C,KAAK6N,WAAa,SAAS/J,GACvB,GAAI9D,KAAK8D,SAAWA,EAApB,CAEI9D,KAAKgiC,OAAOhiC,KAAK29C,eACrB39C,KAAKgiC,MAAQ,GAEb,IAAIu4C,EAAav6E,KAAK8D,QACtB,GAAIy2E,EAAY,CACZv6E,KAAK8D,QAAQqhC,IAAI,SAAUnlC,KAAKw6E,mBAChCx6E,KAAK8D,QAAQqhC,IAAI,aAAcnlC,KAAK8qE,eACpC9qE,KAAK8D,QAAQqhC,IAAI,kBAAmBnlC,KAAKy6E,oBACzCz6E,KAAK8D,QAAQqhC,IAAI,gBAAiBnlC,KAAK06E,kBACvC16E,KAAK8D,QAAQqhC,IAAI,kBAAmBnlC,KAAK26E,oBACzC36E,KAAK8D,QAAQqhC,IAAI,iBAAkBnlC,KAAK46E,mBACxC56E,KAAK8D,QAAQqhC,IAAI,aAAcnlC,KAAK66E,eACpC76E,KAAK8D,QAAQqhC,IAAI,oBAAqBnlC,KAAK86E,sBAC3C96E,KAAK8D,QAAQqhC,IAAI,mBAAoBnlC,KAAK+6E,qBAC1C/6E,KAAK8D,QAAQqhC,IAAI,mBAAoBnlC,KAAKg7E,qBAC1Ch7E,KAAK8D,QAAQqhC,IAAI,mBAAoBnlC,KAAKi7E,qBAC1Cj7E,KAAK8D,QAAQqhC,IAAI,kBAAmBnlC,KAAKk7E,iBACzCl7E,KAAK8D,QAAQqhC,IAAI,kBAAmBnlC,KAAKm7E,oBACzCn7E,KAAK8D,QAAQqhC,IAAI,mBAAoBnlC,KAAKo7E,qBAE1C,IAAI13E,EAAY1D,KAAK8D,QAAQ+C,eAC7BnD,EAAUyhC,IAAI,eAAgBnlC,KAAKk7E,iBACnCx3E,EAAUyhC,IAAI,kBAAmBnlC,KAAKq7E,oBAG1Cr7E,KAAK8D,QAAUA,EACXA,GACA9D,KAAKw6E,kBAAoBx6E,KAAKs7E,iBAAiBj7E,KAAKL,MACpD8D,EAAQV,GAAG,SAAUpD,KAAKw6E,mBAC1Bx6E,KAAKwC,SAASqL,WAAW/J,GAEzB9D,KAAK8qE,cAAgB9qE,KAAKu7E,aAAal7E,KAAKL,MAC5C8D,EAAQV,GAAG,aAAcpD,KAAK8qE,eAE9B9qE,KAAKy6E,mBAAqBz6E,KAAKw7E,kBAAkBn7E,KAAKL,MACtD8D,EAAQV,GAAG,kBAAmBpD,KAAKy6E,oBAEnCz6E,KAAK06E,iBAAmB16E,KAAKwC,SAASi5E,gBAAgBp7E,KAAKL,KAAKwC,UAChEsB,EAAQV,GAAG,gBAAiBpD,KAAK06E,kBAEjC16E,KAAK26E,mBAAqB36E,KAAK07E,kBAAkBr7E,KAAKL,MACtD8D,EAAQV,GAAG,kBAAmBpD,KAAK26E,oBAEnC36E,KAAK46E,kBAAoB56E,KAAK27E,iBAAiBt7E,KAAKL,MACpD8D,EAAQV,GAAG,iBAAkBpD,KAAK46E,mBAElC56E,KAAK66E,cAAgB76E,KAAK2nE,aAAatnE,KAAKL,MAC5C8D,EAAQV,GAAG,aAAcpD,KAAK66E,eAE9B76E,KAAK86E,qBAAuB96E,KAAK47E,oBAAoBv7E,KAAKL,MAC1DA,KAAK8D,QAAQV,GAAG,oBAAqBpD,KAAK86E,sBAE1C96E,KAAK+6E,oBAAsB/6E,KAAK67E,mBAAmBx7E,KAAKL,MACxDA,KAAK8D,QAAQV,GAAG,mBAAoBpD,KAAK+6E,qBAEzC/6E,KAAKg7E,oBAAsBh7E,KAAK87E,mBAAmBz7E,KAAKL,MACxDA,KAAK8D,QAAQV,GAAG,mBAAoBpD,KAAKg7E,qBAEzCh7E,KAAKi7E,oBAAsBj7E,KAAK+7E,mBAAmB17E,KAAKL,MACxDA,KAAK8D,QAAQV,GAAG,mBAAoBpD,KAAKi7E,qBAEzCj7E,KAAKk7E,gBAAkBl7E,KAAK4D,eAAevD,KAAKL,MAChDA,KAAK8D,QAAQV,GAAG,kBAAmBpD,KAAKk7E,iBAExCl7E,KAAKm7E,mBAAqBn7E,KAAKg8E,kBAAkB37E,KAAKL,MACtDA,KAAK8D,QAAQV,GAAG,kBAAmBpD,KAAKm7E,oBAExCn7E,KAAKo7E,oBAAsBp7E,KAAKi8E,mBAAmB57E,KAAKL,MACxDA,KAAK8D,QAAQV,GAAG,mBAAoBpD,KAAKo7E,qBAEzCp7E,KAAK0D,UAAYI,EAAQ+C,eACzB7G,KAAK0D,UAAUN,GAAG,eAAgBpD,KAAKk7E,iBAEvCl7E,KAAKq7E,mBAAqBr7E,KAAK2D,kBAAkBtD,KAAKL,MACtDA,KAAK0D,UAAUN,GAAG,kBAAmBpD,KAAKq7E,oBAE1Cr7E,KAAKu7E,eAELv7E,KAAK4D,iBAEL5D,KAAKg8E,oBACLh8E,KAAKi8E,qBACLj8E,KAAK2D,oBACL3D,KAAK47E,sBACL57E,KAAK67E,qBACL77E,KAAK87E,qBACL97E,KAAK+7E,qBACL/7E,KAAK8D,QAAQsJ,kBAAoBpN,KAAKwC,SAAS4rE,kBAC/CpuE,KAAKwC,SAAS05E,eAEdl8E,KAAK0D,UAAY,KACjB1D,KAAKwC,SAASqL,WAAW/J,IAG7B9D,KAAK2lC,QAAQ,gBAAiB,CAC1B7hC,QAASA,EACTy2E,WAAYA,IAGhBv6E,KAAKgiC,MAAQ,KAEbu4C,GAAcA,EAAW50C,QAAQ,eAAgB,CAACw2C,UAAWn8E,OAC7D8D,GAAWA,EAAQ6hC,QAAQ,eAAgB,CAACzjC,OAAQlC,OAEhD8D,GAAWA,EAAQ8jE,aACnB9jE,EAAQ8jE,YAAY1I,kBAE5Bl/D,KAAK0C,WAAa,WACd,OAAO1C,KAAK8D,SAEhB9D,KAAK+C,SAAW,SAASumB,EAAK+sB,GAU1B,OATAr2C,KAAK8D,QAAQ2lB,IAAI1mB,SAASumB,GAErB+sB,EAEiB,GAAbA,EACLr2C,KAAKgD,mBACc,GAAdqzC,GACLr2C,KAAKs2E,oBAJLt2E,KAAK4kC,YAMFtb,GAEXtpB,KAAK8F,SAAW,WACZ,OAAO9F,KAAK8D,QAAQgC,YAExB9F,KAAK6G,aAAe,WAChB,OAAO7G,KAAK0D,WAEhB1D,KAAKkF,OAAS,SAASinE,GACnBnsE,KAAKwC,SAAS45E,SAASjQ,IAE3BnsE,KAAK6C,SAAW,SAASzB,EAAO+4B,GAC5Bn6B,KAAKwC,SAASK,SAASzB,EAAO+4B,IAElCn6B,KAAKq8E,SAAW,WACZ,OAAOr8E,KAAKwC,SAAS65E,YAEzBr8E,KAAKqsB,SAAW,SAAS5jB,GACrBzI,KAAKwC,SAAS6pB,SAAS5jB,IAE3BzI,KAAKsqC,WAAa,SAAS7hC,GACvBzI,KAAKwC,SAAS8nC,WAAW7hC,IAE7BzI,KAAKs8E,YAAc,WACf,OAAOt8E,KAAKk5C,UAAU,aACnBvZ,EAAIxT,cAAcnsB,KAAKuK,WAAWlJ,UAEzCrB,KAAK8C,YAAc,SAASsJ,GACxBpM,KAAKuE,UAAU,WAAY6H,IAG/BpM,KAAKu8E,mBAAqB,WACtB,IAAIv8E,KAAKw8E,kBAAT,CAGA,IAAIn9E,EAAOW,KACXA,KAAKw8E,mBAAoB,EACzB/jD,YAAW,WACPp5B,EAAKm9E,mBAAoB,EACzB,IAAI14E,EAAUzE,EAAKyE,QACnB,GAAKA,GAAYA,EAAQ8jE,YAAzB,CACI9jE,EAAQ24E,oBACR34E,EAAQ24E,kBAAkBC,UAAUv8E,SAAQ,SAASiH,GACjDtD,EAAQqD,aAAaC,MAEzBtD,EAAQ24E,kBAAoB,MAEhC,IAAIlvB,EAASzpD,EAAQ8iE,yBAAyBvnE,EAAKknD,qBAGnD,IAFKgH,GAAUzpD,EAAQiyD,MAAM4mB,cACzBpvB,EAASzpD,EAAQiyD,MAAM4mB,YAAYt9E,EAAKyE,UACvCypD,EAAL,CAGA,IAAIqvB,EAAa,cACZj4E,MAAMC,QAAQ2oD,GAES,GAAjBA,EAAO1uD,SACd+9E,EAAa,qBAFbrvB,EAAS,CAACA,GAIO,GAAjBA,EAAO1uD,SACoD,GAAvDkJ,EAAMq1B,cAAcmwB,EAAO,GAAGpyB,IAAKoyB,EAAO,GAAG5rC,OAC7C4rC,EAAS,CAACxlD,EAAM20B,WAAW6wB,EAAO,GAAG5rC,MAAO4rC,EAAO,GAAGpyB,MACM,GAAvDpzB,EAAMq1B,cAAcmwB,EAAO,GAAG5rC,MAAO4rC,EAAO,GAAGpyB,OACpDoyB,EAAS,CAACxlD,EAAM20B,WAAW6wB,EAAO,GAAG5rC,MAAO4rC,EAAO,GAAGpyB,QAG9Dr3B,EAAQ24E,kBAAoB,CACxBlvB,OAAQA,EACRmvB,UAAWnvB,EAAOt7C,KAAI,SAASnK,GAC3B,OAAOhE,EAAQkE,UAAUF,EAAO80E,EAAY,gBAGrD,MAEP58E,KAAK68E,eAAiB,WAClB,IAAI78E,KAAK88E,qBAAT,CAEA,IAAIz9E,EAAOW,KACXA,KAAK88E,sBAAuB,EAC5BrkD,YAAW,WACPp5B,EAAKy9E,sBAAuB,EAE5B,IAAIh5E,EAAUzE,EAAKyE,QACnB,GAAKA,GAAYA,EAAQ8jE,YAAzB,CAEA,IAAI5hE,EAAM3G,EAAKknD,oBACX7oD,EAAW,IAAIi1D,EAActzD,EAAKyE,QAASkC,EAAIi1B,IAAKj1B,EAAIk1B,QACxD2zB,EAAQnxD,EAAS41D,kBAErB,IAAKzE,IAAU,0BAA0Bz9C,KAAKy9C,EAAMlnD,MAGhD,OAFA7D,EAAQqD,aAAarD,EAAQi5E,oBAC7Bj5E,EAAQi5E,cAAgB,MAI5B,IAAwC,IAApCluB,EAAMlnD,KAAKhC,QAAQ,cACnBkpD,EAAQnxD,EAAS21D,eADrB,CAMA,IAAI3hD,EAAMm9C,EAAMnzD,MACZshF,EAAanuB,EAAMnzD,MACnBwpE,EAAQ,EACR+X,EAAYv/E,EAAS01D,eAEzB,GAAwB,MAApB6pB,EAAUvhF,MACV,GACIuhF,EAAYpuB,GACZA,EAAQnxD,EAAS21D,kBAG2B,IAApCxE,EAAMlnD,KAAKhC,QAAQ,YAEf+L,KADJsrE,EAAanuB,EAAMnzD,SAES,MAApBuhF,EAAUvhF,MACVwpE,IAC2B,OAApB+X,EAAUvhF,OACjBwpE,KAGDxzD,IAAQsrE,GAA8B,OAAhBnuB,EAAMnzD,OACnCwpE,WAIHrW,GAASqW,GAAS,OACxB,CACH,GAII,GAHArW,EAAQouB,EACRA,EAAYv/E,EAAS01D,eAEjBvE,EACA,IAAwC,IAApCA,EAAMlnD,KAAKhC,QAAQ,YACf+L,IAAQm9C,EAAMnzD,QACU,MAApBuhF,EAAUvhF,MACVwpE,IAC2B,OAApB+X,EAAUvhF,OACjBwpE,UAGL,GAAoB,OAAhBrW,EAAMnzD,MAAgB,CAG7B,IAFA,IAAIwhF,EAAY,EACZC,EAAWF,EACRE,GAAU,CACb,IAA2C,IAAvCA,EAASx1E,KAAKhC,QAAQ,aAAsBw3E,EAASzhF,QAAUgW,EAAK,CACpEwzD,IACA,MACG,GAAuB,MAAnBiY,EAASzhF,MAChB,MAEJyhF,EAAWz/E,EAAS01D,eACpB8pB,IAEJ,IAAK,IAAIt+E,EAAI,EAAGA,EAAIs+E,EAAWt+E,IAC3BlB,EAAS21D,qBAIhB4pB,GAAa/X,GAAS,GAC/BxnE,EAAS21D,cAGb,IAAKxE,EAGD,OAFA/qD,EAAQqD,aAAarD,EAAQi5E,oBAC7Bj5E,EAAQi5E,cAAgB,MAI5B,IAAI9hD,EAAMv9B,EAAS61D,qBACfr4B,EAASx9B,EAAS81D,wBAClB1rD,EAAQ,IAAIC,EAAMkzB,EAAKC,EAAQD,EAAKC,EAAO2zB,EAAMnzD,MAAMmD,QACvDu+E,EAAMt5E,EAAQyjE,aAAazjE,EAAQi5E,eACnCj5E,EAAQi5E,oBAAwBt2E,GAAP22E,GAAsD,IAAlCt1E,EAAMyzB,aAAa6hD,EAAIt1E,SACpEhE,EAAQqD,aAAarD,EAAQi5E,eAC7Bj5E,EAAQi5E,cAAgB,MAGvBj5E,EAAQi5E,gBACTj5E,EAAQi5E,cAAgBj5E,EAAQkE,UAAUF,EAAO,cAAe,aACrE,MAEP9H,KAAKmB,MAAQ,WACT,IAAIm+B,EAAQt/B,KACZy4B,YAAW,WACF6G,EAAM6B,aACP7B,EAAMwH,UAAU3lC,WAExBnB,KAAK8mC,UAAU3lC,SAEnBnB,KAAKmhC,UAAY,WACb,OAAOnhC,KAAK8mC,UAAU3F,aAE1BnhC,KAAKgM,KAAO,WACRhM,KAAK8mC,UAAU96B,QAEnBhM,KAAKqD,QAAU,SAASwO,GAChB7R,KAAKq9E,aAETr9E,KAAKq9E,YAAa,EAClBr9E,KAAKwC,SAAS86E,aACdt9E,KAAKwC,SAAS+6E,iBACdv9E,KAAKyL,MAAM,QAASoG,KAExB7R,KAAKsD,OAAS,SAASuO,GACd7R,KAAKq9E,aAEVr9E,KAAKq9E,YAAa,EAClBr9E,KAAKwC,SAASg7E,aACdx9E,KAAKwC,SAASi7E,gBACdz9E,KAAKyL,MAAM,OAAQoG,KAGvB7R,KAAK09E,cAAgB,WACjB19E,KAAKwC,SAASm7E,eACd39E,KAAKu8E,qBACLv8E,KAAK68E,iBACL78E,KAAK49E,8BAET59E,KAAKs7E,iBAAmB,SAASxiE,GAC7B,IAAI44D,EAAO1xE,KAAK8D,QAAQuhD,aACpB5oB,EAAW3jB,EAAM6I,MAAMsZ,KAAOniB,EAAMqiB,IAAIF,IAAMniB,EAAMqiB,IAAIF,IAAM48B,IAClE73D,KAAKwC,SAASq7E,YAAY/kE,EAAM6I,MAAMsZ,IAAKwB,EAASi1C,GAEpD1xE,KAAK2lC,QAAQ,SAAU7sB,GACvB9Y,KAAK09E,iBAGT19E,KAAKw7E,kBAAoB,SAAS3pE,GAC9B,IAAI46C,EAAO56C,EAAEK,KACblS,KAAKwC,SAASq7E,YAAYpxB,EAAKwS,MAAOxS,EAAKlvB,OAI/Cv9B,KAAKg8E,kBAAoB,WACrBh8E,KAAKwC,SAASs7E,UAAU99E,KAAK8D,QAAQgzC,iBAGzC92C,KAAKi8E,mBAAqB,WACtBj8E,KAAKwC,SAASu7E,UAAU/9E,KAAK8D,QAAQ8nE,kBAEzC5rE,KAAK4D,eAAiB,WAClB5D,KAAK09E,gBACL19E,KAAK2lC,QAAQ,oBAGjB3lC,KAAK49E,2BAA6B,WAC9B,IAEIxT,EAFAtmE,EAAU9D,KAAK0C,aAYnB,GATI1C,KAAKg+E,uBACuB,QAAxBh+E,KAAKi+E,iBAA8Bj+E,KAAK0D,UAAUy4B,gBAClDiuC,EAAYpqE,KAAKumD,qBACjBvmD,KAAKwC,SAASpB,OAASpB,KAAKwC,SAASpB,MAAM88E,0BAA4Bl+E,KAAK0D,UAAUk5B,YACtFwtC,GAAY,IACZpqE,KAAKwC,SAAS27E,WAA0C,IAA7Bn+E,KAAK8D,QAAQmqC,aAAuBjuC,KAAKwC,SAAS47E,UAAY,IACzFhU,GAAY,IAGhBtmE,EAAQu6E,uBAAyBjU,EACjCtmE,EAAQqD,aAAarD,EAAQu6E,qBAAqBj3E,IAClDtD,EAAQu6E,qBAAuB,UAC5B,IAAKv6E,EAAQu6E,sBAAwBjU,EAAW,CACnD,IAAItiE,EAAQ,IAAIC,EAAMqiE,EAAUnvC,IAAKmvC,EAAUlvC,OAAQkvC,EAAUnvC,IAAK48B,KACtE/vD,EAAMV,GAAKtD,EAAQkE,UAAUF,EAAO,kBAAmB,cACvDhE,EAAQu6E,qBAAuBv2E,OACxBsiE,IACPtmE,EAAQu6E,qBAAqB18D,MAAMsZ,IAAMmvC,EAAUnvC,IACnDn3B,EAAQu6E,qBAAqBljD,IAAIF,IAAMmvC,EAAUnvC,IACjDn3B,EAAQu6E,qBAAqB18D,MAAMuZ,OAASkvC,EAAUlvC,OACtDp3B,EAAQ6hC,QAAQ,sBAIxB3lC,KAAK2D,kBAAoB,SAASkO,GAC9B,IAAI/N,EAAU9D,KAAK8D,QAOnB,GALIA,EAAQw6E,kBACRx6E,EAAQqD,aAAarD,EAAQw6E,kBAEjCx6E,EAAQw6E,iBAAmB,KAEtBt+E,KAAK0D,UAAUk5B,UAKhB58B,KAAK49E,iCALsB,CAC3B,IAAI91E,EAAQ9H,KAAK0D,UAAUi/B,WACvBl6B,EAAQzI,KAAK2wC,oBACjB7sC,EAAQw6E,iBAAmBx6E,EAAQkE,UAAUF,EAAO,gBAAiBW,GAKzE,IAAIwyC,EAAKj7C,KAAKu+E,wBAA0Bv+E,KAAKw+E,+BAC7Cx+E,KAAK8D,QAAQsmE,UAAUnvB,GAEvBj7C,KAAK2lC,QAAQ,oBAGjB3lC,KAAKw+E,6BAA+B,WAChC,IAAI16E,EAAU9D,KAAK8D,QAEfJ,EAAY1D,KAAK4lC,oBACrB,IAAIliC,EAAUk5B,YAAal5B,EAAUy4B,cAArC,CAGA,IAAIpB,EAAcr3B,EAAUie,MAAMuZ,OAC9BF,EAAYt3B,EAAUy3B,IAAID,OAC1BxgB,EAAO5W,EAAQ8+B,QAAQl/B,EAAUie,MAAMsZ,KAEvCu3C,EAAS93D,EAAKxE,UAAU6kB,EAAaC,GACzC,KAAIw3C,EAAO3zE,OAAS,MAAS,SAASuS,KAAKohE,GAA3C,CAGA,IAAIv3B,EAAKj7C,KAAKm5E,QAAQ1G,gBAAgB,CAClCM,WAAW,EACXG,eAAe,EACfV,OAAQA,IAGRiM,EAAmB/jE,EAAKxE,UAAU6kB,EAAc,EAAGC,EAAY,GACnE,GAAKigB,EAAG7pC,KAAKqtE,GAGb,OAAOxjC,KAIXj7C,KAAK47E,oBAAsB,WACvB57E,KAAKwC,SAASk8E,sBAGlB1+E,KAAK67E,mBAAqB,WACtB77E,KAAKwC,SAASm8E,qBAIlB3+E,KAAK87E,mBAAqB,WACtB97E,KAAKwC,SAASo8E,qBAGlB5+E,KAAK+7E,mBAAqB,WACtB/7E,KAAKwC,SAASwB,eAAehE,KAAK8D,QAAQD,mBAI9C7D,KAAKu7E,aAAe,SAAS1pE,GACzB7R,KAAKwC,SAASq8E,aACd7+E,KAAKyL,MAAM,aAAcoG,IAI7B7R,KAAK07E,kBAAoB,WACrB17E,KAAKwC,SAAS05E,cAGlBl8E,KAAK27E,iBAAmB,WACpB37E,KAAKwC,SAAS45E,UAAS,IAI3Bp8E,KAAK2nE,aAAe,WAChB3nE,KAAK49E,6BACL59E,KAAKwC,SAAS05E,cAElBl8E,KAAK8+E,gBAAkB,WACnB,OAAO9+E,KAAK8D,QAAQguC,aAAa9xC,KAAK4lC,sBAE1C5lC,KAAKukC,YAAc,WACf,IAAIz9B,EAAO9G,KAAK8+E,kBACZC,EAAK/+E,KAAK8D,QAAQ2lB,IAAIwyC,sBACtB+iB,GAAU,EACd,IAAKl4E,GAAQ9G,KAAKu3E,wBAAyB,CACvCyH,GAAW,EAEX,IADA,IAAIzxB,EAASvtD,KAAK0D,UAAUwyE,eACnBt3E,EAAI,EAAGA,EAAI2uD,EAAO1uD,OAAQD,IAAK,CACpC,IAAIkJ,EAAQylD,EAAO3uD,GACfA,GAAK2uD,EAAO3uD,EAAI,GAAG+iB,MAAMsZ,KAAOnzB,EAAM6Z,MAAMsZ,MAEhDn0B,GAAQ9G,KAAK8D,QAAQ8+B,QAAQ96B,EAAM6Z,MAAMsZ,KAAO8jD,IAGxD,IAAIltE,EAAI,CAAC/K,KAAMA,GAGf,OAFA9G,KAAK2lC,QAAQ,OAAQ9zB,GACrBguB,EAAUL,SAAWw/C,EAAWntE,EAAE/K,KAAO,GAClC+K,EAAE/K,MAEb9G,KAAKuD,OAAS,WACVvD,KAAK+B,SAAS+C,KAAK,OAAQ9E,OAE/BA,KAAKwkC,MAAQ,WACTxkC,KAAK+B,SAAS+C,KAAK,MAAO9E,OAE9BA,KAAKwD,QAAU,SAASsD,EAAMF,GAC1B,IAAIiL,EAAI,CAAC/K,KAAMA,EAAMF,MAAOA,GAC5B5G,KAAK+B,SAAS+C,KAAK,QAAS9E,KAAM6R,IAGtC7R,KAAKw3E,aAAe,SAAS3lE,GACT,iBAALA,IACPA,EAAI,CAAC/K,KAAM+K,IACf7R,KAAK2lC,QAAQ,QAAS9zB,GACtB,IAAI/K,EAAO+K,EAAE/K,KAET04B,EAAW14B,GAAQ+4B,EAAUL,SAC7B17B,EAAU9D,KAAK8D,QACnB,IAAK9D,KAAKmpC,mBAAqBnpC,KAAKi/E,uBAC5Bz/C,EACA17B,EAAQ6uC,OAAO,CAAE1X,IAAKj7B,KAAK0D,UAAUkkD,KAAK3sB,IAAKC,OAAQ,GAAKp0B,GAE5D9G,KAAK2yC,OAAO7rC,QACb,GAAI04B,EACPx/B,KAAK0D,UAAU+pD,UAAUF,OAAOptD,SAAQ,SAAS2H,GAC7ChE,EAAQ6uC,OAAO,CAAE1X,IAAKnzB,EAAM6Z,MAAMsZ,IAAKC,OAAQ,GAAKp0B,UAErD,CACH,IAAIiN,EAAQjN,EAAKtB,MAAM,cACnB+nD,EAASvtD,KAAK0D,UAAU+pD,UAAUF,OAElC2xB,EAA6B,GAAhBnrE,EAAMlV,UAAiBkV,EAAM,KAAOA,EAAM,IAC3D,GAAIA,EAAMlV,QAAU0uD,EAAO1uD,QAAUqgF,EACjC,OAAOl/E,KAAK+B,SAAS+C,KAAK,eAAgB9E,KAAM8G,GAEpD,IAAK,IAAIlI,EAAI2uD,EAAO1uD,OAAQD,KAAM,CAC9B,IAAIkJ,EAAQylD,EAAO3uD,GACdkJ,EAAM80B,WACP94B,EAAQ2iB,OAAO3e,GAEnBhE,EAAQ6uC,OAAO7qC,EAAM6Z,MAAO5N,EAAMnV,OAK9CoB,KAAK8jC,YAAc,SAASj/B,EAAS+N,GACjC,OAAO5S,KAAK+B,SAAS+C,KAAKD,EAAS7E,KAAM4S,IAE7C5S,KAAK2yC,OAAS,SAAS7rC,EAAM25B,GACzB,IAAI38B,EAAU9D,KAAK8D,QACf5C,EAAO4C,EAAQ0I,UACfoH,EAAS5T,KAAKumD,oBAElB,GAAIvmD,KAAKm/E,yBAA2B1+C,EAAQ,CACxC,IAAI5T,EAAY3rB,EAAK64D,gBAAgBj2D,EAAQs7D,SAASxrD,EAAOqnB,KAAM,YAAaj7B,KAAM8D,EAASgD,GAC3F+lB,IACI/lB,IAAS+lB,EAAU/lB,OACd9G,KAAKi/E,yBACNj/E,KAAK8D,QAAQykE,iBAAkB,EAC/BvoE,KAAKo6E,kBAAmB,IAGhCtzE,EAAO+lB,EAAU/lB,MAOzB,GAFY,MAARA,IACAA,EAAO9G,KAAK8D,QAAQ+xD,gBACnB71D,KAAK0D,UAAUk5B,WAKf,GAAI58B,KAAK8D,QAAQmJ,iBAAyC,GAAvBnG,EAAKnB,QAAQ,MAAa,EAC1DmC,EAAQ,IAAIC,EAAM20B,WAAW9oB,EAAQA,IACnCunB,IAAID,QAAUp0B,EAAKjI,OACzBmB,KAAK8D,QAAQ2iB,OAAO3e,QARO,CAC3B,IAAIA,EAAQ9H,KAAK4lC,oBACjBhyB,EAAS5T,KAAK8D,QAAQ2iB,OAAO3e,GAC7B9H,KAAK4wC,iBAQT,GAAY,MAAR9pC,GAAwB,QAARA,EAAgB,CAChC,IAAI4T,EAAO5W,EAAQ8+B,QAAQhvB,EAAOqnB,KAClC,GAAIrnB,EAAOsnB,OAASxgB,EAAKixC,OAAO,QAAS,CACrC,IAAIvyC,EAAIsB,EAAKirC,OAAO/xC,EAAOsnB,QAAQywB,OAAO,QAC1C7nD,EAAQ2lB,IAAIi9B,aAAa9yC,EAAOqnB,IAAKrnB,EAAOsnB,OAAQtnB,EAAOsnB,OAAS9hB,IAG5EpZ,KAAK4wC,iBAEL,IAAIjvB,EAAQ/N,EAAOsnB,OACfkkD,EAAYt7E,EAAQs7D,SAASxrD,EAAOqnB,KAEpCokD,GADA3kE,EAAO5W,EAAQ8+B,QAAQhvB,EAAOqnB,KACd/5B,EAAKm4D,aAAa+lB,EAAW1kE,EAAM5T,IAgBvD,GAfAhD,EAAQ6uC,OAAO/+B,EAAQ9M,GAEnB+lB,GAAaA,EAAUnpB,YACW,GAA9BmpB,EAAUnpB,UAAU7E,OACpBmB,KAAK0D,UAAU8+B,kBACX,IAAIz6B,EAAM6L,EAAOqnB,IAAKtZ,EAAQkL,EAAUnpB,UAAU,GACxCkQ,EAAOqnB,IAAKtZ,EAAQkL,EAAUnpB,UAAU,KAEtD1D,KAAK0D,UAAU8+B,kBACX,IAAIz6B,EAAM6L,EAAOqnB,IAAMpO,EAAUnpB,UAAU,GACjCmpB,EAAUnpB,UAAU,GACpBkQ,EAAOqnB,IAAMpO,EAAUnpB,UAAU,GACjCmpB,EAAUnpB,UAAU,MAGtC1D,KAAKs/E,kBAAmB,CACxB,GAAIx7E,EAAQyI,cAAckwD,UAAU31D,GAAO,CACvC,IAAIy4E,EAAar+E,EAAKi4D,kBAAkBimB,EAAW1kE,EAAKwL,MAAM,EAAGtS,EAAOsnB,QAASp3B,EAAQ+xD,gBAEzF/xD,EAAQ6uC,OAAO,CAAC1X,IAAKrnB,EAAOqnB,IAAI,EAAGC,OAAQ,GAAIqkD,GAE/CF,GACAn+E,EAAKq4D,YAAY6lB,EAAWt7E,EAAS8P,EAAOqnB,OAIxDj7B,KAAKu4E,WAAa,WACd,IAGIhxE,EAAUE,EAHV3D,EAAU9D,KAAK8D,QACf5C,EAAO4C,EAAQ0I,UAGnB,GAAIxM,KAAK0D,UAAUk5B,UACfr1B,EAAW,EACXE,EAAS3D,EAAQ2lB,IAAIwkB,YAAc,MAChC,CACH,IAAIuxC,EAAgBx/E,KAAK4lC,oBAEzBr+B,EAAWi4E,EAAc79D,MAAMsZ,IAC/BxzB,EAAS+3E,EAAcrkD,IAAIF,IAS/B,IANA,IAGIvgB,EAAM+kE,EAAY33E,EAHlB43E,EAAgB,GAChB78C,EAAW,GACX08C,EAAa,GAEbnmB,EAAMt1D,EAAQ+xD,eAET56B,EAAM1zB,EAAU0zB,GAAOxzB,EAAQwzB,IAChCA,EAAM,IACNykD,EAAgB57E,EAAQs7D,SAASnkC,EAAM,GACvC4H,EAAW/+B,EAAQ8+B,QAAQ3H,EAAM,GACjCskD,EAAar+E,EAAKi4D,kBAAkBumB,EAAe78C,EAAUu2B,IAGjE1+C,EAAO5W,EAAQ8+B,QAAQ3H,GAEnBskD,KADJE,EAAav+E,EAAK00D,WAAWl7C,MAErB+kE,EAAW5gF,OAAS,IACpBiJ,EAAQ,IAAIC,EAAMkzB,EAAK,EAAGA,EAAKwkD,EAAW5gF,QAC1CiF,EAAQ2iB,OAAO3e,IAEfy3E,EAAW1gF,OAAS,GACpBiF,EAAQ6uC,OAAO,CAAC1X,IAAKA,EAAKC,OAAQ,GAAIqkD,IAI9Cr+E,EAAKq4D,YAAYmmB,EAAe57E,EAASm3B,IAKjDj7B,KAAK2jC,YAAc,SAAS78B,EAAM64E,GAC9B,IAAKA,EACD,OAAO3/E,KAAKk5E,WAAWv1C,YAAY78B,GAEvC9G,KAAK49C,eAAe,CAAC/4C,QAAS,CAAEsD,KAAM,kBACtC,IAAIy3E,EAAmB5/E,KAAK4/E,iBAAiBv/E,KAAKL,KAAM8G,EAAM64E,GAC1D3/E,KAAK0D,UAAU4pD,WACfttD,KAAK6/E,iBAAiBD,GAEtBA,IACJ5/E,KAAK29C,gBAGT39C,KAAK4/E,iBAAmB,SAAS94E,EAAM64E,GAE/B,IAcIvyB,GAfJuyB,EAAYv8C,YAAcu8C,EAAYt8C,gBAClC+pB,EAAIptD,KAAK0D,UAAUi/B,YACrBhhB,MAAMuZ,QAAUykD,EAAYv8C,WAC9BgqB,EAAEjyB,IAAID,QAAUykD,EAAYt8C,YACxB+pB,EAAEzrC,MAAMuZ,OAAS,IACjBkyB,EAAEzrC,MAAMsZ,MACRmyB,EAAEzrC,MAAMuZ,QAAUl7B,KAAK8D,QAAQ8+B,QAAQwqB,EAAEzrC,MAAMsZ,KAAKp8B,OAAS,GAEjEmB,KAAK0D,UAAUyyC,SAASiX,GACnBtmD,GAASsmD,EAAExwB,WACZ58B,KAAKymB,YAET3f,GAAS9G,KAAK0D,UAAUk5B,WACxB58B,KAAK2yC,OAAO7rC,GAAM,GAClB64E,EAAYp8C,cAAgBo8C,EAAYn8C,eACpC4pB,EAAIptD,KAAK0D,UAAUi/B,YACrBhhB,MAAMuZ,QAAUykD,EAAYp8C,aAC9B6pB,EAAEjyB,IAAID,QAAUykD,EAAYn8C,WAC5BxjC,KAAK0D,UAAUyyC,SAASiX,KAIhCptD,KAAK0kC,aAAe,SAAS7yB,EAAGinB,EAAQlE,GACpC,OAAO50B,KAAKk5E,WAAWx0C,aAAa7yB,EAAGinB,EAAQlE,IAEnD50B,KAAKgN,aAAe,SAAS08D,GACzB1pE,KAAK8D,QAAQkJ,aAAa08D,IAE9B1pE,KAAKiN,aAAe,WAChB,OAAOjN,KAAK8D,QAAQmJ,gBAExBjN,KAAK2pE,gBAAkB,WACnB3pE,KAAK8D,QAAQ6lE,mBAEjB3pE,KAAK8/E,eAAiB,SAASl0C,GAC3B5rC,KAAKuE,UAAU,cAAeqnC,IAElC5rC,KAAK+/E,eAAiB,WAClB,OAAO//E,KAAKk5C,UAAU,gBAE1Bl5C,KAAKggF,aAAe,SAASjiC,GACzB/9C,KAAKuE,UAAU,YAAaw5C,IAEhC/9C,KAAKgzC,aAAe,WAChB,OAAOhzC,KAAKk5C,UAAU,cAE1Bl5C,KAAKigF,kBAAoB,SAAS32D,GAC9BtpB,KAAKuE,UAAU,iBAAkB+kB,IAErCtpB,KAAK2wC,kBAAoB,WACrB,OAAO3wC,KAAKk5C,UAAU,mBAE1Bl5C,KAAKkgF,uBAAyB,SAASC,GACnCngF,KAAKuE,UAAU,sBAAuB47E,IAE1CngF,KAAKogF,uBAAyB,WAC1B,OAAOpgF,KAAKk5C,UAAU,wBAE1Bl5C,KAAKqgF,uBAAyB,SAASF,GACnCngF,KAAKuE,UAAU,sBAAuB47E,IAG1CngF,KAAKsgF,uBAAyB,WAC1B,OAAOtgF,KAAKk5C,UAAU,wBAE1Bl5C,KAAKugF,yBAA2B,SAASJ,GACrCngF,KAAKuE,UAAU,wBAAyB47E,IAE5CngF,KAAKwgF,yBAA2B,WAC5B,OAAOxgF,KAAKu+E,wBAGhBv+E,KAAKygF,kBAAoB,SAASC,GAC9B1gF,KAAKwC,SAASi+E,kBAAkBC,IAGpC1gF,KAAK2gF,kBAAoB,WACrB,OAAO3gF,KAAKwC,SAASm+E,qBAEzB3gF,KAAKimD,kBAAoB,SAASrC,GAC9B5jD,KAAKwC,SAASyjD,kBAAkBrC,IAEpC5jD,KAAK4gF,kBAAoB,WACrB,OAAO5gF,KAAKwC,SAASo+E,qBAGzB5gF,KAAK6gF,uBAAyB,SAASl1D,GACnC3rB,KAAKwC,SAASq+E,uBAAuBl1D,IAGzC3rB,KAAK8gF,uBAAyB,WAC1B,OAAO9gF,KAAKwC,SAASs+E,0BAEzB9gF,KAAKmD,mBAAqB,SAASzB,GAC/B1B,KAAKwC,SAASW,mBAAmBzB,IAErC1B,KAAK+gF,mBAAqB,WACtB,OAAO/gF,KAAKwC,SAASu+E,sBAEzB/gF,KAAKghF,qBAAuB,SAASt/E,GACjC1B,KAAKwC,SAASw+E,qBAAqBt/E,IAEvC1B,KAAKihF,qBAAuB,WACxB,OAAOjhF,KAAKwC,SAASy+E,wBAEzBjhF,KAAKimC,YAAc,SAAS38B,GACxBtJ,KAAKuE,UAAU,WAAY+E,IAE/BtJ,KAAK0xC,YAAc,WACf,OAAO1xC,KAAKk5C,UAAU,aAE1Bl5C,KAAKkhF,qBAAuB,SAAUC,GAClCnhF,KAAKuE,UAAU,oBAAqB48E,IAExCnhF,KAAKm/E,qBAAuB,WACxB,OAAOn/E,KAAKk5C,UAAU,sBAE1Bl5C,KAAKohF,yBAA2B,SAAUD,GACtCnhF,KAAKuE,UAAU,wBAAyB48E,IAE5CnhF,KAAK+0D,yBAA2B,WAC5B,OAAO/0D,KAAKk5C,UAAU,0BAE1Bl5C,KAAKqhF,mBAAqB,SAAS70C,GAC/BxsC,KAAKuE,UAAU,kBAAmBioC,IAGtCxsC,KAAKshF,mBAAqB,WACtB,OAAOthF,KAAKk5C,UAAU,oBAG1Bl5C,KAAKuhF,mBAAqB,SAASC,GAC/BxhF,KAAKuE,UAAU,kBAAmBi9E,IAGtCxhF,KAAKyhF,mBAAqB,WACtB,OAAOzhF,KAAKk5C,UAAU,oBAE1Bl5C,KAAKymB,OAAS,SAASs5B,GACf//C,KAAK0D,UAAUk5B,YACJ,QAAPmjB,EACA//C,KAAK0D,UAAUgmD,aAEf1pD,KAAK0D,UAAU8lD,eAGvB,IAAI1hD,EAAQ9H,KAAK4lC,oBACjB,GAAI5lC,KAAKm/E,uBAAwB,CAC7B,IAAIr7E,EAAU9D,KAAK8D,QACfwvC,EAAQxvC,EAAQs7D,SAASt3D,EAAM6Z,MAAMsZ,KACrCymD,EAAY59E,EAAQ0I,UAAUutD,gBAAgBzmB,EAAO,WAAYtzC,KAAM8D,EAASgE,GAEpF,GAAyB,IAArBA,EAAMqzB,IAAID,OAAc,CACxB,IAAIp0B,EAAOhD,EAAQguC,aAAahqC,GAChC,GAA6B,MAAzBhB,EAAKA,EAAKjI,OAAS,GAAY,CAC/B,IAAI6b,EAAO5W,EAAQ8+B,QAAQ96B,EAAMqzB,IAAIF,KACjC,QAAQ7pB,KAAKsJ,KACb5S,EAAMqzB,IAAID,OAASxgB,EAAK7b,SAIhC6iF,IACA55E,EAAQ45E,GAGhB1hF,KAAK8D,QAAQ2iB,OAAO3e,GACpB9H,KAAK4wC,kBAET5wC,KAAKi4E,gBAAkB,WACfj4E,KAAK0D,UAAUk5B,WACf58B,KAAK0D,UAAU0mD,kBAEnBpqD,KAAK8D,QAAQ2iB,OAAOzmB,KAAK4lC,qBACzB5lC,KAAK4wC,kBAET5wC,KAAKg4E,eAAiB,WACdh4E,KAAK0D,UAAUk5B,WACf58B,KAAK0D,UAAU4mD,iBAEnBtqD,KAAK8D,QAAQ2iB,OAAOzmB,KAAK4lC,qBACzB5lC,KAAK4wC,kBAET5wC,KAAK83E,kBAAoB,WACjB93E,KAAK0D,UAAUk5B,WACf58B,KAAK0D,UAAUkmD,kBACf5pD,KAAK0D,UAAUk5B,WACf58B,KAAK0D,UAAUgmD,aACnB1pD,KAAK8D,QAAQ2iB,OAAOzmB,KAAK4lC,qBACzB5lC,KAAK4wC,kBAET5wC,KAAK+3E,gBAAkB,WACf/3E,KAAK0D,UAAUk5B,WACf58B,KAAK0D,UAAUomD,gBAEnB,IAAIhiD,EAAQ9H,KAAK4lC,oBACb99B,EAAM6Z,MAAMuZ,QAAUpzB,EAAMqzB,IAAID,QAAUpzB,EAAM6Z,MAAMsZ,KAAOnzB,EAAMqzB,IAAIF,MACvEnzB,EAAMqzB,IAAID,OAAS,EACnBpzB,EAAMqzB,IAAIF,OAGdj7B,KAAK8D,QAAQ2iB,OAAO3e,GACpB9H,KAAK4wC,kBAET5wC,KAAKo4E,UAAY,WACRp4E,KAAK0D,UAAUk5B,YAChB58B,KAAK8D,QAAQ2iB,OAAOzmB,KAAK4lC,qBACzB5lC,KAAK4wC,kBAGT,IAAIh9B,EAAS5T,KAAKumD,oBAClBvmD,KAAK2yC,OAAO,MACZ3yC,KAAK6vC,qBAAqBj8B,IAE9B5T,KAAKq4E,iBAAmB,WACpB,GAAKr4E,KAAK0D,UAAUk5B,UAApB,CAIA,IAAIhpB,EAAS5T,KAAKumD,oBACdrrB,EAAStnB,EAAOsnB,OACpB,GAAe,IAAXA,EAAJ,CAGA,IACIymD,EAAM75E,EADN4S,EAAO1a,KAAK8D,QAAQ8+B,QAAQhvB,EAAOqnB,KAEnCC,EAASxgB,EAAK7b,QACd8iF,EAAOjnE,EAAKjB,OAAOyhB,GAAUxgB,EAAKjB,OAAOyhB,EAAO,GAChDpzB,EAAQ,IAAIC,EAAM6L,EAAOqnB,IAAKC,EAAO,EAAGtnB,EAAOqnB,IAAKC,EAAO,KAG3DymD,EAAOjnE,EAAKjB,OAAOyhB,EAAO,GAAKxgB,EAAKjB,OAAOyhB,EAAO,GAClDpzB,EAAQ,IAAIC,EAAM6L,EAAOqnB,IAAKC,EAAO,EAAGtnB,EAAOqnB,IAAKC,IAExDl7B,KAAK8D,QAAQqM,QAAQrI,EAAO65E,GAC5B3hF,KAAK8D,QAAQJ,UAAUslC,eAAelhC,EAAMqzB,QAEhDn7B,KAAKsnB,YAAc,WACf,IAAIs6D,EAAgB5hF,KAAK4lC,oBACrB5lC,KAAK0D,UAAUk5B,WACf58B,KAAK0D,UAAUoyC,aAGnB,IAAIhuC,EAAQ9H,KAAK4lC,oBACb9+B,EAAO9G,KAAK8D,QAAQguC,aAAahqC,GACrC9H,KAAK8D,QAAQqM,QAAQrI,EAAOhB,EAAKwgB,eACjCtnB,KAAK0D,UAAU8+B,kBAAkBo/C,IAErC5hF,KAAKm8C,YAAc,WACf,IAAIylC,EAAgB5hF,KAAK4lC,oBACrB5lC,KAAK0D,UAAUk5B,WACf58B,KAAK0D,UAAUoyC,aAGnB,IAAIhuC,EAAQ9H,KAAK4lC,oBACb9+B,EAAO9G,KAAK8D,QAAQguC,aAAahqC,GACrC9H,KAAK8D,QAAQqM,QAAQrI,EAAOhB,EAAKq1C,eACjCn8C,KAAK0D,UAAU8+B,kBAAkBo/C,IAErC5hF,KAAKulD,OAAS,WACV,IAAIzhD,EAAU9D,KAAK8D,QACfgE,EAAQ9H,KAAK4lC,oBAEjB,KAAI99B,EAAM6Z,MAAMsZ,IAAMnzB,EAAMqzB,IAAIF,KAAhC,CAIO,GAAInzB,EAAM6Z,MAAMuZ,OAASpzB,EAAMqzB,IAAID,OAAQ,CAC9C,IAAIp0B,EAAOhD,EAAQguC,aAAahqC,GAChC,IAAK,QAAQsJ,KAAKtK,GAAO,CACjB2lD,EAAOzsD,KAAK6hF,mBAEhB,YADA/9E,EAAQ0pE,WAAW/gB,EAAKwS,MAAOxS,EAAKlvB,KAAM,OAKlD,IAAI7iB,EAAO5W,EAAQ8+B,QAAQ96B,EAAM6Z,MAAMsZ,KACnCpP,EAAW/jB,EAAM6Z,MACjBvV,EAAOtI,EAAQ+I,aACfquB,EAASp3B,EAAQysE,uBAAuB1kD,EAASoP,IAAKpP,EAASqP,QAEnE,GAAIl7B,KAAK8D,QAAQiJ,iBACb,IAAI4wB,EAASvxB,EAAO8uB,EAAS9uB,EACzBqhE,EAAe7tC,EAAKlC,aAAa,IAAKC,OACvC,CAEH,IADIA,EAAQzC,EAAS9uB,EACkB,KAAhCsO,EAAK5S,EAAM6Z,MAAMuZ,OAAS,IAAayC,GAC1C71B,EAAM6Z,MAAMuZ,SACZyC,IAEJ39B,KAAK0D,UAAU8+B,kBAAkB16B,GACjC2lE,EAAe,KAEnB,OAAOztE,KAAK2yC,OAAO86B,GA7Bf,IAAIhhB,EAAOzsD,KAAK6hF,mBAChB/9E,EAAQ0pE,WAAW/gB,EAAKwS,MAAOxS,EAAKlvB,KAAM,OA8BlDv9B,KAAKm4E,YAAc,WACf,IAAI1rB,EAAOzsD,KAAK6hF,mBAChB7hF,KAAK8D,QAAQ0pE,WAAW/gB,EAAKwS,MAAOxS,EAAKlvB,KAAM,OAEnDv9B,KAAKk4E,aAAe,WAChB,IAAIx0E,EAAY1D,KAAK8D,QAAQ+C,eAC7B7G,KAAK8D,QAAQ4pE,YAAYhqE,EAAUi/B,aAEvC3iC,KAAK03E,UAAY,WAKb,IAJA,IAAIjrB,EAAOzsD,KAAK6hF,mBACZ/9E,EAAU9D,KAAK8D,QAEfiQ,EAAQ,GACHnV,EAAI6tD,EAAKwS,MAAOrgE,GAAK6tD,EAAKlvB,KAAM3+B,IACrCmV,EAAM3V,KAAK0F,EAAQ8+B,QAAQhkC,IAE/BmV,EAAMmsD,MAAK,SAAS5oD,EAAG6oD,GACnB,OAAI7oD,EAAEgQ,cAAgB64C,EAAE74C,eAAuB,EAC3ChQ,EAAEgQ,cAAgB64C,EAAE74C,cAAsB,EACvC,KAGX,IAAIsmD,EAAc,IAAI7lE,EAAM,EAAG,EAAG,EAAG,GACrC,IAASnJ,EAAI6tD,EAAKwS,MAAOrgE,GAAK6tD,EAAKlvB,KAAM3+B,IAAK,CAC1C,IAAI8b,EAAO5W,EAAQ8+B,QAAQhkC,GAC3BgvE,EAAYjsD,MAAMsZ,IAAMr8B,EACxBgvE,EAAYzyC,IAAIF,IAAMr8B,EACtBgvE,EAAYzyC,IAAID,OAASxgB,EAAK7b,OAC9BiF,EAAQqM,QAAQy9D,EAAa75D,EAAMnV,EAAE6tD,EAAKwS,UAGlDj/D,KAAKy3D,mBAAqB,WACtB,IAAInkB,EAAQtzC,KAAK8D,QAAQs7D,SAASp/D,KAAKumD,oBAAoBtrB,KACvDwxB,EAAOzsD,KAAK6hF,mBAChB7hF,KAAK8D,QAAQ0I,UAAUirD,mBAAmBnkB,EAAOtzC,KAAK8D,QAAS2oD,EAAKwS,MAAOxS,EAAKlvB,OAGpFv9B,KAAK84D,mBAAqB,WACtB,IAAIllD,EAAS5T,KAAKumD,oBACdjT,EAAQtzC,KAAK8D,QAAQs7D,SAASxrD,EAAOqnB,KACrCnzB,EAAQ9H,KAAK4lC,oBACjB5lC,KAAK8D,QAAQ0I,UAAUssD,mBAAmBxlB,EAAOtzC,KAAK8D,QAASgE,EAAO8L,IAE1E5T,KAAK8hF,YAAc,SAAS7mD,EAAKC,GAC7B,IAAI6mD,EAAY,4BAChBA,EAAUh2B,UAAY,EAGtB,IADA,IAAIz/C,EAAItM,KAAK8D,QAAQ8+B,QAAQ3H,GACtB8mD,EAAUh2B,UAAY7wB,GAAQ,CACjC,IAAI1sB,EAAIuzE,EAAUj9E,KAAKwH,GACvB,GAAGkC,EAAE9I,OAASw1B,GAAU1sB,EAAE9I,MAAM8I,EAAE,GAAG3P,QAAUq8B,EAM3C,MALa,CACTx/B,MAAO8S,EAAE,GACTmT,MAAOnT,EAAE9I,MACTy1B,IAAK3sB,EAAE9I,MAAM8I,EAAE,GAAG3P,QAK9B,OAAO,MAEXmB,KAAK23E,aAAe,SAASqK,GACzB,IAAI/mD,EAAMj7B,KAAK0D,UAAU0kD,YAAYntB,IACjCC,EAASl7B,KAAK0D,UAAU0kD,YAAYltB,OACpC+mD,EAAY,IAAIl6E,EAAMkzB,EAAKC,EAAO,EAAGD,EAAKC,GAE1CqmB,EAAIvhD,KAAK8D,QAAQguC,aAAamwC,GAClC,IAAKthE,MAAMiH,WAAW25B,KAAO2gC,SAAS3gC,GAAI,CACtC,IAAI4gC,EAAKniF,KAAK8hF,YAAY7mD,EAAKC,GAC/B,GAAIinD,EAAI,CACJ,IAAIC,EAAKD,EAAGzmF,MAAMiK,QAAQ,MAAQ,EAAIw8E,EAAGxgE,MAAQwgE,EAAGzmF,MAAMiK,QAAQ,KAAO,EAAIw8E,EAAGhnD,IAC5EknD,EAAWF,EAAGxgE,MAAQwgE,EAAGzmF,MAAMmD,OAASujF,EAExCxgD,EAAIha,WAAWu6D,EAAGzmF,OACtBkmC,GAAKrpB,KAAKmc,IAAI,GAAI2tD,GAGfD,IAAOD,EAAGhnD,KAAOD,EAASknD,EACzBJ,GAAUzpE,KAAKmc,IAAI,GAAIytD,EAAGhnD,IAAMD,EAAS,GAEzC8mD,GAAUzpE,KAAKmc,IAAI,GAAIytD,EAAGhnD,IAAMD,GAGpC0G,GAAKogD,EAEL,IAAIM,GADJ1gD,GAAKrpB,KAAKmc,IAAI,GAAI2tD,IACNE,QAAQF,GAChBG,EAAe,IAAIz6E,EAAMkzB,EAAKknD,EAAGxgE,MAAOsZ,EAAKknD,EAAGhnD,KACpDn7B,KAAK8D,QAAQqM,QAAQqyE,EAAcF,GACnCtiF,KAAKkpD,aAAajuB,EAAK1iB,KAAK7K,IAAIy0E,EAAGxgE,MAAO,EAAGuZ,EAASonD,EAAIzjF,OAASsjF,EAAGzmF,MAAMmD,eAIhFmB,KAAKyiF,cAIbziF,KAAK0iF,iBAAmB,CACpB,CAAC,QAAS,QACV,CAAC,OAAQ,SACT,CAAC,MAAO,MACR,CAAC,QAAS,UACV,CAAC,MAAO,UACR,CAAC,QAAS,QACV,CAAC,KAAM,OACP,CAAC,IAAK,KACN,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,aAAc,YACf,CAAC,OAAQ,QACT,CAAC,MAAO,UACR,CAAC,KAAM,QACP,CAAC,SAAU,SACX,CAAC,OAAQ,OACT,CAAC,KAAM,OACP,CAAC,SAAU,WACX,CAAC,OAAQ,YACT,CAAC,WAAY,YACb,CAAC,SAAU,UACX,CAAC,KAAM,MACP,CAAC,KAAM,OAGX1iF,KAAKyiF,WAAa,WACd,IAAIxnD,EAAMj7B,KAAK0D,UAAU0kD,YAAYntB,IACjCC,EAASl7B,KAAK0D,UAAU0kD,YAAYltB,OACxCl7B,KAAK0D,UAAUoyC,aACf,IAAIma,EAAejwD,KAAK8+E,kBACpB6D,EAAgB3iF,KAAK0D,UAAUsnC,eAAerpB,MAAMuZ,OACpD0nD,EAAY3yB,EAAa9/C,QAAQ,+BAAgC,OAAO3K,MAAM,MAC9EsT,EAAQoiB,EAASynD,EAAgB,EACjC7pE,EAAQ,IAAGA,EAAQ,GACvB,IAAI+pE,EAAY,EAAGC,EAAW,EAC1BC,EAAO/iF,KACPiwD,EAAaz9C,MAAM,kBACnBowE,EAAUziF,SAAQ,SAAU8H,EAAMrJ,GAC9BkkF,EAAWD,EAAY56E,EAAKpJ,OACxBia,GAAS+pE,GAAa/pE,GAASgqE,IAC/B7yB,EAAehoD,EACf86E,EAAKr/E,UAAUktC,iBACfmyC,EAAK75B,aAAajuB,EAAK4nD,EAAYF,GACnCI,EAAKr/E,UAAUkqC,SAAS3S,EAAK6nD,EAAWH,IAE5CE,EAAYC,KAMpB,IAFA,IACIE,EADAC,EAAYjjF,KAAK0iF,iBAEZ9jF,EAAI,EAAGA,EAAIqkF,EAAUpkF,OAAQD,IAElC,IADA,IAAIqJ,EAAOg7E,EAAUrkF,GACZuZ,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,IAAI+qE,IAAW/qE,EACXgrE,EAAiBlzB,EAAaz9C,MAAM,IAAItC,OAAO,WAAa0vB,EAAKrB,aAAat2B,EAAKkQ,IAAM,SAAU,MACvG,GAAIgrE,EACsBlzB,EAAaz9C,MAAM,IAAItC,OAAO,eAAiB0vB,EAAKrB,aAAa4kD,EAAe,IAAM,WAAY,QAEpHH,EAAM/yB,EAAa9/C,QAAQ,IAAID,OAAO0vB,EAAKrB,aAAat2B,EAAKkQ,IAAK,MAAM,SAAUvG,GAC9E,IAAIwxE,EAAMn7E,EAAKi7E,GAMf,OALItxE,EAAOuqC,eAAiBvqC,EACxBwxE,EAAMA,EAAIjnC,cACHvqC,EAAO6H,OAAO,GAAG0iC,eAAiBvqC,EAAO6H,OAAO,KACvD2pE,EAAMA,EAAIz9B,OAAO,EAAG,GAAK19C,EAAKi7E,GAAQzpE,OAAO,GAAG0iC,cAAgBinC,EAAIz9B,OAAO,IAExEy9B,KAEXpjF,KAAK2yC,OAAOqwC,GACZA,EAAM,MAM1BhjF,KAAK88D,YAAc,WACf,IAAIrQ,EAAOzsD,KAAK6hF,mBAChB7hF,KAAK8D,QAAQi5D,gBAAgBtQ,EAAKwS,MAAOxS,EAAKlvB,MAC9Cv9B,KAAK4wC,kBAGT5wC,KAAKy3E,mBAAqB,WACtB,IAAIqC,EAAM95E,KAAK0D,UACX+lB,EAAMzpB,KAAK8D,QACXgE,EAAQgyE,EAAIn3C,WACZlF,EAAUq8C,EAAItxB,cAClB,GAAI1gD,EAAM80B,UAAW,CACjB,IAAI3B,EAAMnzB,EAAM6Z,MAAMsZ,IACtBxR,EAAIwkD,eAAehzC,EAAKA,OACrB,CACH,IAAIkgC,EAAQ19B,EAAU31B,EAAM6Z,MAAQ7Z,EAAMqzB,IACtCkoD,EAAW55D,EAAIkpB,OAAOwoB,EAAO1xC,EAAIqoB,aAAahqC,IAAQ,GAC1DA,EAAM6Z,MAAQw5C,EACdrzD,EAAMqzB,IAAMkoD,EAEZvJ,EAAIt3C,kBAAkB16B,EAAO21B,KAGrCz9B,KAAKguE,cAAgB,WACjBhuE,KAAK6tE,WAAW,GAAG,IAEvB7tE,KAAK+tE,YAAc,WACf/tE,KAAK6tE,YAAY,GAAG,IAExB7tE,KAAKyyC,SAAW,SAAS3qC,EAAOqlE,EAAYlvC,GACxC,OAAOj+B,KAAK8D,QAAQ2uC,SAAS3qC,EAAOqlE,EAAYlvC,IAEpDj+B,KAAK43E,YAAc,WACf53E,KAAK6tE,YAAY,GAAG,IAExB7tE,KAAK63E,cAAgB,WACjB73E,KAAK6tE,WAAW,GAAG,IAEvB7tE,KAAK6tE,WAAa,SAAS9tB,EAAK9hB,GAC5B,IAAIwuB,EAAM62B,EACN5/E,EAAY1D,KAAK0D,UACrB,IAAKA,EAAUylC,mBAAqBnpC,KAAKi/E,uBAAwB,CAC7D,IAAIn3E,EAAQpE,EAAUgtC,kBACtB+b,EAAOzsD,KAAK6hF,iBAAiB/5E,GAC7Bw7E,EAAQtjF,KAAK8D,QAAQ+pE,WAAWphB,EAAKwS,MAAOxS,EAAKlvB,KAAMU,EAAO,EAAI8hB,GAC9D9hB,IAAgB,GAAR8hB,IAAWujC,EAAQ,GAC/Bx7E,EAAMq1B,OAAOmmD,EAAO,GACpB5/E,EAAUytC,kBAAkBrpC,OACzB,CACH,IAAIylD,EAAS7pD,EAAU+pD,UAAUF,OACjC7pD,EAAU+pD,UAAUjO,OAAOx/C,KAAK8D,SAChC9D,KAAKi/E,wBAAyB,EAK9B,IAHA,IAAI7rE,EAAO,EACPmwE,EAAY,EACZ39D,EAAI2nC,EAAO1uD,OACND,EAAI,EAAGA,EAAIgnB,EAAGhnB,IAAK,CACxB,IAAI4kF,EAAa5kF,EACjB2uD,EAAO3uD,GAAGu+B,OAAO/pB,EAAM,GAIvB,IAFA,IAAI6rD,GADJxS,EAAOzsD,KAAK6hF,iBAAiBt0B,EAAO3uD,KACnBqgE,MACb1hC,EAAOkvB,EAAKlvB,OACP3+B,EAAIgnB,GAAG,CACR29D,GAAWh2B,EAAO3uD,GAAGu+B,OAAOomD,EAAW,GAC3C,IAAIE,EAAUzjF,KAAK6hF,iBAAiBt0B,EAAO3uD,IAC3C,GAAIq/B,GAAQwlD,EAAQxkB,OAAS1hC,EACzB,MACC,IAAKU,GAAQwlD,EAAQxkB,MAAQ1hC,EAAO,EACrC,MACJA,EAAOkmD,EAAQlmD,KAKnB,IAHA3+B,IACAwU,EAAOpT,KAAK8D,QAAQ+pE,WAAW5O,EAAO1hC,EAAMU,EAAO,EAAI8hB,GACnD9hB,IAAgB,GAAR8hB,IAAWyjC,EAAa5kF,EAAI,GACjC4kF,GAAc5kF,GACjB2uD,EAAOi2B,GAAYrmD,OAAO/pB,EAAM,GAChCowE,IAECvlD,IAAM7qB,EAAO,GAClBmwE,GAAanwE,EAGjB1P,EAAUytC,kBAAkBztC,EAAU6pD,OAAO,IAC7C7pD,EAAU+pD,UAAUlO,OAAOv/C,KAAK8D,SAChC9D,KAAKi/E,wBAAyB,IAGtCj/E,KAAK6hF,iBAAmB,SAAS/5E,GAG7B,OAFAA,GAASA,GAAS9H,KAAK4lC,qBAAqB9I,eAErC,CACHmiC,MAAOj/D,KAAK8D,QAAQ2gE,gBAAgB38D,EAAM6Z,MAAMsZ,KAChDsC,KAAMv9B,KAAK8D,QAAQ0gE,cAAc18D,EAAMqzB,IAAIF,OAInDj7B,KAAK0lC,mBAAqB,SAASg+C,GAC/B1jF,KAAKwC,SAASmhF,gBAAgBD,IAGlC1jF,KAAK4jC,oBAAsB,SAAS98B,GAChC9G,KAAKwC,SAASohF,mBAAmB98E,IAGrC9G,KAAKqiC,iBAAmB,WACpBriC,KAAKwC,SAASqhF,mBAElB7jF,KAAK8jF,mBAAqB,WACtB,OAAO9jF,KAAKwC,SAASshF,sBAEzB9jF,KAAK+jF,kBAAoB,WACrB,OAAO/jF,KAAKwC,SAASuhF,qBAEzB/jF,KAAKgkF,aAAe,SAAS/oD,GACzB,OAAQA,GAAOj7B,KAAK8jF,sBAAwB7oD,GAAOj7B,KAAK+jF,qBAE5D/jF,KAAKikF,kBAAoB,SAAShpD,GAC9B,OAAQA,GAAOj7B,KAAKwC,SAAS0hF,2BAA6BjpD,GAAOj7B,KAAKwC,SAAS2hF,0BAEnFnkF,KAAKokF,oBAAsB,WACvB,OAAOpkF,KAAKwC,SAAS6hF,qBAAuBrkF,KAAKwC,SAAS8hF,kBAAoB,GAGlFtkF,KAAKukF,YAAc,SAASxkC,EAAKtb,GAC7B,IAAIjiC,EAAWxC,KAAKwC,SAChB85C,EAASt8C,KAAKwC,SAASwtC,YACvByc,EAAO1M,EAAMxnC,KAAK2C,MAAMohC,EAAOj2C,OAASi2C,EAAOvM,aAEpC,IAAXtL,EACAzkC,KAAK0D,UAAUslD,gBAAe,WAC1BhpD,KAAKgrD,aAAayB,EAAM,OAEV,IAAXhoB,IACPzkC,KAAK0D,UAAUsnD,aAAayB,EAAM,GAClCzsD,KAAK0D,UAAUktC,kBAGnB,IAAIe,EAAYnvC,EAASmvC,UAEzBnvC,EAASqpC,SAAS,EAAG4gB,EAAOnQ,EAAOvM,YACrB,MAAVtL,GACAjiC,EAASsnC,qBAAqB,KAAM,IAExCtnC,EAASq3E,iBAAiBloC,IAE9B3xC,KAAKg3E,eAAiB,WAClBh3E,KAAKukF,YAAY,GAAG,IAExBvkF,KAAKm3E,aAAe,WAChBn3E,KAAKukF,aAAa,GAAG,IAEzBvkF,KAAKk3E,aAAe,WACjBl3E,KAAKukF,YAAY,GAAG,IAEvBvkF,KAAKq3E,WAAa,WACdr3E,KAAKukF,aAAa,GAAG,IAEzBvkF,KAAKi3E,eAAiB,WAClBj3E,KAAKukF,YAAY,IAErBvkF,KAAKo3E,aAAe,WAChBp3E,KAAKukF,aAAa,IAEtBvkF,KAAKwkF,YAAc,SAASvpD,GACxBj7B,KAAKwC,SAASgiF,YAAYvpD,IAE9Bj7B,KAAKykF,aAAe,SAAS/pE,EAAMgqE,EAAQC,EAASz4E,GAChDlM,KAAKwC,SAASiiF,aAAa/pE,EAAMgqE,EAAQC,EAASz4E,IAEtDlM,KAAK61E,gBAAkB,WACnB,IAAI/tE,EAAQ9H,KAAK4lC,oBACb5/B,EAAM,CACNi1B,IAAK1iB,KAAK2C,MAAMpT,EAAM6Z,MAAMsZ,KAAOnzB,EAAMqzB,IAAIF,IAAMnzB,EAAM6Z,MAAMsZ,KAAO,GACtEC,OAAQ3iB,KAAK2C,MAAMpT,EAAM6Z,MAAMuZ,QAAUpzB,EAAMqzB,IAAID,OAASpzB,EAAM6Z,MAAMuZ,QAAU,IAEtFl7B,KAAKwC,SAASoiF,YAAY5+E,EAAK,KAEnChG,KAAKumD,kBAAoB,WACrB,OAAOvmD,KAAK0D,UAAU0kD,aAE1BpoD,KAAK6kF,wBAA0B,WAC3B,OAAO7kF,KAAK8D,QAAQm5B,yBAAyBj9B,KAAKumD,sBAEtDvmD,KAAK4lC,kBAAoB,WACrB,OAAO5lC,KAAK0D,UAAUi/B,YAE1B3iC,KAAK4kC,UAAY,WACb5kC,KAAK0D,UAAUkhC,aAEnB5kC,KAAK4wC,eAAiB,WAClB5wC,KAAK0D,UAAUktC,kBAEnB5wC,KAAKkpD,aAAe,SAASjuB,EAAKC,GAC9Bl7B,KAAK0D,UAAUwlD,aAAajuB,EAAKC,IAErCl7B,KAAK6vC,qBAAuB,SAAS7pC,GACjChG,KAAK0D,UAAUmsC,qBAAqB7pC,IAExChG,KAAKs3E,eAAiB,SAAS7yC,EAAQqgD,GACnC,IAAIlxE,EAAS5T,KAAKumD,oBACd7oD,EAAW,IAAIi1D,EAAc3yD,KAAK8D,QAAS8P,EAAOqnB,IAAKrnB,EAAOsnB,QAC9D+hD,EAAYv/E,EAAS41D,kBACrBzE,EAAQouB,GAAav/E,EAAS21D,cAElC,GAAKxE,EAAL,CACA,IAAIk2B,EAIAC,EAHAxpE,GAAQ,EACR0pD,EAAQ,GACRtmE,EAAIgV,EAAOsnB,OAAS2zB,EAAMltC,MAE1BsjE,EAAW,CACX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAGT,EAAG,CACC,GAAIp2B,EAAMnzD,MAAM8W,MAAM,gBAClB,KAAO5T,EAAIiwD,EAAMnzD,MAAMmD,SAAW2c,EAAO5c,IACrC,GAAKqmF,EAASp2B,EAAMnzD,MAAMkD,IAU1B,OANAomF,EAAcC,EAASp2B,EAAMnzD,MAAMkD,IAAM,IAAMiwD,EAAMlnD,KAAKwI,QAAQ,SAAU,UAExEwQ,MAAMukD,EAAM8f,MACZ9f,EAAM8f,GAAe,GAGjBn2B,EAAMnzD,MAAMkD,IAChB,IAAK,IACL,IAAK,IACL,IAAK,IACDsmE,EAAM8f,KACN,MACJ,IAAK,IACL,IAAK,IACL,IAAK,IACD9f,EAAM8f,MAEsB,IAAxB9f,EAAM8f,KACND,EAAY,UACZvpE,GAAQ,SAMiB,IAApCqzC,EAAMlnD,KAAKhC,QAAQ,cACpBgb,MAAMukD,EAAMrW,EAAMnzD,UAClBwpE,EAAMrW,EAAMnzD,OAAS,GAGD,MAApBuhF,EAAUvhF,MACVwpE,EAAMrW,EAAMnzD,SAEa,OAApBuhF,EAAUvhF,OACfwpE,EAAMrW,EAAMnzD,UAGY,IAAxBwpE,EAAMrW,EAAMnzD,SACZqpF,EAAY,MACZvpE,GAAQ,IAIXA,IACDyhE,EAAYpuB,EACZA,EAAQnxD,EAAS21D,cACjBz0D,EAAI,SAEHiwD,IAAUrzC,GACnB,GAAKupE,EAAL,CAGA,IAAIj9E,EAAO9B,EACX,GAAkB,YAAd++E,GACAj9E,EAAQ9H,KAAK8D,QAAQinC,gBAAgBn3B,MAQjC5N,GANA8B,EAAQ,IAAIC,EACRrK,EAAS61D,qBACT71D,EAAS81D,wBAA0B50D,EAAI,EACvClB,EAAS61D,qBACT71D,EAAS81D,wBAA0B50D,EAAI,IAE/B+iB,OACRmjE,GAAU9+E,EAAIi1B,MAAQrnB,EAAOqnB,KAAO1iB,KAAK2I,IAAIlb,EAAIk1B,OAAStnB,EAAOsnB,QAAU,KAC3EpzB,EAAQ9H,KAAK8D,QAAQinC,gBAAgB/kC,UAG5C,GAAkB,QAAd++E,EAAqB,CAC1B,IAAIl2B,IAA6C,IAApCA,EAAMlnD,KAAKhC,QAAQ,YAG5B,OAFA,IAAI+L,EAAMm9C,EAAMnzD,MAUpB,GAAiD,KANjDoM,EAAQ,IAAIC,EACRrK,EAAS61D,qBACT71D,EAAS81D,wBAA0B,EACnC91D,EAAS61D,qBACT71D,EAAS81D,wBAA0B,IAE7Bl4B,QAAQ1nB,EAAOqnB,IAAKrnB,EAAOsnB,QAAe,CAChD1f,GAAQ,EACR,GACIqzC,EAAQouB,GACRA,EAAYv/E,EAAS01D,mBAG4B,IAAzC6pB,EAAUt1E,KAAKhC,QAAQ,cACvBmC,EAAMi0B,OAAOr+B,EAAS61D,qBAAsB71D,EAAS81D,wBAA0B,GAG/E3E,EAAMnzD,QAAUgW,IAA2C,IAApCm9C,EAAMlnD,KAAKhC,QAAQ,cAClB,MAApBs3E,EAAUvhF,MACVwpE,EAAMxzD,KAEmB,OAApBurE,EAAUvhF,OACfwpE,EAAMxzD,KAGS,IAAfwzD,EAAMxzD,KACN8J,GAAQ,WAGfyhE,IAAczhE,GAEvBqzC,GAASA,EAAMlnD,KAAKhC,QAAQ,cAC5BK,EAAM8B,EAAM6Z,OACJsZ,KAAOrnB,EAAOqnB,KAAO1iB,KAAK2I,IAAIlb,EAAIk1B,OAAStnB,EAAOsnB,QAAU,IAChEl1B,EAAM8B,EAAMqzB,MAIxBn1B,EAAM8B,GAASA,EAAM8L,QAAU5N,KAEvBy+B,EACI38B,GAASg9E,EACT9kF,KAAK0D,UAAUyyC,SAASruC,GACjBA,GAASA,EAAMszB,QAAQp7B,KAAK4lC,qBACnC5lC,KAAK4wC,iBAEL5wC,KAAK0D,UAAUkqC,SAAS5nC,EAAIi1B,IAAKj1B,EAAIk1B,QAGzCl7B,KAAK0D,UAAUylD,OAAOnjD,EAAIi1B,IAAKj1B,EAAIk1B,YAI/Cl7B,KAAK81E,SAAW,SAASoP,EAAYhqD,EAAQypD,GACzC3kF,KAAK0D,UAAUktC,iBACf5wC,KAAK8D,QAAQsgE,OAAO,CAACnpC,IAAKiqD,EAAa,EAAGhqD,OAAQA,GAAU,IAC5Dl7B,KAAK64E,qBAAuB74E,KAAK64E,sBACjC74E,KAAKkpD,aAAag8B,EAAa,EAAGhqD,GAAU,GAEvCl7B,KAAKikF,kBAAkBiB,EAAa,IACrCllF,KAAKykF,aAAaS,EAAa,GAAG,EAAMP,IAEhD3kF,KAAKmlF,WAAa,SAASlqD,EAAKC,GAC5Bl7B,KAAK0D,UAAUylD,OAAOluB,EAAKC,IAE/Bl7B,KAAKu2E,WAAa,SAASC,GACvB,GAAIx2E,KAAK0D,UAAUy4B,gBAAkBn8B,KAAK0D,UAAU8kD,cAAe,CAC/D,IAAI9lB,EAAiB1iC,KAAK0D,UAAUilC,OAAO0f,cAC3C,OAAOroD,KAAK6vC,qBAAqBnN,GAErC1iC,KAAK0D,UAAUktC,iBACf5wC,KAAK0D,UAAUsnD,cAAcwrB,IAAU,EAAG,IAE9Cx2E,KAAKy2E,aAAe,SAASD,GACzB,GAAIx2E,KAAK0D,UAAUy4B,eAAiBn8B,KAAK0D,UAAU8kD,cAAe,CAC9D,IAAIjmB,EAAeviC,KAAK0D,UAAUilC,OAAO0f,cACzC,OAAOroD,KAAK6vC,qBAAqBtN,GAErCviC,KAAK0D,UAAUktC,iBACf5wC,KAAK0D,UAAUsnD,aAAawrB,GAAS,EAAG,IAE5Cx2E,KAAK42E,aAAe,SAASJ,GACzB,GAAKx2E,KAAK0D,UAAUk5B,UAMhB,IADA45C,EAAQA,GAAS,EACVA,KACHx2E,KAAK0D,UAAUimD,qBAPQ,CAC3B,IAAIjnB,EAAiB1iC,KAAK4lC,oBAAoBjkB,MAC9C3hB,KAAK6vC,qBAAqBnN,GAQ9B1iC,KAAK4wC,kBAET5wC,KAAK+2E,cAAgB,SAASP,GAC1B,GAAKx2E,KAAK0D,UAAUk5B,UAMhB,IADA45C,EAAQA,GAAS,EACVA,KACHx2E,KAAK0D,UAAU+lD,sBAPQ,CAC3B,IAAIlnB,EAAeviC,KAAK4lC,oBAAoBzK,IAC5Cn7B,KAAK6vC,qBAAqBtN,GAQ9BviC,KAAK4wC,kBAET5wC,KAAK22E,kBAAoB,WACrB32E,KAAK0D,UAAUmmD,sBACf7pD,KAAK4wC,kBAET5wC,KAAK82E,gBAAkB,WACnB92E,KAAK0D,UAAUqmD,oBACf/pD,KAAK4wC,kBAET5wC,KAAKgD,gBAAkB,WACnBhD,KAAK0D,UAAUumD,oBACfjqD,KAAK4wC,kBAET5wC,KAAKs2E,kBAAoB,WACrBt2E,KAAK0D,UAAUymD,sBACfnqD,KAAK4wC,kBAET5wC,KAAK62E,kBAAoB,WACrB72E,KAAK0D,UAAU2mD,sBACfrqD,KAAK4wC,kBAET5wC,KAAK02E,iBAAmB,WACpB12E,KAAK0D,UAAU6mD,qBACfvqD,KAAK4wC,kBAET5wC,KAAKmQ,QAAU,SAASyiE,EAAaxpD,GAC7BA,GACAppB,KAAKm5E,QAAQ37E,IAAI4rB,GAErB,IAAIthB,EAAQ9H,KAAKm5E,QAAQnH,KAAKhyE,KAAK8D,SAC/BshF,EAAW,EACf,OAAKt9E,GAGD9H,KAAKqlF,YAAYv9E,EAAO8qE,KACxBwS,EAAW,GAGfplF,KAAK0D,UAAU8+B,kBAAkB16B,GACjC9H,KAAKwC,SAASo3E,wBAAwB9xE,EAAM6Z,MAAO7Z,EAAMqzB,KAElDiqD,GATIA,GAWfplF,KAAKslF,WAAa,SAAS1S,EAAaxpD,GAChCA,GACAppB,KAAKm5E,QAAQ37E,IAAI4rB,GAGrB,IAAImkC,EAASvtD,KAAKm5E,QAAQ5G,QAAQvyE,KAAK8D,SACnCshF,EAAW,EACf,IAAK73B,EAAO1uD,OACR,OAAOumF,EAEX,IAAI1hF,EAAY1D,KAAK4lC,oBACrB5lC,KAAK0D,UAAUylD,OAAO,EAAG,GAEzB,IAAK,IAAIvqD,EAAI2uD,EAAO1uD,OAAS,EAAGD,GAAK,IAAKA,EACnCoB,KAAKqlF,YAAY93B,EAAO3uD,GAAIg0E,IAC3BwS,IAMR,OAFAplF,KAAK0D,UAAU8+B,kBAAkB9+B,GAE1B0hF,GAGXplF,KAAKqlF,YAAc,SAASv9E,EAAO8qE,GAC/B,IAAItZ,EAAQt5D,KAAK8D,QAAQguC,aAAahqC,GAEtC,OAAoB,QADpB8qE,EAAc5yE,KAAKm5E,QAAQhpE,QAAQmpD,EAAOsZ,KAEtC9qE,EAAMqzB,IAAMn7B,KAAK8D,QAAQqM,QAAQrI,EAAO8qE,GACjC9qE,GAEA,MAGf9H,KAAKulF,qBAAuB,WACxB,OAAOvlF,KAAKm5E,QAAQpgC,cAExB/4C,KAAKgyE,KAAO,SAASQ,EAAQppD,EAASu7D,GAC7Bv7D,IACDA,EAAU,IAEO,iBAAVopD,GAAsBA,aAAkBtiE,OAC/CkZ,EAAQopD,OAASA,EACK,iBAAVA,GACZxoE,EAAIujB,MAAMnE,EAASopD,GAEvB,IAAI1qE,EAAQ9H,KAAK0D,UAAUi/B,WACL,MAAlBvZ,EAAQopD,UACRA,EAASxyE,KAAK8D,QAAQguC,aAAahqC,IAC5B9H,KAAKm5E,QAAQh1E,SAASquE,UAEzB1qE,EAAQ9H,KAAK8D,QAAQknC,aAAaljC,EAAM6Z,MAAMsZ,IAAKnzB,EAAM6Z,MAAMuZ,QAC/Ds3C,EAASxyE,KAAK8D,QAAQguC,aAAahqC,IAEvC9H,KAAKm5E,QAAQ37E,IAAI,CAACg1E,OAAQA,KAG9BxyE,KAAKm5E,QAAQ37E,IAAI4rB,GACZA,EAAQzH,OACT3hB,KAAKm5E,QAAQ37E,IAAI,CAACmkB,MAAO7Z,IAE7B,IAAI09E,EAAWxlF,KAAKm5E,QAAQnH,KAAKhyE,KAAK8D,SACtC,OAAIslB,EAAQoY,cACDgkD,EACPA,GACAxlF,KAAKylF,YAAYD,EAAUb,GACpBa,IAEPp8D,EAAQgqD,UACRtrE,EAAM6Z,MAAQ7Z,EAAMqzB,IAEpBrzB,EAAMqzB,IAAMrzB,EAAM6Z,WACtB3hB,KAAK0D,UAAUyyC,SAASruC,KAE5B9H,KAAKm2E,SAAW,SAAS/sD,EAASu7D,GAC9B3kF,KAAKgyE,KAAK,CAACM,aAAa,EAAMc,WAAW,GAAQhqD,EAASu7D,IAE9D3kF,KAAKo2E,aAAe,SAAShtD,EAASu7D,GAClC3kF,KAAKgyE,KAAK5oD,EAAS,CAACkpD,aAAa,EAAMc,WAAW,GAAOuR,IAG7D3kF,KAAKylF,YAAc,SAAS39E,EAAO68E,GAC/B3kF,KAAK8D,QAAQsgE,OAAOt8D,GACpB9H,KAAK0D,UAAU8+B,kBAAkB16B,GAEjC,IAAI6pC,EAAY3xC,KAAKwC,SAASmvC,UAC9B3xC,KAAKwC,SAASo3E,wBAAwB9xE,EAAM6Z,MAAO7Z,EAAMqzB,IAAK,KAC9C,IAAZwpD,GACA3kF,KAAKwC,SAASq3E,iBAAiBloC,IAEvC3xC,KAAK8oE,KAAO,WACR9oE,KAAK8D,QAAQ4I,iBAAiBo8D,KAAK9oE,KAAK8D,SACxC9D,KAAKwC,SAASsnC,qBAAqB,KAAM,KAE7C9pC,KAAK+oE,KAAO,WACR/oE,KAAK8D,QAAQ4I,iBAAiBq8D,KAAK/oE,KAAK8D,SACxC9D,KAAKwC,SAASsnC,qBAAqB,KAAM,KAE7C9pC,KAAK2G,QAAU,WACP3G,KAAK21B,aACL31B,KAAK21B,WAAWx1B,SAAQ,SAASkL,GAC7BA,EAAG1E,aAEP3G,KAAK21B,WAAa,MAElB31B,KAAKmnC,eACLnnC,KAAKmnC,cAAcxgC,UACvB3G,KAAKwC,SAASmE,UACd3G,KAAK2lC,QAAQ,UAAW3lC,MACpBA,KAAK8D,SACL9D,KAAK8D,QAAQ6C,UACb3G,KAAKs5E,kBACLt5E,KAAKs5E,iBAAiBr6C,SAC1Bj/B,KAAK44C,sBAET54C,KAAK0lF,4BAA8B,SAAS1Y,GACxC,GAAKA,EAAL,CAEA,IAAIxmC,EACAnnC,EAAOW,KACP2lF,GAAe,EACd3lF,KAAK4lF,gBACN5lF,KAAK4lF,cAAgBt6E,SAAS5C,cAAc,QAChD,IAAIm9E,EAAe7lF,KAAK4lF,cACxBC,EAAap9E,MAAM8C,QAAU,oBAC7BvL,KAAKuK,UAAU4gB,aAAa06D,EAAc7lF,KAAKuK,UAAU6gB,YACzD,IAAI06D,EAAoB9lF,KAAKoD,GAAG,mBAAmB,WAC/CuiF,GAAe,KAEfI,EAAiB/lF,KAAKwC,SAASY,GAAG,gBAAgB,WAC9CuiF,IACAn/C,EAAOnnC,EAAKmD,SAAS+H,UAAUm3B,4BAEnCskD,EAAgBhmF,KAAKwC,SAASY,GAAG,eAAe,WAChD,GAAIuiF,GAAgBn/C,IAASnnC,EAAK8hC,aAC3B9hC,EAAK4mF,WAAa5mF,EAAK4mF,UAAU9kD,aACtC,CACE,IAAI3+B,EAAWnD,EAAKmD,SAChBwD,EAAMxD,EAASquC,aAAaq1C,UAC5B5pC,EAAS95C,EAASwtC,YAClB3hC,EAAMrI,EAAIqI,IAAMiuC,EAAOzd,OASP,OAPhB8mD,EADA3/E,EAAIqI,KAAO,GAAKA,EAAMm4B,EAAKn4B,IAAM,KAE1BrI,EAAIqI,IAAMiuC,EAAOj2C,QACxBL,EAAIqI,IAAMm4B,EAAKn4B,IAAMiuC,EAAOvM,WAAa/qB,OAAOioB,cAGjC,QAGf44C,EAAap9E,MAAM4F,IAAMA,EAAM,KAC/Bw3E,EAAap9E,MAAM6F,KAAOtI,EAAIsI,KAAO,KACrCu3E,EAAap9E,MAAMpC,OAASi2C,EAAOvM,WAAa,KAChD81C,EAAalQ,eAAegQ,IAEhCA,EAAen/C,EAAO,SAG9BxmC,KAAK0lF,4BAA8B,SAAS1Y,GACpCA,WAEGhtE,KAAK0lF,4BACZ1lF,KAAKmlC,IAAI,kBAAmB2gD,GAC5B9lF,KAAKwC,SAAS2iC,IAAI,cAAe6gD,GACjChmF,KAAKwC,SAAS2iC,IAAI,eAAgB4gD,OAK1C/lF,KAAKoxC,kBAAoB,WACrB,IAAI3oC,EAAQzI,KAAKmmF,cAAgB,MAC7BC,EAAcpmF,KAAKwC,SAASquC,aAC3Bu1C,IAELA,EAAYC,kBAAkB,SAASj1E,KAAK3I,IAC5C29E,EAAYE,YAActmF,KAAK6kC,WAAsB,QAATp8B,EAC5Ck3B,EAAIhV,YAAYy7D,EAAYr8D,QAAS,mBAAoB,OAAO3Y,KAAK3I,MAEzEzI,KAAK+1E,OAAS,SAASz8B,EAASlwB,EAASld,GACrC,IAAIhK,EAASlC,KACbs8C,EAAOjB,WAAW,gBAAgB,SAAUtxC,GACxCA,EAAOgsE,OAAO7zE,EAAQo3C,EAASlwB,EAASld,QAIjD5O,KAAK4M,EAAO9M,WAIfk/C,EAAO3C,cAAczvC,EAAO9M,UAAW,SAAU,CAC7CmpF,eAAgB,CACZ/oF,IAAK,SAASiL,GACVzI,KAAK2D,oBACL3D,KAAK2lC,QAAQ,uBAAwB,CAACzzB,KAAMzJ,KAEhDmxC,aAAc,QAElBrwC,oBAAqB,CACjB/L,IAAK,WAAYwC,KAAK49E,8BACtBhkC,cAAc,GAElB4sC,sBAAuB,CACnBhpF,IAAK,SAAS2iF,GAAkBngF,KAAKq7E,sBACrCzhC,cAAc,GAElBtwC,SAAU,CACN9L,IAAK,SAAS8L,GACVtJ,KAAK8mC,UAAUb,YAAY38B,GAC3BtJ,KAAKoxC,qBAETwI,cAAc,GAElB6sC,uBAAwB,CACpBjpF,IAAK,SAAS9B,GACVsE,KAAK8mC,UAAUZ,0BAA0BxqC,IAE7Ck+C,cAAc,GAElBxG,YAAa,CACT51C,IAAK,SAAS8rB,GAAOtpB,KAAKoxC,qBAC1Boe,OAAQ,CAAC,MAAO,OAAQ,SAAU,QAClC5V,aAAc,OAElB2uB,gBAAiB,CACb/Y,OAAQ,EAAC,GAAO,EAAM,UACtB5V,cAAc,GAElB8sC,kBAAmB,CAAC9sC,cAAc,GAClC+sC,sBAAuB,CAAC/sC,cAAc,GACtCgtC,iBAAkB,CAAChtC,cAAc,GACjCitC,yBAA0B,CACtBrpF,IAAK,SAAS8rB,GAAMtpB,KAAK0lF,4BAA4Bp8D,KAEzDznB,gBAAiB,CACbrE,IAAK,SAAS8rB,GAAOtpB,KAAKiF,mBAAmBqkB,IAC7C1tB,IAAK,WAAa,OAAOoE,KAAKs6E,eAC9BjhC,YAAY,GAEhB39C,MAAO,CACH8B,IAAK,SAAS8rB,GAAOtpB,KAAK8D,QAAQf,SAASumB,IAC3C1tB,IAAK,WAAa,OAAOoE,KAAK8F,YAC9BuzC,YAAY,EACZJ,QAAQ,GAEZn1C,QAAS,CACLtG,IAAK,SAAS8rB,GAAOtpB,KAAK6N,WAAWyb,IACrC1tB,IAAK,WAAa,OAAOoE,KAAK8D,SAC9Bu1C,YAAY,EACZJ,QAAQ,GAGZ6tC,gBAAiB,CACbtpF,IAAK,SAASgvC,GACVxsC,KAAKwC,SAAS+qC,aAAaw5C,mBAAmBv6C,GAC9CxsC,KAAKwC,SAASwkF,MAAM9nD,SAASl/B,KAAKwC,SAASykF,eACvCz6C,GAAQxsC,KAAKknF,qBACbC,EAAuB5nC,OAAOv/C,MAE9BmnF,EAAuB3nC,OAAOx/C,OAEtC45C,cAAc,GAElBwtC,oBAAqB,CACjB5pF,IAAK,SAAS9B,GACNsE,KAAKqnF,kBAAoB3rF,EACzByrF,EAAuB5nC,OAAOv/C,MAE9BmnF,EAAuB3nC,OAAOx/C,QAG1CwgE,YAAa,CACThjE,IAAK,SAAS87C,GACLt5C,KAAKsnF,qBACNtnF,KAAKsnF,mBAAqB,WACtB,IAAI5rF,EAAQsE,KAAK8D,UAAY9D,KAAKwC,SAAS+kF,cAAgBvnF,KAAK8F,YAChE,GAAIpK,GAASsE,KAAKwC,SAASglF,gBACvBxnF,KAAKwC,SAAS2iC,IAAI,cAAenlC,KAAKsnF,oBACtC3nD,EAAIpV,eAAevqB,KAAKuK,UAAW,sBACnCvK,KAAKwC,SAASglF,gBAAgB/gE,SAC9BzmB,KAAKwC,SAASglF,gBAAkB,UAC7B,GAAK9rF,GAAUsE,KAAKwC,SAASglF,iBAQxB9rF,GAASsE,KAAKwC,SAASglF,kBAC/BxnF,KAAKwC,SAASglF,gBAAgBv9D,YAAcjqB,KAAKynF,cAAgB,QAThB,CACjDznF,KAAKwC,SAASY,GAAG,cAAepD,KAAKsnF,oBACrC3nD,EAAIrV,YAAYtqB,KAAKuK,UAAW,sBAChC,IAAIc,EAAKs0B,EAAIj3B,cAAc,OAC3B2C,EAAGtK,UAAY,kBACfsK,EAAG4e,YAAcjqB,KAAKynF,cAAgB,GACtCznF,KAAKwC,SAASglF,gBAAkBn8E,EAChCrL,KAAKwC,SAASklF,QAAQl8E,YAAYxL,KAAKwC,SAASglF,mBAItDnnF,KAAKL,MACPA,KAAKoD,GAAG,QAASpD,KAAKsnF,qBAE1BtnF,KAAKsnF,uBAIbK,wBAAyB,WACzBC,wBAAyB,WACzBC,oBAAqB,WACrBC,eAAgB,WAChBlkC,eAAgB,WAChBliD,gBAAiB,WACjBqmF,kBAAmB,WACnBC,YAAa,WACbC,gBAAiB,WACjBC,gBAAiB,WACjBC,oBAAqB,WACrB3mF,WAAY,WACZH,SAAU,WACV+mF,WAAY,WACZ/+E,SAAU,WACVD,SAAU,WACVi/E,cAAe,WACfC,iBAAkB,WAClBlnF,MAAO,WACPmnF,iBAAkB,WAClBC,eAAgB,WAChBzjD,kBAAmB,WAEnB+Y,YAAa,gBACbC,UAAW,gBACXC,YAAa,gBACbC,aAAc,gBACdC,oBAAqB,gBAErB0zB,gBAAiB,UACjBlI,UAAW,UACXnN,YAAa,UACbmO,UAAW,UACXmH,YAAa,UACbtI,uBAAwB,UACxB//D,QAAS,UACTkoE,KAAM,UACNhC,iBAAkB,UAClBoC,UAAW,UACX5wE,KAAM,YAIV,IAAIimF,EAAyB,CACzBsB,QAAS,SAAS3kF,EAASm3B,GACvB,OAAQ1iB,KAAK2I,IAAIpd,EAAQJ,UAAUkkD,KAAK3sB,IAAMA,IAASA,EAAM,GAAKA,EAAM,EAAI,OAAS,KAAQ,IAEjG2R,SAAU,SAAS9oC,EAAS4kF,EAAgBpsC,GACxC,OAAO/jC,KAAK7K,IACRg7E,EAAe34E,WAAWlR,QACzBy9C,EAAO7f,QAAU,GAAG1sB,WAAWlR,OAChC,GACAy9C,EAAO/V,gBAEfk5B,OAAQ,SAAS5tD,EAAG3P,GAChBA,EAAOM,SAASwkF,MAAM9nD,SAASh9B,EAAOM,SAASykF,gBAEnD1nC,OAAQ,SAASr9C,GACbA,EAAOM,SAAS+qC,aAAao7C,UAAY3oF,KACzCkC,EAAOkB,GAAG,kBAAmBpD,KAAKy/D,QAClCz/D,KAAKy/D,OAAO,KAAMv9D,IAEtBs9C,OAAQ,SAASt9C,GACTA,EAAOM,SAAS+qC,aAAao7C,WAAa3oF,OAC1CkC,EAAOM,SAAS+qC,aAAao7C,UAAY,MAC7CzmF,EAAOijC,IAAI,kBAAmBnlC,KAAKy/D,QACnCz/D,KAAKy/D,OAAO,KAAMv9D,KAI1BzG,EAAQyO,OAASA,KAGjBL,IAAIC,OAAO,kBAAkB,CAAC,UAAU,UAAU,SAAS,cAAc,SAAS7N,EAASR,EAASsO,GACpG,aACA,IAAI6+E,EAAc,WACd5oF,KAAK6oF,QAAU,EACf7oF,KAAKqoE,WAAY,EACjBroE,KAAKyoE,UAGT,WAEIzoE,KAAK0oE,WAAa,SAAS5kE,GACvB9D,KAAK8yD,SAAWhvD,GAEpB9D,KAAK0qB,IAAM,SAAS5R,EAAOgwE,EAAYhlF,GAC/B9D,KAAKqoE,WACLvvD,GAAS9Y,KAAK+oF,aACb/oF,KAAKgpF,iBAAgBhpF,KAAKipF,WAAWpqF,OAAS,IAChC,IAAfiqF,GAAyB9oF,KAAKkpF,aAC9BlpF,KAAKkpF,WAAa,GAClBlpF,KAAKmpF,WAAW/qF,KAAK4B,KAAKkpF,YAC1BpwE,EAAM1R,GAAKpH,KAAKopF,OAASppF,KAAK6oF,SAEd,UAAhB/vE,EAAM07B,QAAsC,UAAhB17B,EAAM07B,SAClCx0C,KAAK+oF,WAAajwE,GACtB9Y,KAAKkpF,WAAW9qF,KAAK0a,KAGzB9Y,KAAKipE,aAAe,SAASvlE,EAAW2lF,GACpCrpF,KAAKknD,WAAW9oD,KAAK,CACjB1C,MAAOgI,EACP2lF,IAAKA,GAAOrpF,KAAKopF,QAIzBppF,KAAKkpE,cAAgB,WAEjB,OADAlpE,KAAKkpF,WAAa,KACXlpF,KAAKopF,MAGhBppF,KAAKspF,YAAc,SAASrrB,EAAMC,GACpB,MAANA,IAAYA,EAAKl+D,KAAKopF,KAAO,GAEjC,IADA,IAAI35B,EAAQzvD,KAAKmpF,WACRvqF,EAAI6wD,EAAM5wD,OAAQD,KAAM,CAC7B,IAAIka,EAAQ22C,EAAM7wD,GAAG,GACrB,GAAIka,EAAM1R,IAAM62D,EACZ,MACAnlD,EAAM1R,GAAK82D,IACXplD,EAAMywE,QAAS,GAEvBvpF,KAAKkpF,WAAa,MAGtBlpF,KAAK6G,aAAe,SAASwiF,EAAK9wB,GAE9B,IADA,IAAI9I,EAAQzvD,KAAKknD,WACRtoD,EAAI6wD,EAAM5wD,OAAQD,KAAM,CAC7B,IAAI8E,EAAY+rD,EAAM7wD,GACtB,GAAI8E,EAAU2lF,IAAMA,EAGhB,OAFI9wB,IACA70D,EAAY+rD,EAAM7wD,EAAI,IACnB8E,IAKnB1D,KAAKwpF,YAAc,WACf,OAAOxpF,KAAKopF,MAGhBppF,KAAKypF,UAAY,SAASxrB,EAAMC,GAClB,MAANA,IAAYA,EAAKl+D,KAAKopF,KAAO,GAGjC,IAFA,IAAI35B,EAAQzvD,KAAKmpF,WACbhuD,EAAM,KAAMxZ,EAAQ,EACf/iB,EAAI6wD,EAAM5wD,OAAQD,KAAM,CAC7B,IAAIka,EAAQ22C,EAAM7wD,GAAG,GAGrB,GAFIka,EAAM1R,GAAK82D,IAAO/iC,IAClBA,EAAMv8B,EAAE,GACRka,EAAM1R,IAAM62D,EAAM,CAClBt8C,EAAQ/iB,EAAI,EACZ,OAGR,OAAO6wD,EAAMvpC,MAAMvE,EAAOwZ,IAG9Bn7B,KAAK0pF,iBAAmB,SAASzrB,EAAMC,GACzB,MAANA,IAAYA,EAAKl+D,KAAKopF,KAAO,IAIrCppF,KAAK2pF,gBAAkB,SAAS1rB,EAAMC,GACxB,MAANA,IAAYA,EAAKl+D,KAAKopF,KAAO,IAGrCppF,KAAK8oE,KAAO,SAAShlE,EAAS4oE,GAC1B1sE,KAAKkpF,WAAa,KAClB,IAAIz5B,EAAQzvD,KAAKmpF,WAEjB,GAsGR,SAA4B15B,EAAOzpD,GAC/B,IAAK,IAAIpH,EAAIoH,EAAKpH,KAAO,CACrB,IAAIgrF,EAAWn6B,EAAM7wD,GACrB,GAAIgrF,IAAaA,EAAS,GAAGL,OAAQ,CACjC,KAAM3qF,EAAIoH,EAAM,GAAG,CACf,IAAI6jF,EAAUC,EAAWr6B,EAAM7wD,GAAI6wD,EAAM7wD,EAAI,IAC7C6wD,EAAM7wD,GAAKirF,EAAQ,GACnBp6B,EAAM7wD,EAAI,GAAKirF,EAAQ,GACvBjrF,IAEJ,OAAO,IAhHNmrF,CAAmBt6B,EAAOA,EAAM5wD,QAArC,CAGKiF,IACDA,EAAU9D,KAAK8yD,UAEf9yD,KAAKgqF,oBAAsBhqF,KAAKopF,MAAQppF,KAAKipF,WAAWpqF,SACxDmB,KAAKipF,WAAa,IAEtBjpF,KAAKqoE,WAAY,EAEjB,IAAIuhB,EAAWn6B,EAAMp9C,MACjB43E,EAAqB,KASzB,OARIL,IACAK,EAAqBnmF,EAAQ2oE,YAAYmd,EAAUld,GACnD1sE,KAAKipF,WAAW7qF,KAAKwrF,GACrB5pF,KAAKkqF,YAGTlqF,KAAKqoE,WAAY,EAEV4hB,IAEXjqF,KAAK+oE,KAAO,SAASjlE,EAAS4oE,GAO1B,GANA1sE,KAAKkpF,WAAa,KAEbplF,IACDA,EAAU9D,KAAK8yD,UAEnB9yD,KAAKqoE,WAAY,EACbroE,KAAKgqF,mBAAqBhqF,KAAKopF,KAAM,CACrC,IAAIh2E,EAAOpT,KAAKypF,UAAUzpF,KAAKgqF,kBAAmBhqF,KAAKopF,KAAO,IAoV1E,SAAyBe,EAAWC,GAChC,IAAK,IAAIxrF,EAAI,EAAGA,EAAIwrF,EAAUvrF,OAAQD,IAElC,IADA,IAAI6+D,EAAS2sB,EAAUxrF,GACduZ,EAAI,EAAGA,EAAIslD,EAAO5+D,OAAQsZ,IAC/BkyE,EAAgBF,EAAW1sB,EAAOtlD,IAvVlCmyE,CAAgBtqF,KAAKipF,WAAY71E,GACjCpT,KAAKgqF,kBAAoBhqF,KAAKopF,KAC9BppF,KAAKipF,WAAW9oF,SAAQ,SAAS0Y,GAC7BA,EAAE,GAAGzR,KAAOpH,KAAK6oF,UAClB7oF,MAEP,IAAI4pF,EAAW5pF,KAAKipF,WAAW52E,MAC3Bk4E,EAAqB,KASzB,OAPIX,IACAW,EAAqBzmF,EAAQ+oE,YAAY+c,EAAUld,GACnD1sE,KAAKmpF,WAAW/qF,KAAKwrF,GACrB5pF,KAAKkqF,YAETlqF,KAAKqoE,WAAY,EAEVkiB,GAGXvqF,KAAKkqF,SAAW,WACZ,IAAIz6B,EAAQzvD,KAAKmpF,WACbqB,EAAY/6B,EAAMA,EAAM5wD,OAAS,GACjCuI,EAAKojF,GAAaA,EAAU,GAAGpjF,IAAM,EACzCpH,KAAKgqF,kBAAoB5iF,EACzBpH,KAAKopF,KAAOhiF,GAEhBpH,KAAKyoE,MAAQ,WACTzoE,KAAKkpF,WAAa,KAClBlpF,KAAK+oF,WAAa,KAClB/oF,KAAKmpF,WAAa,GAClBnpF,KAAKipF,WAAa,GAClBjpF,KAAKopF,KAAO,EACZppF,KAAKyqF,KAAO,EACZzqF,KAAKgqF,kBAAoBhqF,KAAKopF,KAC9BppF,KAAKknD,WAAa,IAEtBlnD,KAAK0qF,QAAU,WACX,OAAO1qF,KAAKmpF,WAAWtqF,OAAS,GAEpCmB,KAAK2qF,QAAU,WACX,OAAO3qF,KAAKipF,WAAWpqF,OAAS,GAEpCmB,KAAK4qF,SAAW,SAASvB,QACV5iF,GAAP4iF,IACAA,EAAMrpF,KAAKopF,MACfppF,KAAKyqF,KAAOpB,GAEhBrpF,KAAK6qF,aAAe,WAChB,OAAO7qF,KAAKopF,OAASppF,KAAKyqF,MAG9BzqF,KAAKiG,OAAS,aAIdjG,KAAKkG,SAAW,aAIhBlG,KAAK20C,QAAU30C,KAAK0qF,QACpB1qF,KAAKgpE,QAAUhpE,KAAK2qF,QACpB3qF,KAAK8qF,QAAU9qF,KAAK6qF,aACpB7qF,KAAK+qF,UAAY/qF,KAAK4qF,SAEtB5qF,KAAKgrF,aAAe,SAASlyE,GACzB,OAAIA,EAAcmyE,EAAenyE,GAC1BmyE,EAAejrF,KAAKmpF,YAAc,UAAY8B,EAAejrF,KAAKipF,eAE9E3rF,KAAKsrF,EAAYxrF,WAiBpB,IAAI2K,EAAQ9L,EAAQ,WAAW8L,MAC3ByzB,EAAMzzB,EAAMq1B,cACIr1B,EAAMq1B,cA4C1B,SAAS8/B,EAASl3D,GACd,MAAO,CAACi1B,IAAKj1B,EAAIi1B,IAAIC,OAAQl1B,EAAIk1B,QAUrC,SAAS+vD,EAAe7xE,GAEpB,GADAA,EAAIA,GAAKpZ,KACL2E,MAAMC,QAAQwU,GACd,OAAOA,EAAEnH,IAAIg5E,GAAgBplF,KAAK,MAEtC,IAAI8B,EAAO,GAiBX,OAhBIyR,EAAEo7B,QACF7sC,EAAmB,UAAZyR,EAAEo7B,OAAqB,IAAM,IACpC7sC,GAAQ,IAAMyR,EAAErF,MAAQ,KACjBqF,EAAE1d,QAELiM,EADAhD,MAAMC,QAAQwU,EAAE1d,OACT0d,EAAE1d,MAAMuW,IAAIi5E,GAAgBrlF,KAAK,MAEjCqlF,EAAe9xE,EAAE1d,QAG5B0d,EAAEuI,QACFha,GAAQujF,EAAe9xE,KAEvBA,EAAEhS,IAAMgS,EAAEiwE,OACV1hF,GAAQ,OAASyR,EAAEhS,IAAMgS,EAAEiwE,KAAO,KAE/B1hF,EAEX,SAASujF,EAAe99B,GACpB,OAAOA,EAAEzrC,MAAMsZ,IAAM,IAAMmyB,EAAEzrC,MAAMuZ,OAC7B,KAAOkyB,EAAEjyB,IAAIF,IAAM,IAAMmyB,EAAEjyB,IAAID,OAGzC,SAASymD,EAAKwJ,EAAIC,GACd,IAAIC,EAAkB,UAAbF,EAAG32C,OACR82C,EAAkB,UAAbF,EAAG52C,OAEZ,GAAI62C,GAAMC,EACN,GAAI9vD,EAAI4vD,EAAGzpE,MAAOwpE,EAAGhwD,MAAQ,EACzB3W,EAAM4mE,EAAID,GAAK,OACZ,MAAI3vD,EAAI4vD,EAAGzpE,MAAOwpE,EAAGxpE,QAAU,GAGlC,OAAO,KAFP6C,EAAM2mE,EAAIC,EAAI,QAIf,GAAIC,IAAOC,EACd,GAAI9vD,EAAI4vD,EAAGzpE,MAAOwpE,EAAGhwD,MAAQ,EACzB3W,EAAM4mE,EAAID,GAAK,OACZ,MAAI3vD,EAAI4vD,EAAGjwD,IAAKgwD,EAAGxpE,QAAU,GAGhC,OAAO,KAFP6C,EAAM2mE,EAAIC,GAAK,QAIhB,IAAKC,GAAMC,EACd,GAAI9vD,EAAI4vD,EAAGzpE,MAAOwpE,EAAGxpE,QAAU,EAC3B6C,EAAM4mE,EAAID,EAAI,OACX,MAAI3vD,EAAI4vD,EAAGzpE,MAAOwpE,EAAGxpE,QAAU,GAGlC,OAAO,KAFP6C,EAAM2mE,EAAIC,EAAI,QAIf,IAAKC,IAAOC,EACf,GAAI9vD,EAAI4vD,EAAGzpE,MAAOwpE,EAAGxpE,QAAU,EAC3B6C,EAAM4mE,EAAID,EAAI,OACX,MAAI3vD,EAAI4vD,EAAGjwD,IAAKgwD,EAAGxpE,QAAU,GAGhC,OAAO,KAFP6C,EAAM2mE,EAAIC,GAAK,GAKvB,MAAO,CAACA,EAAID,GAEhB,SAASrB,EAAWyB,EAAKC,GACrB,IAAK,IAAI5sF,EAAI2sF,EAAI1sF,OAAQD,KACrB,IAAK,IAAIuZ,EAAI,EAAGA,EAAIqzE,EAAI3sF,OAAQsZ,IAC5B,IAAKwpE,EAAK4J,EAAI3sF,GAAI4sF,EAAIrzE,IAAK,CACvB,KAAOvZ,EAAI2sF,EAAI1sF,QAAQ,CACnB,KAAOsZ,KACHwpE,EAAK6J,EAAIrzE,GAAIozE,EAAI3sF,IAErBuZ,EAAIqzE,EAAI3sF,OACRD,IAEJ,MAAO,CAAC2sF,EAAKC,GAMzB,OAFAD,EAAI5e,gBAAkB6e,EAAI7e,gBAC1B4e,EAAIze,eAAiB0e,EAAI1e,eAAiB,KACnC,CAAC0e,EAAKD,GAEjB,SAASE,EAAMN,EAAIO,GACf,IAAIL,EAAkB,UAAbF,EAAG32C,OACR82C,EAAkB,UAAbI,EAAGl3C,OAEZ,GAAI62C,GAAMC,EACF9vD,EAAI2vD,EAAGxpE,MAAO+pE,EAAG/pE,OAAS,EAC1B6C,EAAMknE,EAAIP,EAAI,GAEd3mE,EAAM2mE,EAAIO,EAAI,QAEf,GAAIL,IAAOC,EACV9vD,EAAI2vD,EAAGxpE,MAAO+pE,EAAGvwD,MAAQ,EACzB3W,EAAM2mE,EAAIO,GAAK,IACRlwD,EAAI2vD,EAAGxpE,MAAO+pE,EAAG/pE,QAAU,GAGlC6C,EAAM2mE,EAAIpjF,EAAM20B,WAAWgvD,EAAG/pE,MAAOwpE,EAAGxpE,QAAS,GAFjD6C,EAAMknE,EAAIP,EAAI,SAKf,IAAKE,GAAMC,EACV9vD,EAAIkwD,EAAG/pE,MAAOwpE,EAAGhwD,MAAQ,EACzB3W,EAAMknE,EAAIP,GAAK,IACR3vD,EAAIkwD,EAAG/pE,MAAOwpE,EAAGxpE,QAAU,GAGlC6C,EAAMknE,EAAI3jF,EAAM20B,WAAWyuD,EAAGxpE,MAAO+pE,EAAG/pE,QAAS,GAFjD6C,EAAM2mE,EAAIO,EAAI,SAKf,IAAKL,IAAOC,EACf,GAAI9vD,EAAIkwD,EAAG/pE,MAAOwpE,EAAGhwD,MAAQ,EACzB3W,EAAMknE,EAAIP,GAAK,OACZ,CAGH,IAAI7yB,EAAQC,EAHT,KAAI/8B,EAAIkwD,EAAGvwD,IAAKgwD,EAAGxpE,QAAU,GAoBhC,OAhBI6Z,EAAI2vD,EAAGxpE,MAAO+pE,EAAG/pE,OAAS,IAC1B22C,EAAS6yB,EACTA,EAAKQ,EAAWR,EAAIO,EAAG/pE,QAEvB6Z,EAAI2vD,EAAGhwD,IAAKuwD,EAAGvwD,KAAO,IACtBo9B,EAAQozB,EAAWR,EAAIO,EAAGvwD,MAG9BywD,EAASF,EAAGvwD,IAAKgwD,EAAGxpE,MAAOwpE,EAAGhwD,KAAM,GAChCo9B,IAAUD,IACV6yB,EAAGp3E,MAAQwkD,EAAMxkD,MACjBo3E,EAAGxpE,MAAQ42C,EAAM52C,MACjBwpE,EAAGhwD,IAAMo9B,EAAMp9B,IACfo9B,EAAQ4yB,GAGL,CAACO,EAAIpzB,EAAQC,GAAOr6D,OAAO2+C,SAnBlCr4B,EAAM2mE,EAAIO,GAAK,GAsBvB,MAAO,CAACA,EAAIP,GAGhB,SAAS3mE,EAAM2mE,EAAIC,EAAIrrC,GACnB6rC,EAAST,EAAGxpE,MAAOypE,EAAGzpE,MAAOypE,EAAGjwD,IAAK4kB,GACrC6rC,EAAST,EAAGhwD,IAAKiwD,EAAGzpE,MAAOypE,EAAGjwD,IAAK4kB,GAEvC,SAAS6rC,EAAS5lF,EAAK2b,EAAOwZ,EAAK4kB,GAC3B/5C,EAAIi1B,MAAe,GAAP8kB,EAAWp+B,EAAQwZ,GAAKF,MACpCj1B,EAAIk1B,QAAU6kB,GAAO5kB,EAAID,OAASvZ,EAAMuZ,SAE5Cl1B,EAAIi1B,KAAO8kB,GAAO5kB,EAAIF,IAAMtZ,EAAMsZ,KAEtC,SAAS0wD,EAAWpqC,EAAGv7C,GACnB,IAAI+N,EAAQwtC,EAAExtC,MACVonB,EAAMomB,EAAEpmB,IACZomB,EAAEpmB,IAAM+hC,EAASl3D,GACjB,IAAI6lF,EAAatqC,EAAEpmB,IAAIF,IAAMsmB,EAAE5/B,MAAMsZ,IACjC6wD,EAAa/3E,EAAMnO,OAAOimF,EAAY93E,EAAMlV,QAE5C+nD,EAAMilC,EAAa7lF,EAAIk1B,OAASl1B,EAAIk1B,OAASqmB,EAAE5/B,MAAMuZ,OASzD,OARAnnB,EAAM3V,KAAK0tF,EAAW,GAAG51E,UAAU,EAAG0wC,IACtCklC,EAAW,GAAKA,EAAW,GAAGnmC,OAAOiB,GAC1B,CACPjlC,MAAOu7C,EAASl3D,GAChBm1B,IAAKA,EACLpnB,MAAO+3E,EACPt3C,OAAQ+M,EAAE/M,QAKlB,SAAS61C,EAAgBF,EAAW/wE,GAChCA,EAtLJ,SAAoBA,GAChB,MAAO,CACHuI,MAAOu7C,EAAS9jD,EAAEuI,OAClBwZ,IAAK+hC,EAAS9jD,EAAE+hB,KAChBqZ,OAAQp7B,EAAEo7B,OACVzgC,MAAOqF,EAAErF,MAAMmS,SAiLf6lE,CAAW3yE,GACf,IAAK,IAAIjB,EAAIgyE,EAAUtrF,OAAQsZ,KAAM,CAEjC,IADA,IAAIyxE,EAAWO,EAAUhyE,GAChBvZ,EAAI,EAAGA,EAAIgrF,EAAS/qF,OAAQD,IAAK,CACtC,IACIotF,EAAUP,EADN7B,EAAShrF,GACMwa,GACvBA,EAAI4yE,EAAQ,GACU,GAAlBA,EAAQntF,SACJmtF,EAAQ,IACRpC,EAAShkF,OAAOhH,EAAI,EAAG,EAAGotF,EAAQ,GAAIA,EAAQ,IAC9CptF,KACQotF,EAAQ,KAChBpC,EAAShkF,OAAOhH,EAAG,GACnBA,MAIPgrF,EAAS/qF,QACVsrF,EAAUvkF,OAAOuS,EAAG,GAG5B,OAAOgyE,EAWX1uF,EAAQmtF,YAAcA,KAItB/+E,IAAIC,OAAO,kBAAkB,CAAC,UAAU,UAAU,SAAS,gBAAgB,SAAS7N,EAASR,EAASsO,GACtG,aAEA,IAAI41B,EAAM1jC,EAAQ,cAEdgwF,EAAQ,SAASliE,EAASmiE,GAC1BlsF,KAAK+pB,QAAUA,EACf/pB,KAAKksF,aAAeA,GAAgB,IACpClsF,KAAK+pB,QAAQthB,MAAMpC,OAA8B,EAApBrG,KAAKksF,aAAoB,KAEtDlsF,KAAKmsF,MAAQ,GACbnsF,KAAKosF,UAAY,GACjBpsF,KAAKqsF,mBAAqB,IAG9B,WAEIrsF,KAAKssF,cAAgB,SAAShwC,GAC1B3c,EAAI5S,UAAU/sB,KAAK+pB,QAAS,GAAMuyB,EAAOiwC,eAAiBjwC,EAAOvM,WAAc/vC,KAAKksF,aAAgB5vC,EAAOzd,OAAS7+B,KAAKqsF,qBAG7HrsF,KAAKwsF,YAAc,SAASC,EAAWC,GACnC,OACIn0E,KAAK2C,MAAOuxE,EAAUF,eAAiBE,EAAU18C,WAAc/vC,KAAKksF,gBACpE3zE,KAAK2C,MAAOwxE,EAAUH,eAAiBG,EAAU38C,WAAc/vC,KAAKksF,eAI5ElsF,KAAK2sF,eAAiB,SAAS1xD,EAAKqhB,EAAQx4C,GACxC,IAAI8oF,EAAYtwC,EAAOiwC,eAAiBjwC,EAAOvM,WAC3C88C,EAAat0E,KAAK2C,MAAM0xE,EAAY5sF,KAAKksF,cAE7C,OADcpoF,EAAQuqC,oBAAoBpT,EAAK,GAAKqhB,EAAOvM,WACzC88C,EAAa7sF,KAAKksF,cAGxClsF,KAAK8sF,kBAAoB,SAAS7xD,EAAKqhB,EAAQx4C,GAC3C,OAAOw4C,EAAOvM,WAAajsC,EAAQssE,gBAAgBn1C,IAGvDj7B,KAAKiuC,UAAY,WACb,OAAOjuC,KAAKmsF,MAAMttF,QAGtBmB,KAAKpE,IAAM,SAAS8J,GAChB,OAAO1F,KAAKmsF,MAAMzmF,IAGtB1F,KAAKwkB,MAAQ,WACTxkB,KAAK+sF,WAAW/sF,KAAKmsF,MAAM3nE,UAG/BxkB,KAAKqS,IAAM,WACPrS,KAAK+sF,WAAW/sF,KAAKmsF,MAAM95E,QAG/BrS,KAAK5B,KAAO,SAAS4uF,GACjB,GAAIroF,MAAMC,QAAQooF,GAAO,CACrBhtF,KAAKmsF,MAAM/tF,KAAKC,MAAM2B,KAAKmsF,MAAOa,GAElC,IADA,IAAIC,EAAWttD,EAAIxV,eAAenqB,KAAK+pB,SAC9BnrB,EAAE,EAAGA,EAAEouF,EAAKnuF,OAAQD,IACzBquF,EAASzhF,YAAYwhF,EAAKpuF,GAAGmrB,SAEjC/pB,KAAK+pB,QAAQve,YAAYyhF,QAEzBjtF,KAAKmsF,MAAM/tF,KAAK4uF,GAChBhtF,KAAK+pB,QAAQve,YAAYwhF,EAAKjjE,UAItC/pB,KAAKuW,QAAU,SAASy2E,GACpB,GAAIroF,MAAMC,QAAQooF,GAAO,CACrBhtF,KAAKmsF,MAAM51E,QAAQlY,MAAM2B,KAAKmsF,MAAOa,GAErC,IADA,IAAIC,EAAWttD,EAAIxV,eAAenqB,KAAK+pB,SAC9BnrB,EAAE,EAAGA,EAAEouF,EAAKnuF,OAAQD,IACzBquF,EAASzhF,YAAYwhF,EAAKpuF,GAAGmrB,SAE7B/pB,KAAK+pB,QAAQqB,WACbprB,KAAK+pB,QAAQoB,aAAa8hE,EAAUjtF,KAAK+pB,QAAQqB,YAEjDprB,KAAK+pB,QAAQve,YAAYyhF,QAE7BjtF,KAAKmsF,MAAM51E,QAAQy2E,GACnBhtF,KAAK+pB,QAAQmjE,sBAAsB,aAAcF,EAAKjjE,UAI9D/pB,KAAKu9B,KAAO,WACR,OAAIv9B,KAAKmsF,MAAMttF,OACJmB,KAAKmsF,MAAMnsF,KAAKmsF,MAAMttF,OAAO,GAE7B,MAGfmB,KAAK+sF,WAAa,SAASC,GAClBA,IAGLA,EAAKjjE,QAAQtD,SACbzmB,KAAKosF,UAAUhuF,KAAK4uF,KAGxBhtF,KAAKmtF,WAAa,SAASlyD,EAAKqhB,EAAQx4C,EAASspF,GAC7C,IAAIJ,EAAOhtF,KAAKosF,UAAU/5E,MAC1B,IAAK26E,EAAM,CACP,IAAIjjE,EAAU4V,EAAIj3B,cAAc,OAC5B0kF,GACAA,EAAYrjE,GAEhB/pB,KAAK+pB,QAAQve,YAAYue,GAEzBijE,EAAO,CACHjjE,QAASA,EACTjjB,KAAM,GACNm0B,IAAKA,GAKb,OAFA+xD,EAAK/xD,IAAMA,EAEJ+xD,KAGZ1vF,KAAK2uF,EAAM7uF,WAEd3B,EAAQwwF,MAAQA,KAIhBpiF,IAAIC,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,eAAe,wBAAwB,oBAAoB,SAAS7N,EAASR,EAASsO,GAC9K,aAEA,IAAI41B,EAAM1jC,EAAQ,cACd+N,EAAM/N,EAAQ,cACd2jC,EAAO3jC,EAAQ,eACfgO,EAAehO,EAAQ,wBAAwBgO,aAC/CgiF,EAAQhwF,EAAQ,WAAWgwF,MAE3BoB,EAAS,SAASC,GAClBttF,KAAK+pB,QAAU4V,EAAIj3B,cAAc,OACjC1I,KAAK+pB,QAAQhpB,UAAY,6BACzBusF,EAAS9hF,YAAYxL,KAAK+pB,SAC1B/pB,KAAKqhF,mBAAmBrhF,KAAKutF,kBAE7BvtF,KAAKwtF,YAAc,EAEnBxtF,KAAKguC,aAAe,GACpBhuC,KAAKytF,mBAAqBztF,KAAKytF,mBAAmBptF,KAAKL,MAEvDA,KAAK87D,OAAS,IAAImwB,EAAMjsF,KAAK+pB,SAC7B/pB,KAAK87D,OAAOuwB,mBAAqB,GAgYrC,SAASqB,EAAa3jE,GAClB,IAAI4jE,EAAWriF,SAAS2d,eAAe,IACvCc,EAAQve,YAAYmiF,GAEpB,IAAIC,EAAajuD,EAAIj3B,cAAc,QAGnC,OAFAqhB,EAAQve,YAAYoiF,GAEb7jE,GApYX,WAEI/f,EAAImB,UAAUnL,KAAMiK,GAEpBjK,KAAK6N,WAAa,SAAS/J,GACnB9D,KAAK8D,SACL9D,KAAK8D,QAAQqhC,IAAI,SAAUnlC,KAAKytF,oBACpCztF,KAAK8D,QAAUA,EACXA,GACAA,EAAQV,GAAG,SAAUpD,KAAKytF,qBAGlCztF,KAAK4pE,oBAAsB,SAAS3uC,EAAKl6B,GACjCikB,OAAOxgB,SACPA,QAAQC,MAAQD,QAAQC,KAAK,8CACjCzE,KAAK8D,QAAQ8lE,oBAAoB3uC,EAAKl6B,IAG1Cf,KAAK6pE,uBAAyB,SAAS5uC,EAAKl6B,GACpCikB,OAAOxgB,SACPA,QAAQC,MAAQD,QAAQC,KAAK,iDACjCzE,KAAK8D,QAAQ+lE,uBAAuB5uC,EAAKl6B,IAG7Cf,KAAKgE,eAAiB,SAAShC,GAC3BhC,KAAKguC,aAAe,GACpB,IAAK,IAAIpvC,EAAI,EAAGA,EAAIoD,EAAYnD,OAAQD,IAAK,CACzC,IAAImvC,EAAa/rC,EAAYpD,GACzBq8B,EAAM8S,EAAW9S,IACjB4yD,EAAU7tF,KAAKguC,aAAa/S,GAC3B4yD,IACDA,EAAU7tF,KAAKguC,aAAa/S,GAAO,CAACn0B,KAAM,KAE9C,IAAIgnF,EAAW//C,EAAWjnC,KAC1BgnF,EAAWA,EAAWluD,EAAKnB,WAAWqvD,GAAY//C,EAAWzuB,MAAQ,IAE7B,IAApCuuE,EAAQ/mF,KAAKnB,QAAQmoF,IACrBD,EAAQ/mF,KAAK1I,KAAK0vF,GAEtB,IAAInmF,EAAOomC,EAAWpmC,KACV,SAARA,EACAkmF,EAAQ9sF,UAAY,aACP,WAAR4G,GAA0C,cAArBkmF,EAAQ9sF,UAClC8sF,EAAQ9sF,UAAY,eACP,QAAR4G,GAAoBkmF,EAAQ9sF,YACjC8sF,EAAQ9sF,UAAY,eAIhCf,KAAKytF,mBAAqB,SAAU30E,GAChC,GAAK9Y,KAAKguC,aAAanvC,OAAvB,CAEA,IAAI29B,EAAW1jB,EAAM6I,MAAMsZ,IACvBgmB,EAAMnoC,EAAMqiB,IAAIF,IAAMuB,EAC1B,GAAY,IAARykB,QACG,GAAoB,UAAhBnoC,EAAM07B,OACbx0C,KAAKguC,aAAapoC,OAAO42B,EAAUykB,EAAM,EAAG,UACzC,CACH,IAAIruC,EAAO,IAAIjO,MAAMs8C,EAAM,GAC3BruC,EAAK2D,QAAQimB,EAAU,GACvBx8B,KAAKguC,aAAapoC,OAAOvH,MAAM2B,KAAKguC,aAAcp7B,MAI1D5S,KAAKy/D,OAAS,SAASnjB,GACnBt8C,KAAKs8C,OAASA,EAEd,IAAIx4C,EAAU9D,KAAK8D,QACf04B,EAAW8f,EAAO9f,SAClBC,EAAUlkB,KAAK9K,IAAI6uC,EAAO7f,QAAU6f,EAAOyxC,aAC3CjqF,EAAQmqC,YAAc,GAE1BjuC,KAAKguF,WAAavxD,EAClBz8B,KAAKs8C,OAASA,EAEdt8C,KAAK87D,OAAOwwB,cAAchwC,GAC1Bt8C,KAAKiuF,mBASL,IAPA,IAAI7vC,EAAOt6C,EAAQs/D,gBAAgB5mC,GAC/B+vC,EAAYnuB,EAAOA,EAAKz8B,MAAMsZ,IAAM48B,IAEpCm1B,EAAO,KACPtnF,GAAS,EACTu1B,EAAMuB,IAEG,CAMT,GALIvB,EAAMsxC,IACNtxC,EAAMmjB,EAAKjjB,IAAIF,IAAM,EAErBsxC,GADAnuB,EAAOt6C,EAAQs/D,gBAAgBnoC,EAAKmjB,IACjBA,EAAKz8B,MAAMsZ,IAAM48B,KAEpC58B,EAAMwB,EAAS,CACf,KAAOz8B,KAAK87D,OAAO7tB,YAAcvoC,EAAQ,GACrC1F,KAAK87D,OAAOzpD,MAEhB,OAGJ26E,EAAOhtF,KAAK87D,OAAOlgE,MAAM8J,IAErBsnF,EAAK/xD,IAAMA,GAEX+xD,EAAOhtF,KAAK87D,OAAOqxB,WAAWlyD,EAAKqhB,EAAQt8C,KAAK8D,QAAS4pF,GACzD1tF,KAAK87D,OAAO19D,KAAK4uF,IAGrBhtF,KAAKkuF,YAAYlB,EAAM1wC,EAAQ8B,EAAMnjB,GACrCA,IAGJj7B,KAAK2lC,QAAQ,eACb3lC,KAAKmuF,mBAAmB7xC,IAG5Bt8C,KAAKmuF,mBAAqB,SAAS7xC,GAC/B,IAAIx4C,EAAU9D,KAAK8D,QAEfsqF,EAAiBtqF,EAAQsqF,gBAAkBpuF,KAAK2oF,UAEhD/W,EAAkB9tE,EAAQuqF,iBAC1BC,EAAetuF,KAAK87D,OAAOv+B,OAASv9B,KAAK87D,OAAOv+B,OAAOz2B,KAAO,IAE9D9G,KAAKuuF,aAAezqF,EAAQuhD,gBAC5BipC,EAAexqF,EAAQmqC,YAAc2jC,EAAkB,GAE3D,IAAI4b,EAAcY,EACZA,EAAexhD,SAAS9oC,EAASwqF,EAAchyC,GAC/CgyC,EAAav+E,WAAWlR,OAASy9C,EAAO/V,eAE1CpkB,EAAUniB,KAAKwuF,UAAYxuF,KAAKyuF,mBACpCjB,GAAerrE,EAAQ7T,KAAO6T,EAAQxO,SAClB3T,KAAKwtF,aAAgB7sE,MAAM6sE,KAC3CxtF,KAAKwtF,YAAcA,EACnBxtF,KAAK+pB,QAAQrD,WAAWje,MAAMnC,MAC9BtG,KAAK+pB,QAAQthB,MAAMnC,MAAQiS,KAAKC,KAAKxY,KAAKwtF,aAAe,KACzDxtF,KAAK2lC,QAAQ,oBAAqB6nD,KAI1CxtF,KAAKiuF,iBAAmB,WACpB,GAAKjuF,KAAK0uF,qBAAV,CAGA,IAAI7iE,EAAW7rB,KAAK8D,QAAQJ,UAAU0kD,YAClCpoD,KAAK2uF,aAAe9iE,EAASoP,MAGjCj7B,KAAK2uF,WAAa9iE,EAASoP,OAG/Bj7B,KAAK4uF,oBAAsB,WACvB,GAAK5uF,KAAK0uF,qBAAV,CAEA,IAAIzzD,EAAMj7B,KAAK8D,QAAQJ,UAAUkQ,OAAOqnB,IAGxC,GAFAj7B,KAAK2uF,WAAa1zD,GAEdj7B,KAAK6uF,aAAe7uF,KAAK6uF,YAAY5zD,KAAOA,EAAhD,CAEIj7B,KAAK6uF,cACL7uF,KAAK6uF,YAAY9kE,QAAQhpB,UAAYf,KAAK6uF,YAAY9kE,QAAQhpB,UAAUoP,QAAQ,0BAA2B,KAC/G,IAAIg8E,EAAQnsF,KAAK87D,OAAOqwB,MACxBnsF,KAAK6uF,YAAc,KACnB,IAAK,IAAIjwF,EAAI,EAAGA,EAAIutF,EAAMttF,OAAQD,IAAK,CACnC,IAAIouF,EAAOb,EAAMvtF,GACjB,GAAIouF,EAAK/xD,KAAOj7B,KAAK2uF,WAAY,CAC7B,GAAI3B,EAAK/xD,IAAMj7B,KAAK2uF,WAAY,CAC5B,IAAIvwC,EAAOp+C,KAAK8D,QAAQgnD,YAAY9qD,KAAK2uF,YACzC,KAAI/vF,EAAI,GAAKw/C,GAAQA,EAAKz8B,MAAMsZ,KAAOkxD,EAAMvtF,EAAI,GAAGq8B,KAGhD,MAFA+xD,EAAOb,EAAMvtF,EAAI,GAIzBouF,EAAKjjE,QAAQhpB,UAAY,0BAA4BisF,EAAKjjE,QAAQhpB,UAClEf,KAAK6uF,YAAc7B,EACnB,WAKZhtF,KAAK8uF,YAAc,SAASxyC,GACxB,IAAImwC,EAAYzsF,KAAKs8C,OAIrB,GAHAt8C,KAAKs8C,OAASA,EAEdt8C,KAAKiuF,mBACDjuF,KAAK87D,OAAO0wB,YAAYC,EAAWnwC,GACnC,OAAOt8C,KAAKy/D,OAAOnjB,GAEvBt8C,KAAK87D,OAAOwwB,cAAchwC,GAE1B,IAAI7f,EAAUlkB,KAAK9K,IAAI6uC,EAAO7f,QAAU6f,EAAOyxC,aAC3C/tF,KAAK8D,QAAQmqC,YAAc,GAC3B+/C,EAAahuF,KAAKguF,WAGtB,GAFAhuF,KAAKguF,WAAavxD,GAEbgwD,GAAauB,EAAa1xC,EAAO9f,SAClC,OAAOx8B,KAAKy/D,OAAOnjB,GAEvB,GAAI7f,EAAUgwD,EAAUjwD,SACpB,OAAOx8B,KAAKy/D,OAAOnjB,GAEvB,GAAImwC,EAAUjwD,SAAW8f,EAAO9f,SAC5B,IAAK,IAAIvB,EAAIj7B,KAAK8D,QAAQu/D,kBAAkBopB,EAAUjwD,SAAU8f,EAAO9f,SAAW,GAAIvB,EAAI,EAAGA,IACzFj7B,KAAK87D,OAAOt3C,QAEpB,GAAIwpE,EAAavxD,EACb,IAASxB,EAAIj7B,KAAK8D,QAAQu/D,kBAAkB5mC,EAAU,EAAGuxD,GAAa/yD,EAAI,EAAGA,IACzEj7B,KAAK87D,OAAOzpD,MAEhBiqC,EAAO9f,SAAWiwD,EAAUjwD,UAC5Bx8B,KAAK87D,OAAOvlD,QAAQvW,KAAK+uF,aAAazyC,EAAQA,EAAO9f,SAAUiwD,EAAUjwD,SAAW,IAGpFC,EAAUuxD,GACVhuF,KAAK87D,OAAO19D,KAAK4B,KAAK+uF,aAAazyC,EAAQ0xC,EAAa,EAAGvxD,IAG/Dz8B,KAAK4uF,sBAEL5uF,KAAK2lC,QAAQ,eACb3lC,KAAKmuF,mBAAmB7xC,IAG5Bt8C,KAAK+uF,aAAe,SAASzyC,EAAQ9f,EAAUC,GAM3C,IALA,IAAIwwD,EAAW,GACXhyD,EAAMuB,EACNquB,EAAW7qD,KAAK8D,QAAQs/D,gBAAgBnoC,GACxCsxC,EAAY1hB,EAAWA,EAASlpC,MAAMsZ,IAAM48B,IAGxC58B,EAAMsxC,IACNtxC,EAAM4vB,EAAS1vB,IAAIF,IAAI,EAEvBsxC,GADA1hB,EAAW7qD,KAAK8D,QAAQs/D,gBAAgBnoC,EAAK4vB,IACtBA,EAASlpC,MAAMsZ,IAAM48B,OAE5C58B,EAAMwB,IAND,CAST,IAAIuwD,EAAOhtF,KAAK87D,OAAOqxB,WAAWlyD,EAAKqhB,EAAQt8C,KAAK8D,QAAS4pF,GAC7D1tF,KAAKkuF,YAAYlB,EAAM1wC,EAAQuO,EAAU5vB,GACzCgyD,EAAS7uF,KAAK4uF,GAEd/xD,IAEJ,OAAOgyD,GAGXjtF,KAAKkuF,YAAc,SAASlB,EAAM1wC,EAAQ8B,EAAMnjB,GAC5C,IAAIlR,EAAUijE,EAAKjjE,QAEfjmB,EAAU9D,KAAK8D,QAEf6pF,EAAW5jE,EAAQilE,WAAW,GAC9BpB,EAAa7jE,EAAQilE,WAAW,GAEhCpd,EAAkB9tE,EAAQuqF,iBAE1BY,EAAcnrF,EAAQsjE,aACtB8nB,EAAcprF,EAAQujE,aACtB+mB,EAAiBtqF,EAAQsqF,gBAAkBpuF,KAAK2oF,UAChDnqC,EAAcx+C,KAAKutF,kBAAoBzpF,EAAQ06C,YAC/C+tB,EAAYnuB,EAAOA,EAAKz8B,MAAMsZ,IAAMxlB,OAAOC,UAE3C3U,EAAY,mBAqBhB,GApBIf,KAAK0uF,uBACDzzD,GAAOj7B,KAAK2uF,YAAevwC,GAAQnjB,EAAMj7B,KAAK2uF,YAAc1zD,GAAOsxC,GAAcvsE,KAAK2uF,YAAcvwC,EAAKjjB,IAAIF,OAC7Gl6B,GAAa,0BACTf,KAAK6uF,aAAe7B,IAChBhtF,KAAK6uF,cACL7uF,KAAK6uF,YAAY9kE,QAAQhpB,UAAYf,KAAK6uF,YAAY9kE,QAAQhpB,UAAUoP,QAAQ,0BAA2B,KAC/GnQ,KAAK6uF,YAAc7B,IAK3BiC,EAAYh0D,KACZl6B,GAAakuF,EAAYh0D,IACzBi0D,EAAYj0D,KACZl6B,GAAamuF,EAAYj0D,IACzBj7B,KAAKguC,aAAa/S,KAClBl6B,GAAaf,KAAKguC,aAAa/S,GAAKl6B,WACpCgpB,EAAQhpB,WAAaA,IACrBgpB,EAAQhpB,UAAYA,GAEpBy9C,EAAa,CACb,IAAI+C,EAAI/C,EAAYvjB,GACX,MAALsmB,IACAA,EAAI/C,EAAYvjB,GAAOn3B,EAAQqhE,cAAclqC,IAGrD,GAAIsmB,EAAG,CACCxgD,EAAY,uBAAyBwgD,EAChC,SAALA,GAAgBtmB,GAAOsxC,GAAatxC,EAAMmjB,EAAKjjB,IAAIF,IACnDl6B,GAAa,cAEbA,GAAa,YACb6sF,EAAW7sF,WAAaA,IACxB6sF,EAAW7sF,UAAYA,GAE3B,IAAIouF,EAAa7yC,EAAOvM,WAAa,KACrCpQ,EAAItT,SAASuhE,EAAWnlF,MAAO,SAAU0mF,GACzCxvD,EAAItT,SAASuhE,EAAWnlF,MAAO,UAAW,qBAEtCmlF,GACAjuD,EAAItT,SAASuhE,EAAWnlF,MAAO,UAAW,QAIlD,IAAI3B,GAAQsnF,EACNA,EAAe3F,QAAQ3kF,EAASm3B,GAChCA,EAAM22C,GAAiB7hE,WAU7B,OARIjJ,IAAS6mF,EAASz7E,OAClBy7E,EAASz7E,KAAOpL,GAGpB64B,EAAItT,SAAS2gE,EAAKjjE,QAAQthB,MAAO,SAAUzI,KAAK87D,OAAOgxB,kBAAkB7xD,EAAKqhB,EAAQx4C,GAAW,MACjG67B,EAAItT,SAAS2gE,EAAKjjE,QAAQthB,MAAO,MAAOzI,KAAK87D,OAAO6wB,eAAe1xD,EAAKqhB,EAAQx4C,GAAW,MAE3FkpF,EAAKlmF,KAAOA,EACLkmF,GAGXhtF,KAAKuuF,aAAc,EAEnBvuF,KAAK0uF,sBAAuB,EAC5B1uF,KAAK2oF,UAAY,GACjB3oF,KAAKqgF,uBAAyB,SAASwH,GACnC7nF,KAAK0uF,qBAAuB7G,GAGhC7nF,KAAKqnF,kBAAmB,EACxBrnF,KAAK2oF,UAAY,GACjB3oF,KAAK+mF,mBAAqB,SAASv6C,GAC/BxsC,KAAK2oF,WAAan8C,GAAQ,CACtBI,SAAU,WAAY,OAAO,GAC7B67C,QAAS,WAAY,MAAO,MAIpCzoF,KAAKovF,mBAAqB,WACtB,OAAOpvF,KAAKqnF,kBAGhBrnF,KAAKutF,kBAAmB,EACxBvtF,KAAKqhF,mBAAqB,SAAS70C,GAC3BA,EACA7M,EAAIrV,YAAYtqB,KAAK+pB,QAAS,uBAE9B4V,EAAIpV,eAAevqB,KAAK+pB,QAAS,uBAErC/pB,KAAKutF,iBAAmB/gD,EACxBxsC,KAAKwuF,SAAW,MAGpBxuF,KAAKshF,mBAAqB,WACtB,OAAOthF,KAAKutF,kBAGhBvtF,KAAKyuF,gBAAkB,WACnB,IAAKzuF,KAAK+pB,QAAQqB,WACd,MAAO,CAAC9c,KAAM,EAAGqF,MAAO,GAC5B,IAAIlL,EAAQk3B,EAAIxT,cAAcnsB,KAAK+pB,QAAQqB,YAM3C,OALAprB,KAAKwuF,SAAW,GAChBxuF,KAAKwuF,SAASlgF,MAAQoS,SAASjY,EAAMi+B,kBAAoB,IAClDhmB,SAASjY,EAAM4mF,cAAgB,GAAK,EAC3CrvF,KAAKwuF,SAAS76E,OAAS+M,SAASjY,EAAM6mF,mBAAqB,IACpD5uE,SAASjY,EAAM8mF,eAAiB,GAChCvvF,KAAKwuF,UAGhBxuF,KAAK2tC,UAAY,SAASwtB,GACtB,IAAIh5C,EAAUniB,KAAKwuF,UAAYxuF,KAAKyuF,kBAChCjoD,EAAOxmC,KAAK+pB,QAAQ2X,wBACxB,OAAIy5B,EAAMtiD,EAAIsJ,EAAQ7T,KAAOk4B,EAAKl4B,KACvB,UACPtO,KAAKutF,kBAAoBpyB,EAAMtiD,EAAI2tB,EAAK7yB,MAAQwO,EAAQxO,MACjD,mBADX,KAILrW,KAAK+vF,EAAOjwF,WAYf3B,EAAQ4xF,OAASA,KAIjBxjF,IAAIC,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,YAAY,gBAAgB,SAAS7N,EAASR,EAASsO,GACnH,aAEA,IAAIhC,EAAQ9L,EAAQ,YAAY8L,MAC5B43B,EAAM1jC,EAAQ,cAEduzF,EAAS,SAASlC,GAClBttF,KAAK+pB,QAAU4V,EAAIj3B,cAAc,OACjC1I,KAAK+pB,QAAQhpB,UAAY,6BACzBusF,EAAS9hF,YAAYxL,KAAK+pB,WAG9B,WAEI/pB,KAAKwuF,SAAW,EAEhBxuF,KAAKyvF,WAAa,SAASttE,GACvBniB,KAAKwuF,SAAWrsE,GAEpBniB,KAAK6N,WAAa,SAAS/J,GACvB9D,KAAK8D,QAAUA,GAGnB9D,KAAK0vF,WAAa,SAASztF,GACvBjC,KAAKiC,QAAUA,GAGnBjC,KAAK2vF,IAAM,SAAS5uF,EAAW6uF,GAC3B,IAAI/2E,GAAe,GAAX7Y,KAAKpB,GAAWoB,KAAK+pB,QAAQilE,WAAWhvF,KAAKpB,GAChDia,EAKD7Y,KAAKpB,KAJLia,EAAIvN,SAAS5C,cAAc,OAC3B1I,KAAK+pB,QAAQve,YAAYqN,GACzB7Y,KAAKpB,GAAK,GAIdia,EAAEpQ,MAAM8C,QAAUqkF,EAClB/2E,EAAE9X,UAAYA,GAGlBf,KAAKy/D,OAAS,SAASnjB,GACnB,GAAKA,EAAL,CAKA,IAAIh9B,EACJ,IAAK,IAAIniB,KAJT6C,KAAKs8C,OAASA,EAEdt8C,KAAKpB,EAAI,EAEOoB,KAAKiC,QAAS,CAC1B,IAAIgoE,EAASjqE,KAAKiC,QAAQ9E,GAE1B,GAAK8sE,EAAOniE,MAAZ,CAKA,IAAIA,EAAQmiE,EAAOniE,MAAMy0B,SAAS+f,EAAO9f,SAAU8f,EAAO7f,SAC1D,IAAI30B,EAAM80B,UAGV,GADA90B,EAAQA,EAAMi1B,cAAc/8B,KAAK8D,SAC7BmmE,EAAOznE,SAAU,CACjB,IAAI6L,EAAMrO,KAAK6vF,QAAQ/nF,EAAM6Z,MAAMsZ,IAAKqhB,GACpChuC,EAAOtO,KAAKwuF,SAAW1mF,EAAM6Z,MAAMuZ,OAASohB,EAAO/V,eACvD0jC,EAAOznE,SAAS8c,EAAMxX,EAAOwG,EAAMD,EAAKiuC,OAClB,YAAf2tB,EAAOtiE,KACd3H,KAAK8vF,mBAAmBxwE,EAAMxX,EAAOmiE,EAAO3K,MAAOhjB,GAC7B,cAAf2tB,EAAOtiE,KACd3H,KAAK+vF,qBAAqBzwE,EAAMxX,EAAOmiE,EAAO3K,MAAOhjB,GAC9Cx0C,EAAMq0B,cACM,QAAf8tC,EAAOtiE,KACP3H,KAAKgwF,eAAe1wE,EAAMxX,EAAOmiE,EAAO3K,MAAOhjB,GAE/Ct8C,KAAKiwF,oBAAoB3wE,EAAMxX,EAAOmiE,EAAO3K,MAAOhjB,GAExDt8C,KAAK2/D,qBAAqBrgD,EAAMxX,EAAOmiE,EAAO3K,MAAP2K,sBAA2C3tB,QAtBlF2tB,EAAOxK,OAAOngD,EAAMtf,KAAMA,KAAK8D,QAASw4C,GAyBhD,IAAc,GAAVt8C,KAAKpB,EACL,KAAOoB,KAAKpB,EAAIoB,KAAK+pB,QAAQmmE,mBACzBlwF,KAAK+pB,QAAQpe,YAAY3L,KAAK+pB,QAAQomE,aAIlDnwF,KAAK6vF,QAAU,SAAS50D,EAAK+U,GACzB,OAAQ/U,EAAM+U,EAAYu8C,gBAAkBv8C,EAAYD,YAM5D/vC,KAAKgwF,eAAiB,SAASI,EAAetoF,EAAOw3D,EAAOtvB,EAAaqgD,GASrE,IARA,IAAIvsF,EAAU9D,KAAK8D,QACf6d,EAAQ7Z,EAAM6Z,MAAMsZ,IACpBE,EAAMrzB,EAAMqzB,IAAIF,IAChBA,EAAMtZ,EACNs4D,EAAO,EACPqW,EAAO,EACPlgC,EAAOtsD,EAAQwsE,uBAAuBr1C,GACtCs1D,EAAY,IAAIxoF,EAAMkzB,EAAKnzB,EAAM6Z,MAAMuZ,OAAQD,EAAKq1D,GACjDr1D,GAAOE,EAAKF,IACfs1D,EAAU5uE,MAAMsZ,IAAMs1D,EAAUp1D,IAAIF,IAAMA,EAC1Cs1D,EAAU5uE,MAAMuZ,OAASD,GAAOtZ,EAAQ7Z,EAAM6Z,MAAMuZ,OAASp3B,EAAQusE,iBAAiBp1C,GACtFs1D,EAAUp1D,IAAID,OAASk1B,EACvB6pB,EAAOqW,EACPA,EAAOlgC,EACPA,EAAOn1B,EAAM,EAAIE,EAAMr3B,EAAQwsE,uBAAuBr1C,EAAM,GAAKA,GAAOE,EAAM,EAAIrzB,EAAMqzB,IAAID,OAC5Fl7B,KAAK2/D,qBAAqBywB,EAAeG,EACrCjxB,GAASrkC,GAAOtZ,EAAS,aAAe,IAAM,YACzBsZ,GAAOtZ,GAASsZ,GAAOtZ,EAAQ,GAAK7Z,EAAM6Z,MAAMuZ,OApBhE,EAAI,IAoBoE++C,EAAOqW,EApBhE,EAAI,IAoBkEA,EAAOlgC,EApB9D,EAAI,IAoBgEn1B,GAAOE,EApB5D,EAAI,IAqBtD6U,EAAa/U,GAAOE,EAAM,EAAI,EAAGk1D,IAG7CrwF,KAAKiwF,oBAAsB,SAASG,EAAetoF,EAAOw3D,EAAOhjB,EAAQ+zC,GACrE,IAAIluE,EAAUniB,KAAKwuF,SACfnoF,EAASi2C,EAAOvM,WAChB1hC,EAAMrO,KAAK6vF,QAAQ/nF,EAAM6Z,MAAMsZ,IAAKqhB,GACpChuC,EAAO6T,EAAUra,EAAM6Z,MAAMuZ,OAASohB,EAAO/V,gBACjD8pD,EAAaA,GAAc,GAEvBrwF,KAAK8D,QAAQ2iD,aAAalC,UAAUz8C,EAAM6Z,MAAMsZ,QAC7Cu1D,EAAS1oF,EAAM+0B,SACZ1B,IAAIF,IAAMu1D,EAAO7uE,MAAMsZ,IAC9Bu1D,EAAOr1D,IAAID,OAASl7B,KAAK8D,QAAQ8+B,QAAQ4tD,EAAO7uE,MAAMsZ,KAAKp8B,OAC3DmB,KAAKywF,yBAAyBL,EAAeI,EAAQlxB,EAAQ,qBAAsBhjB,EAAQ,KAAM+zC,IAEhGrwF,KAAK2vF,IACDrwB,EAAQ,qBACR,UAAWj5D,EAAX,kBAA6CgI,EAAK,WAAYC,EAAM,OAAS+hF,GAAc,KAGnG,GAAIrwF,KAAK8D,QAAQ2iD,aAAalC,UAAUz8C,EAAMqzB,IAAIF,KAAM,CACrD,IAAIu1D,KAAS1oF,EAAM+0B,SACZlb,MAAMsZ,IAAMu1D,EAAOr1D,IAAIF,IAC9Bu1D,EAAO7uE,MAAMuZ,OAAS,EACtBl7B,KAAKywF,yBAAyBL,EAAeI,EAAQlxB,EAAQ,YAAahjB,EAAQ,KAAM+zC,OACpF,CACHhiF,EAAMrO,KAAK6vF,QAAQ/nF,EAAMqzB,IAAIF,IAAKqhB,GAClC,IAAIh2C,EAAQwB,EAAMqzB,IAAID,OAASohB,EAAO/V,eAEtCvmC,KAAK2vF,IACDrwB,EAAQ,YACR,UAAWj5D,EAAX,YACUC,EADV,UAEQ+H,EAFR,WAGS8T,EAAS,OAAQkuE,GAAc,KAIhD,MADAhqF,GAAUyB,EAAMqzB,IAAIF,IAAMnzB,EAAM6Z,MAAMsZ,IAAM,GAAKqhB,EAAOvM,aAC1C,GAAd,CAEA1hC,EAAMrO,KAAK6vF,QAAQ/nF,EAAM6Z,MAAMsZ,IAAM,EAAGqhB,GAExC,IAAIo0C,GAAe5oF,EAAM6Z,MAAMuZ,OAAS,EAAI,IAAMpzB,EAAMqzB,IAAID,OAAS,EAAI,GAEzEl7B,KAAK2vF,IACDrwB,GAASoxB,EAAc,UAAYA,EAAc,IACjD,UAAWrqF,EAAX,kBAEQgI,EAFR,WAGS8T,EAAS,OAAQkuE,GAAc,OAGhDrwF,KAAK2/D,qBAAuB,SAASywB,EAAetoF,EAAOw3D,EAAOhjB,EAAQn4B,EAAaksE,GACnF,GAAIrwF,KAAK8D,QAAQ2iD,aAAalC,UAAUz8C,EAAM6Z,MAAMsZ,KAChD,OAAOj7B,KAAKywF,yBAAyBL,EAAetoF,EAAOw3D,EAAOhjB,EAAQn4B,EAAaksE,GAC3F,IAAIhqF,EAASi2C,EAAOvM,WAChBzpC,GAASwB,EAAMqzB,IAAID,QAAU/W,GAAe,GAAKrc,EAAM6Z,MAAMuZ,QAAUohB,EAAO/V,eAE9El4B,EAAMrO,KAAK6vF,QAAQ/nF,EAAM6Z,MAAMsZ,IAAKqhB,GACpChuC,EAAOtO,KAAKwuF,SAAW1mF,EAAM6Z,MAAMuZ,OAASohB,EAAO/V,eAEvDvmC,KAAK2vF,IACDrwB,EACA,UAAWj5D,EAAX,YACUC,EADV,UAEQ+H,EAFR,WAGSC,EAAM,OAAQ+hF,GAAc,MAG7CrwF,KAAKywF,yBAA2B,SAASL,EAAetoF,EAAOw3D,EAAOhjB,EAAQn4B,EAAaksE,GACvF,IAAIhqF,EAASi2C,EAAOvM,WAAY1hC,EAAMrO,KAAK6vF,QAAQ/nF,EAAM6Z,MAAMsZ,IAAKqhB,GAASn6B,EAAUniB,KAAKwuF,SAC3ExuF,KAAK8D,QAAQ2iD,aAAaO,cAAcl/C,EAAM6Z,MAAMuZ,OAAQpzB,EAAMqzB,IAAID,QAE5E/6B,SAAQ,SAASuD,GACxB1D,KAAK2vF,IACDrwB,EACA,UAAYj5D,EAAZ,YACW3C,EAAU4C,OAAS6d,GAAe,GAD7C,UAES9V,EAFT,YAGW8T,EAAUze,EAAU4K,MAAQ,OAAS+hF,GAAc,OAEnErwF,OAGPA,KAAK8vF,mBAAqB,SAASM,EAAetoF,EAAOw3D,EAAOhjB,EAAQ+zC,GACpE,IAAIhiF,EAAMrO,KAAK6vF,QAAQ/nF,EAAM6Z,MAAMsZ,IAAKqhB,GACpCj2C,EAASi2C,EAAOvM,WAChBjoC,EAAM6Z,MAAMsZ,KAAOnzB,EAAMqzB,IAAIF,MAC7B50B,GAAUrG,KAAK6vF,QAAQ/nF,EAAMqzB,IAAIF,IAAKqhB,GAAUjuC,GAEpDrO,KAAK2vF,IACDrwB,EACA,UAAWj5D,EAAX,UACQgI,EADR,sBAEoBgiF,GAAc,MAI1CrwF,KAAK+vF,qBAAuB,SAASK,EAAetoF,EAAOw3D,EAAOhjB,EAAQ+zC,GACtE,IAAIhiF,EAAMrO,KAAK6vF,QAAQ/nF,EAAM6Z,MAAMsZ,IAAKqhB,GACpCj2C,EAASi2C,EAAOvM,WAEpB/vC,KAAK2vF,IACDrwB,EACA,UAAWj5D,EAAX,UACQgI,EADR,sBAEoBgiF,GAAc,QAI3C/yF,KAAKkyF,EAAOpyF,WAEf3B,EAAQ+zF,OAASA,KAIjB3lF,IAAIC,OAAO,iBAAiB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,eAAe,kBAAkB,0BAA0B,SAAS7N,EAASR,EAASsO,GAC5K,aAEA,IAAIC,EAAM/N,EAAQ,cACd0jC,EAAM1jC,EAAQ,cACd2jC,EAAO3jC,EAAQ,eACfgwF,EAAQhwF,EAAQ,WAAWgwF,MAC3BhiF,EAAehO,EAAQ,wBAAwBgO,aAE/C0mF,EAAO,SAASrD,GAChBttF,KAAK2/B,IAAMA,EACX3/B,KAAK+pB,QAAU/pB,KAAK2/B,IAAIj3B,cAAc,OACtC1I,KAAK+pB,QAAQhpB,UAAY,2BACzBusF,EAAS9hF,YAAYxL,KAAK+pB,SAC1B/pB,KAAK4wF,eAAiB5wF,KAAK4wF,eAAevwF,KAAKL,MAC/CA,KAAK87D,OAAS,IAAImwB,EAAMjsF,KAAK+pB,WAGjC,WAEI/f,EAAImB,UAAUnL,KAAMiK,GAEpBjK,KAAK6wF,SAAW,OAChB7wF,KAAK8wF,YAAc,OACnB9wF,KAAK+wF,cAAgB,OACrB/wF,KAAKgxF,SAAWhxF,KAAK8wF,YACrB9wF,KAAKixF,SAAW,SAChBjxF,KAAKkxF,WAAa,OAClBlxF,KAAKwuF,SAAW,EAChBxuF,KAAKigC,gBAAkB,IAEvBjgC,KAAK4wF,eAAiB,WAClB,IAAInnE,EAAMzpB,KAAK8D,QAAQ2lB,IAEnBunE,EADwC,MAA7BvnE,EAAIwyC,uBAAyD,WAAxBxyC,EAAI+yC,iBAC9Bx8D,KAAK8wF,YAAc9wF,KAAK+wF,cAClD,GAAI/wF,KAAKgxF,UAAYA,EAEjB,OADAhxF,KAAKgxF,SAAWA,GACT,GAIfhxF,KAAKyvF,WAAa,SAASttE,GACvBniB,KAAKwuF,SAAWrsE,EAChBniB,KAAK+pB,QAAQthB,MAAM0oF,OAAS,KAAOhvE,EAAU,MAGjDniB,KAAKoxF,cAAgB,WACjB,OAAOpxF,KAAKqxF,aAAavrC,eAAez/C,QAAU,GAGtDrG,KAAKyxE,kBAAoB,WACrB,OAAOzxE,KAAKqxF,aAAavrC,eAAex/C,OAAS,GAGrDtG,KAAKsxE,gBAAkB,SAASggB,GAC5BtxF,KAAKqxF,aAAeC,EACpBtxF,KAAKqxF,aAAajuF,GAAG,sBAAuB,SAASyO,GACjD7R,KAAK2lC,QAAQ,sBAAuB9zB,IACtCxR,KAAKL,OACPA,KAAKuxF,oBAGTvxF,KAAKwxF,oBAAsB,WACvBxxF,KAAKqxF,aAAaG,uBAEtBxxF,KAAKuxF,iBAAmB,WACpB,OAAOvxF,KAAKyxF,sBAAwBzxF,KAAKqxF,aAAaE,oBAE1DvxF,KAAK6N,WAAa,SAAS/J,GACvB9D,KAAK8D,QAAUA,EACXA,GACA9D,KAAK0xF,qBAGb1xF,KAAK4jD,gBAAiB,EACtB5jD,KAAK2xF,YAAa,EAClB3xF,KAAK4xF,UAAW,EAChB5xF,KAAK6xF,SAAU,EACf7xF,KAAKimD,kBAAoB,SAASrC,GAC9B,OAAI5jD,KAAK4jD,gBAAkBA,IAG3B5jD,KAAK4jD,eAAiBA,EACO,iBAAlBA,GACP5jD,KAAK2xF,WAAa,OAAOvgF,KAAKwyC,GAC9B5jD,KAAK4xF,SAAW,SAASxgF,KAAKwyC,GAC9B5jD,KAAK6xF,QAAU,OAAOzgF,KAAKwyC,IAE3B5jD,KAAK2xF,WAAa3xF,KAAK4xF,SAAW5xF,KAAK6xF,QAAUjuC,EAErD5jD,KAAK0xF,qBACE,IAGX1xF,KAAKmoF,qBAAsB,EAC3BnoF,KAAK6gF,uBAAyB,SAASl1D,GACnC,OAAI3rB,KAAKmoF,qBAAuBx8D,IAGhC3rB,KAAKmoF,oBAAsBx8D,EAC3B3rB,KAAK0xF,qBACE,IAGX1xF,KAAK8xF,YAAc,GACnB9xF,KAAKy7E,gBACLz7E,KAAK0xF,kBAAoB,WACrB,IAAIloF,EAAUxJ,KAAK8D,QAAQ+I,aAC3B7M,KAAKwJ,QAAUA,EAEf,IADA,IAAIuoF,EAAS/xF,KAAK8xF,YAAc,CAAC,GACxBlzF,EAAI,EAAGA,EAAI4K,EAAU,EAAG5K,IAAK,CAClC,GAAIoB,KAAK4xF,UACDI,EAAOhyF,KAAK2/B,IAAIj3B,cAAc,SAC7B3H,UAAY,kCACjBixF,EAAK/nE,YAAc2V,EAAKlC,aAAa19B,KAAKixF,SAAUryF,GACpDmzF,EAAO3zF,KAAK4zF,QAEZD,EAAO3zF,KAAK4B,KAAK2/B,IAAI1W,eAAe2W,EAAKlC,aAAa,IAAK9+B,GAAIoB,KAAK+pB,UAG5E,GAAI/pB,KAAKmoF,oBAAqB,CAC1BnoF,KAAKiyF,eAAkB,mBACvB,IAgBID,EAhBAjxF,EAAY,mBACZmxF,EAAalyF,KAAK2xF,WAAa,qCAAuC,GACtEQ,EAAenyF,KAAK2xF,WAClB/xD,EAAKlC,aAAa19B,KAAKkxF,WAAYlxF,KAAKwJ,SACxCo2B,EAAKlC,aAAa,IAAK19B,KAAKwJ,SAE9B4oF,EAAWpyF,KAAK4xF,SAAW,mCAAqC,GAChES,EAAaryF,KAAK4xF,SAChBhyD,EAAKlC,aAAa19B,KAAKixF,SAAUjxF,KAAKwJ,SACtC2oF,GAEFH,EAAOhyF,KAAK2/B,IAAIj3B,cAAc,SAC7B3H,UAAYA,EAAYmxF,EAC7BF,EAAK/nE,YAAckoE,EACnBnyF,KAAK8xF,YAAY,KAAOE,GAEpBA,EAAOhyF,KAAK2/B,IAAIj3B,cAAc,SAC7B3H,UAAYA,EAAYqxF,EAC7BJ,EAAK/nE,YAAcooE,EACnBryF,KAAK8xF,YAAY,MAAQE,IAIjChyF,KAAK69E,YAAc,SAASvhC,EAAQ9f,EAAUC,GAC1C,GAAIz8B,KAAKs8C,OAAO7f,SAAW6f,EAAO7f,SAC9Bz8B,KAAKs8C,OAAO9f,UAAY8f,EAAO9f,SAC/B,OAAOx8B,KAAKy/D,OAAOnjB,GAGvBt8C,KAAKs8C,OAASA,EAQd,IANA,IAAI2iB,EAAQ1mD,KAAK7K,IAAI8uB,EAAU8f,EAAO9f,UAClCe,EAAOhlB,KAAK9K,IAAIgvB,EAAS6f,EAAO7f,SAEhC61D,EAAetyF,KAAK+pB,QAAQilE,WAC5BuD,EAAkB,EAEbt3D,EAAMqhB,EAAO9f,SAAUvB,EAAMgkC,EAAOhkC,IAAO,CAEhD,GADI4vB,EAAW7qD,KAAK8D,QAAQgnD,YAAY7vB,GAC1B,CACV,GAAI4vB,EAASuV,YAAYnB,GAAQ,CAC7BA,EAAQpU,EAASlpC,MAAMsZ,IACvB,MAEAA,EAAM4vB,EAAS1vB,IAAIF,IAG3Bs3D,IAQJ,IALA,IAEI1nC,EAFA2nC,GAAgB,EAGhBjmB,GAFAtxC,EAAMgkC,GACNpU,EAAW7qD,KAAK8D,QAAQs/D,gBAAgBnoC,IACjB4vB,EAASlpC,MAAMsZ,IAAM48B,KAGxC58B,EAAMsxC,IACNtxC,EAAM4vB,EAAS1vB,IAAIF,IAAI,EAEvBsxC,GADA1hB,EAAW7qD,KAAK8D,QAAQs/D,gBAAgBnoC,EAAK4vB,IACtBA,EAASlpC,MAAMsZ,IAAK48B,OAE3C58B,EAAMsC,IAND,CAST,IAAIk1D,EAAcH,EAAaC,KAC/B,GAAIE,EAAa,CACbzyF,KAAK2/B,IAAI7V,eAAe2oE,GACxBzyF,KAAK0yF,YACDD,EAAax3D,EAAKA,GAAOsxC,GAAY1hB,GAGrC2nC,IACAC,EAAYhqF,MAAM4F,IAAMrO,KAAK87D,OAAO6wB,eAAe1xD,EAAKqhB,EAAQt8C,KAAK8D,SAAW,MAEpF,IAAIuC,EAAUi2C,EAAOvM,WAAa/vC,KAAK8D,QAAQqsE,aAAal1C,GAAQ,KAChEw3D,EAAYhqF,MAAMpC,QAAUA,IAC5BmsF,GAAgB,EAChBC,EAAYhqF,MAAMpC,OAASA,GAGnC40B,IAEJ,GAAIu3D,EACA,KAAOD,EAAkBvyF,KAAK87D,OAAOqwB,MAAMttF,QAAQ,CAC/C,IAAImuF,EAAOhtF,KAAK87D,OAAOqwB,MAAMoG,KAC7BvF,EAAKjjE,QAAQthB,MAAM4F,IAAMrO,KAAK87D,OAAO6wB,eAAeK,EAAK/xD,IAAKqhB,EAAQt8C,KAAK8D,SAAW,OAKlG9D,KAAK8uF,YAAc,SAASxyC,GACxB,IAAImwC,EAAYzsF,KAAKs8C,OAGrB,GAFAt8C,KAAKs8C,OAASA,EAEVt8C,KAAK87D,OAAO0wB,YAAYC,EAAWnwC,GACnC,OAAOt8C,KAAKy/D,OAAOnjB,GAEvBt8C,KAAK87D,OAAOwwB,cAAchwC,GAE1B,IAAI7f,EAAU6f,EAAO7f,QACjBuxD,EAAavB,EAAYA,EAAUhwD,SAAW,EAElD,IAAKgwD,GAAauB,EAAa1xC,EAAO9f,SAClC,OAAOx8B,KAAKy/D,OAAOnjB,GAEvB,GAAI7f,EAAUgwD,EAAUjwD,SACpB,OAAOx8B,KAAKy/D,OAAOnjB,GAEvB,IAAKmwC,GAAaA,EAAUhwD,QAAU6f,EAAO9f,SACzC,OAAOx8B,KAAKy/D,OAAOnjB,GAEvB,GAAIA,EAAO7f,QAAUgwD,EAAUjwD,SAC3B,OAAOx8B,KAAKy/D,OAAOnjB,GAEvB,GAAImwC,EAAUjwD,SAAW8f,EAAO9f,SAC5B,IAAK,IAAIvB,EAAIj7B,KAAK8D,QAAQu/D,kBAAkBopB,EAAUjwD,SAAU8f,EAAO9f,SAAW,GAAIvB,EAAI,EAAGA,IACzFj7B,KAAK87D,OAAOt3C,QAEpB,GAAIioE,EAAUhwD,QAAU6f,EAAO7f,QAC3B,IAASxB,EAAIj7B,KAAK8D,QAAQu/D,kBAAkB/mB,EAAO7f,QAAU,EAAGgwD,EAAUhwD,SAAUxB,EAAI,EAAGA,IACvFj7B,KAAK87D,OAAOzpD,MAEhBiqC,EAAO9f,SAAWiwD,EAAUjwD,UAC5Bx8B,KAAK87D,OAAOvlD,QAAQvW,KAAK2yF,qBAAqBr2C,EAAQA,EAAO9f,SAAUiwD,EAAUjwD,SAAW,IAG5F8f,EAAO7f,QAAUgwD,EAAUhwD,SAC3Bz8B,KAAK87D,OAAO19D,KAAK4B,KAAK2yF,qBAAqBr2C,EAAQmwC,EAAUhwD,QAAU,EAAG6f,EAAO7f,WAIzFz8B,KAAK2yF,qBAAuB,SAASr2C,EAAQ9f,EAAUC,GAMnD,IALA,IAAIwwD,EAAW,GACXhyD,EAAMuB,EACNquB,EAAW7qD,KAAK8D,QAAQs/D,gBAAgBnoC,GACxCsxC,EAAY1hB,EAAWA,EAASlpC,MAAMsZ,IAAM48B,IAGxC58B,EAAMsxC,IACNtxC,EAAM4vB,EAAS1vB,IAAIF,IAAI,EAEvBsxC,GADA1hB,EAAW7qD,KAAK8D,QAAQs/D,gBAAgBnoC,EAAK4vB,IACtBA,EAASlpC,MAAMsZ,IAAM48B,OAE5C58B,EAAMwB,IAND,CAST,IAAI/hB,EAAO1a,KAAK87D,OAAOqxB,WAAWlyD,EAAKqhB,EAAQt8C,KAAK8D,SAEhD8uF,EAASl4E,EAAKqP,QAClB/pB,KAAK2/B,IAAI7V,eAAe8oE,GACxBjzD,EAAItT,SAASumE,EAAOnqF,MAAO,SAAUzI,KAAK87D,OAAOgxB,kBAAkB7xD,EAAKqhB,EAAQt8C,KAAK8D,SAAW,MAChG67B,EAAItT,SAASumE,EAAOnqF,MAAO,MAAOzI,KAAK87D,OAAO6wB,eAAe1xD,EAAKqhB,EAAQt8C,KAAK8D,SAAW,MAC1F9D,KAAK0yF,YAAYE,EAAQ33D,EAAKA,GAAOsxC,GAAY1hB,GAE7C7qD,KAAK6yF,iBACLD,EAAO7xF,UAAY,iBAEnB6xF,EAAO7xF,UAAY,WAEvBksF,EAAS7uF,KAAKsc,GAEdugB,IAEJ,OAAOgyD,GAGXjtF,KAAKy/D,OAAS,SAASnjB,GACnBt8C,KAAK87D,OAAOwwB,cAAchwC,GAE1Bt8C,KAAKs8C,OAASA,EAMd,IAJA,IAAI9f,EAAW8f,EAAO9f,SAClBC,EAAU6f,EAAO7f,QAEjB1oB,EAAQ/T,KAAK87D,OACV/nD,EAAMk6B,aACTl6B,EAAM1B,MAEV0B,EAAM3V,KAAK4B,KAAK2yF,qBAAqBr2C,EAAQ9f,EAAUC,KAG3Dz8B,KAAK8yF,WAAa,CACd,MAAQ,EACR,QAAU,EACV,QAAU,GAGd9yF,KAAK+yF,aAAe,SAASjqE,EAAQonD,EAAcrhB,EAAOnzD,GAQtD,IAPA,IAKI8S,EALAnP,EAAOW,KACPi7C,EAAK,0jBAEL+3C,EAAgBhzF,KAAK2/B,IAAIxV,eAAenqB,KAAK+pB,SAG7CnrB,EAAI,EACD4P,EAAIysC,EAAGn2C,KAAKpJ,IAAQ,CACvB,IAAI09D,EAAM5qD,EAAE,GACRykF,EAAczkF,EAAE,GAChB0kF,EAAmB1kF,EAAE,GACrB2kF,EAAW3kF,EAAE,GACb4kF,EAAM5kF,EAAE,GAEZ,GAAKnP,EAAKsyF,aAAcsB,EAAxB,CAGA,IAAI36B,EAAS15D,GAAK4P,EAAE9I,MAAQhK,EAAMwqB,MAAMtnB,EAAG4P,EAAE9I,OAAS,GAQtD,GANA9G,EAAI4P,EAAE9I,MAAQ8I,EAAE,GAAG3P,OAEfy5D,GACA06B,EAAcxnF,YAAYxL,KAAK2/B,IAAI1W,eAAeqvC,EAAQt4D,KAAK+pB,UAG/DqvC,EAAK,CACL,IAAI5vD,EAAUnK,EAAKyE,QAAQ2hD,iBAAiByqB,EAAe1hE,EAAE9I,OAC7DstF,EAAcxnF,YAAYnM,EAAKyyF,YAAYtoF,GAAS6pF,WAAU,IAC9DnjB,GAAgB1mE,EAAU,OACvB,GAAIypF,EAAa,CACpB,GAAI5zF,EAAKsyF,YACDK,EAAOhyF,KAAK2/B,IAAIj3B,cAAc,SAC7B3H,UAAY,oCACjBixF,EAAK/nE,YAAc2V,EAAKlC,aAAar+B,EAAK6xF,WAAY+B,EAAYp0F,QAClEm0F,EAAcxnF,YAAYwmF,QAE1BgB,EAAcxnF,YAAYxL,KAAKszF,IAAIrqE,eAAegqE,EAAajzF,KAAK+pB,eAErE,GAAImpE,EAAkB,EACrBlB,EAAOhyF,KAAK2/B,IAAIj3B,cAAc,SAC7B3H,UAAY,gDACjBixF,EAAK/nE,YAAc2V,EAAKlC,aAAar+B,EAAK6xF,WAAYgC,EAAiBr0F,QACvEm0F,EAAcxnF,YAAYwmF,QACvB,GAAImB,EAAU,CACjBjjB,GAAgB,GAEZ8hB,EAAOhyF,KAAK2/B,IAAIj3B,cAAc,SAC7BD,MAAMnC,MAAsC,EAA7BjH,EAAKi9C,OAAO/V,eAAsB,KACtDyrD,EAAKjxF,UAAY1B,EAAKsyF,WAAa,4CAA8C,UACjFK,EAAK/nE,YAAc5qB,EAAKsyF,WAAatyF,EAAK6xF,WAAaiC,EACvDH,EAAcxnF,YAAYwmF,QACvB,GAAIoB,EAAK,CACZljB,GAAgB,GACZ8hB,EAAOhyF,KAAK2/B,IAAIj3B,cAAc,SAC7BD,MAAMnC,MAAsC,EAA7BjH,EAAKi9C,OAAO/V,eAAsB,KACtDyrD,EAAKjxF,UAAY,UACjBixF,EAAK/nE,YAAcmpE,EACnBJ,EAAcxnF,YAAYwmF,KAMlC,GAFAgB,EAAcxnF,YAAYxL,KAAK2/B,IAAI1W,eAAerqB,EAAIlD,EAAMwqB,MAAMtnB,GAAKlD,EAAOsE,KAAK+pB,UAE9E/pB,KAAK8yF,WAAWjkC,EAAMlnD,MAYvBmhB,EAAOtd,YAAYwnF,OAZW,CAC9B,IAAIxoE,EAAU,OAASqkC,EAAMlnD,KAAKwI,QAAQ,MAAO,SAC7C6hF,EAAOhyF,KAAK2/B,IAAIj3B,cAAc,QAChB,QAAdmmD,EAAMlnD,OACNqqF,EAAKvpF,MAAMnC,MAASuoD,EAAMnzD,MAAMmD,OAASmB,KAAKs8C,OAAO/V,eAAkB,MAE3EyrD,EAAKjxF,UAAYypB,EACjBwnE,EAAKxmF,YAAYwnF,GAEjBlqE,EAAOtd,YAAYwmF,GAMvB,OAAO9hB,EAAex0E,EAAMmD,QAGhCmB,KAAKuzF,kBAAoB,SAASzqE,EAAQptB,EAAOgS,GAC7C,IAAI8lF,EAAO93F,EAAMiwD,OAAO3rD,KAAKiyF,gBAC7B,GAAIuB,GAAQ,GAAKA,GAAQ9lF,EACrB,OAAOhS,EACX,GAAgB,KAAZA,EAAM,GAAW,CAGjB,IADA,IAAIiiC,GADJ61D,GAAQA,EAAOxzF,KAAKwJ,SACHxJ,KAAKwJ,QACb5K,EAAE,EAAGA,EAAE++B,EAAO/+B,IACnBkqB,EAAOtd,YAAYxL,KAAK8xF,YAAY,KAAKuB,WAAU,IAEvD,OAAO33F,EAAMiqD,OAAO6tC,GACjB,GAAgB,MAAZ93F,EAAM,GAAY,CACzB,IAASkD,EAAE,EAAGA,EAAE40F,EAAM50F,IAClBkqB,EAAOtd,YAAYxL,KAAK8xF,YAAY,MAAMuB,WAAU,IAExD,OAAO33F,EAAMiqD,OAAO6tC,GAExB,OAAO93F,GAGXsE,KAAKyzF,mBAAqB,SAAS3qE,GAC/B,IAAI8pE,EAAS5yF,KAAK2/B,IAAIj3B,cAAc,OAIpC,OAHAkqF,EAAO7xF,UAAY,WACnB6xF,EAAOnqF,MAAMpC,OAASrG,KAAKs8C,OAAOvM,WAAa,KAExC6iD,GAGX5yF,KAAK0zF,mBAAqB,SAAS5qE,EAAQzI,EAAQ7V,GAC/C,IAAI8P,EAAQ,EACR9U,EAAQ,EACRmuF,EAAanpF,EAAO,GACpB0lE,EAAe,EAEf0iB,EAAS5yF,KAAKyzF,qBAClB3qE,EAAOtd,YAAYonF,GAEnB,IAAK,IAAIh0F,EAAI,EAAGA,EAAIyhB,EAAOxhB,OAAQD,IAAK,CACpC,IAAIiwD,EAAQxuC,EAAOzhB,GACflD,EAAQmzD,EAAMnzD,MAClB,GAAS,GAALkD,GAAUoB,KAAKmoF,oBAAqB,CAGpC,GAFA7tE,EAAQ5e,EAAMmD,SACdnD,EAAQsE,KAAKuzF,kBAAkBX,EAAQl3F,EAAOi4F,IAE1C,SACJr5E,GAAS5e,EAAMmD,OAGnB,GAAIyb,EAAQ5e,EAAMmD,OAAS80F,EACvBzjB,EAAelwE,KAAK+yF,aAAaH,EAAQ1iB,EAAcrhB,EAAOnzD,GAC9D4e,GAAS5e,EAAMmD,WACZ,CACH,KAAOyb,EAAQ5e,EAAMmD,QAAU80F,GAC3BzjB,EAAelwE,KAAK+yF,aAChBH,EAAQ1iB,EACRrhB,EAAOnzD,EAAMwa,UAAU,EAAGy9E,EAAar5E,IAE3C5e,EAAQA,EAAMwa,UAAUy9E,EAAar5E,GACrCA,EAAQq5E,EAERf,EAAS5yF,KAAKyzF,qBACd3qE,EAAOtd,YAAYonF,GAEnBA,EAAOpnF,YAAYxL,KAAK2/B,IAAI1W,eAAe2W,EAAKlC,aAAa,OAAQlzB,EAAO+6C,QAASvlD,KAAK+pB,UAG1FmmD,EAAe,EACfyjB,EAAanpF,IAFbhF,IAE8BiQ,OAAOC,UAErB,GAAhBha,EAAMmD,SACNyb,GAAS5e,EAAMmD,OACfqxE,EAAelwE,KAAK+yF,aAChBH,EAAQ1iB,EAAcrhB,EAAOnzD,KAMzC8O,EAAOA,EAAO3L,OAAS,GAAKmB,KAAKigC,iBACjCjgC,KAAK4zF,uBAAuBhB,EAAQ1iB,EAAc,KAAM,IAAI,IAGpElwE,KAAK6zF,kBAAoB,SAAS/qE,EAAQzI,GACtC,IAAI6vD,EAAe,EACfrhB,EAAQxuC,EAAO,GACf3kB,EAAQmzD,EAAMnzD,MACdsE,KAAKmoF,sBACLzsF,EAAQsE,KAAKuzF,kBAAkBzqE,EAAQptB,IACvCA,IACAw0E,EAAelwE,KAAK+yF,aAAajqE,EAAQonD,EAAcrhB,EAAOnzD,IAClE,IAAK,IAAIkD,EAAI,EAAGA,EAAIyhB,EAAOxhB,OAAQD,IAAK,CAGpC,GAAIsxE,GADJx0E,GADAmzD,EAAQxuC,EAAOzhB,IACDlD,OACWmD,OAASmB,KAAKigC,gBACnC,OAAOjgC,KAAK4zF,uBAAuB9qE,EAAQonD,EAAcrhB,EAAOnzD,GACpEw0E,EAAelwE,KAAK+yF,aAAajqE,EAAQonD,EAAcrhB,EAAOnzD,KAItEsE,KAAK4zF,uBAAyB,SAAS9qE,EAAQonD,EAAcrhB,EAAOnzD,EAAO+wC,GACvEoiB,GAAS7uD,KAAK+yF,aAAajqE,EAAQonD,EAAcrhB,EAC7CnzD,EAAMwqB,MAAM,EAAGlmB,KAAKigC,gBAAkBiwC,IAE1C,IAAI4jB,EAAa9zF,KAAK2/B,IAAIj3B,cAAc,QACxCorF,EAAW/yF,UAAY,gDACvB+yF,EAAW7pE,YAAcwiB,EAAO,SAAW,yBAE3C3jB,EAAOtd,YAAYsoF,IAEvB9zF,KAAK0yF,YAAc,SAAS5pE,EAAQmS,EAAK4vB,GAIrC,GAHKA,GAAwB,GAAZA,IACbA,EAAW7qD,KAAK8D,QAAQgnD,YAAY7vB,IAEpC4vB,EACA,IAAIxqC,EAASrgB,KAAK+zF,mBAAmB94D,EAAK4vB,QAEtCxqC,EAASrgB,KAAK8D,QAAQmvD,UAAUh4B,GAExC,IAAI+4D,EAAalrE,EACjB,GAAIzI,EAAOxhB,OAAQ,CACf,IAAI2L,EAASxK,KAAK8D,QAAQ4sE,gBAAgBz1C,GAC1C,GAAIzwB,GAAUA,EAAO3L,OAAQ,CACzBmB,KAAK0zF,mBAAmB5qE,EAAQzI,EAAQ7V,GACpCwpF,EAAalrE,EAAOqnE,cACrB,CACC6D,EAAalrE,EACb9oB,KAAK6yF,mBACLmB,EAAah0F,KAAKyzF,qBAClB3qE,EAAOtd,YAAYwoF,IAEvBh0F,KAAK6zF,kBAAkBG,EAAY3zE,SAEhCrgB,KAAK6yF,mBACZmB,EAAah0F,KAAKyzF,qBAClB3qE,EAAOtd,YAAYwoF,IAGvB,GAAIh0F,KAAK6xF,SAAWmC,EAAY,CACxBnpC,IACA5vB,EAAM4vB,EAAS1vB,IAAIF,KAEvB,IAAIg5D,EAAcj0F,KAAK2/B,IAAIj3B,cAAc,QACzCurF,EAAYlzF,UAAY,kCACxBkzF,EAAYhqE,YAAcgR,GAAOj7B,KAAK8D,QAAQmqC,YAAc,EAAIjuC,KAAK6wF,SAAW7wF,KAAKgxF,SAErFgD,EAAWxoF,YAAYyoF,KAI/Bj0F,KAAK+zF,mBAAqB,SAAS94D,EAAK4vB,GACpC,IAAI/mD,EAAU9D,KAAK8D,QACfowF,EAAe,GAuCnB,IAAI7zE,EAASvc,EAAQmvD,UAAUh4B,GAgB/B,OAfA4vB,EAASwV,MAAK,SAASG,EAAavlC,EAAKC,EAAQ0pC,EAAYrE,GACtC,MAAfC,EACA0zB,EAAa91F,KAAK,CACduJ,KAAM,OACNjM,MAAO8kE,KAGPD,IACAlgD,EAASvc,EAAQmvD,UAAUh4B,IAE3B5a,EAAOxhB,QAhDnB,SAAmBwhB,EAAQ49C,EAAMC,GAE7B,IADA,IAAIpyD,EAAM,EAAG86C,EAAM,EACXA,EAAMvmC,EAAOvU,GAAKpQ,MAAMmD,OAAUo/D,GAItC,GAHArX,GAAOvmC,EAAOvU,GAAKpQ,MAAMmD,SACzBiN,GAEWuU,EAAOxhB,OACd,OAgBR,IAdI+nD,GAAOqX,KACHviE,EAAQ2kB,EAAOvU,GAAKpQ,MAAMwa,UAAU+nD,EAAOrX,IACrC/nD,OAAUq/D,EAAKD,IACrBviE,EAAQA,EAAMwa,UAAU,EAAGgoD,EAAKD,IAEpCi2B,EAAa91F,KAAK,CACduJ,KAAM0Y,EAAOvU,GAAKnE,KAClBjM,MAAOA,IAGXkrD,EAAMqX,EAAOviE,EAAMmD,OACnBiN,GAAO,GAGJ86C,EAAMsX,GAAMpyD,EAAMuU,EAAOxhB,QAAQ,CACpC,IAAInD,KAAQ2kB,EAAOvU,GAAKpQ,OACdmD,OAAS+nD,EAAMsX,EACrBg2B,EAAa91F,KAAK,CACduJ,KAAM0Y,EAAOvU,GAAKnE,KAClBjM,MAAOA,EAAMwa,UAAU,EAAGgoD,EAAKtX,KAGnCstC,EAAa91F,KAAKiiB,EAAOvU,IAC7B86C,GAAOlrD,EAAMmD,OACbiN,GAAO,GAgBHqoF,CAAU9zE,EAAQukD,EAAY1pC,MAEvC2vB,EAAS1vB,IAAIF,IAAKj7B,KAAK8D,QAAQ8+B,QAAQioB,EAAS1vB,IAAIF,KAAKp8B,QAErDq1F,GAGXl0F,KAAK6yF,eAAiB,WAClB,OAAO7yF,KAAK8D,QAAQsJ,kBAGxBpN,KAAK2G,QAAU,eAChBrJ,KAAKqzF,EAAKvzF,WAEb3B,EAAQk1F,KAAOA,KAIf9mF,IAAIC,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,gBAAgB,SAAS7N,EAASR,EAASsO,GACvG,aAEA,IAAI41B,EAAM1jC,EAAQ,cAEdm4F,EAAS,SAAS9G,GAClBttF,KAAK+pB,QAAU4V,EAAIj3B,cAAc,OACjC1I,KAAK+pB,QAAQhpB,UAAY,6BACzBusF,EAAS9hF,YAAYxL,KAAK+pB,SAE1B/pB,KAAKq0F,WAAY,EACjBr0F,KAAKsmF,YAAa,EAClBtmF,KAAKs0F,cAAgB,IACrBt0F,KAAKu0F,gBAAiB,EAEtBv0F,KAAKw0F,QAAU,GACfx0F,KAAK4T,OAAS5T,KAAKy0F,YACnB90D,EAAIrV,YAAYtqB,KAAK+pB,QAAS,sBAC9B/pB,KAAK00F,eAAiB10F,KAAK20F,eAAet0F,KAAKL,QAGnD,WAEIA,KAAK20F,eAAiB,SAASrrE,GAE3B,IADA,IAAIkrE,EAAUx0F,KAAKw0F,QACV51F,EAAI41F,EAAQ31F,OAAQD,KACzB+gC,EAAItT,SAASmoE,EAAQ51F,GAAG6J,MAAO,UAAW6gB,EAAM,GAAK,MAG7DtpB,KAAK40F,mBAAqB,WAEtB,IADA,IAAIJ,EAAUx0F,KAAKw0F,QACV51F,EAAI41F,EAAQ31F,OAAQD,KACzB41F,EAAQ51F,GAAG6J,MAAMosF,kBAAoB70F,KAAKs0F,cAAgB,KAE9D77D,WAAW,WACPkH,EAAIrV,YAAYtqB,KAAK+pB,QAAS,yBAChC1pB,KAAKL,QAGXA,KAAK80F,kBAAoB,WACrBn1D,EAAIpV,eAAevqB,KAAK+pB,QAAS,yBAGrC/pB,KAAKwuF,SAAW,EAChBxuF,KAAKyvF,WAAa,SAASttE,GACvBniB,KAAKwuF,SAAWrsE,GAGpBniB,KAAK6N,WAAa,SAAS/J,GACvB9D,KAAK8D,QAAUA,GAGnB9D,KAAK8wC,YAAc,SAASikD,GACpBA,GAAY/0F,KAAKsmF,aACjBtmF,KAAKsmF,WAAayO,EAClB/0F,KAAKg1F,iBAIbh1F,KAAKi1F,iBAAmB,SAASX,GACzBA,GAAiBt0F,KAAKs0F,gBACtBt0F,KAAKs0F,cAAgBA,EACrBt0F,KAAKg1F,iBAIbh1F,KAAKqmF,kBAAoB,SAASkO,GAC1BA,GAAkBv0F,KAAKu0F,iBACvBv0F,KAAKu0F,eAAiBA,EACtB50D,EAAIhV,YAAY3qB,KAAK+pB,QAAS,sBAAuBwqE,GACrDv0F,KAAK00F,gBAAe,GACpB10F,KAAKg1F,iBAIbh1F,KAAKy0F,UAAY,WACb,IAAIppF,EAAKs0B,EAAIj3B,cAAc,OAI3B,OAHA2C,EAAGtK,UAAY,aACff,KAAK+pB,QAAQve,YAAYH,GACzBrL,KAAKw0F,QAAQp2F,KAAKiN,GACXA,GAGXrL,KAAKk1F,aAAe,WAChB,GAAIl1F,KAAKw0F,QAAQ31F,OAAS,EAAG,CACzB,IAAIwM,EAAKrL,KAAKw0F,QAAQniF,MAEtB,OADAhH,EAAGqb,WAAW/a,YAAYN,GACnBA,IAIfrL,KAAKw9E,WAAa,WACdx9E,KAAKq0F,WAAY,EACjB10D,EAAIrV,YAAYtqB,KAAK+pB,QAAS,sBAC9B/pB,KAAKg1F,gBAGTh1F,KAAKs9E,WAAa,WACdt9E,KAAKq0F,WAAY,EACjB10D,EAAIpV,eAAevqB,KAAK+pB,QAAS,sBACjC/pB,KAAKg1F,gBAGTh1F,KAAKg1F,aAAe,WAChB,IAAIv1B,EAASz/D,KAAK00F,eAWlB,GAVA3jD,cAAc/wC,KAAKm1F,YACnB38D,aAAax4B,KAAKo1F,WAClBp1F,KAAK80F,oBAED90F,KAAKu0F,gBACL50D,EAAIpV,eAAevqB,KAAK+pB,QAAS,uBAGrC01C,GAAO,GAEFz/D,KAAKsmF,YAAetmF,KAAKs0F,eAAkBt0F,KAAKq0F,UAWrD,GANIr0F,KAAKu0F,gBACL97D,WAAW,WACPkH,EAAIrV,YAAYtqB,KAAK+pB,QAAS,wBAChC1pB,KAAKL,OAGP2/B,EAAInT,kBACJxsB,KAAK40F,yBACF,CACH,IAAIS,EAAQ,WACRr1F,KAAKo1F,UAAY38D,YAAW,WACxBgnC,GAAO,KACR,GAAMz/D,KAAKs0F,gBAChBj0F,KAAKL,MAEPA,KAAKm1F,WAAankD,aAAY,WAC1ByuB,GAAO,GACP41B,MACDr1F,KAAKs0F,eACRe,SAvBAr1F,KAAK80F,qBA2Bb90F,KAAKs2C,iBAAmB,SAASzqB,EAAUypE,GACvC,IAAKt1F,KAAKs8C,SAAWt8C,KAAK8D,QACtB,MAAO,CAACwK,KAAO,EAAGD,IAAM,GAEvBwd,IACDA,EAAW7rB,KAAK8D,QAAQJ,UAAU0kD,aACtC,IAAIpiD,EAAMhG,KAAK8D,QAAQm5B,yBAAyBpR,GAQhD,MAAO,CAACvd,KAPStO,KAAKwuF,UAAYxuF,KAAK8D,QAAQ2iD,aAAalC,UAAUv+C,EAAIi1B,IAAKpP,EAASoP,KAClFj7B,KAAK8D,QAAQ2iD,aAAaE,WAAW3gD,EAAIk1B,QACzCl1B,EAAIk1B,OAASl7B,KAAKs8C,OAAO/V,gBAKJl4B,KAHVrI,EAAIi1B,KAAOq6D,EAAWt1F,KAAKs8C,OAAOiwC,eAAiB,IAChEvsF,KAAKs8C,OAAOvM,aAKpB/vC,KAAKu1F,eAAiB,SAASC,EAAUl5C,GACrC,OAAOk5C,EAASnnF,KAAO,GAAKmnF,EAASnnF,IAAMiuC,EAAOm5C,WAGtDz1F,KAAKy/D,OAAS,SAASnjB,GACnBt8C,KAAKs8C,OAASA,EAEd,IAAI4K,EAAalnD,KAAK8D,QAAQ4xF,kBAC1B92F,EAAI,EAAG+2F,EAAc,OAENlvF,IAAfygD,GAAkD,IAAtBA,EAAWroD,SACvCqoD,EAAa,CAAC,CAACtzC,OAAQ,QAGlBhV,EAAI,EAAb,IAAK,IAAW6hB,EAAIymC,EAAWroD,OAAQD,EAAI6hB,EAAG7hB,IAAK,CAC/C,IAAI42F,EAAWx1F,KAAKs2C,iBAAiB4Q,EAAWtoD,GAAGgV,QAAQ,GAC3D,MAAK4hF,EAASnnF,IAAMiuC,EAAOj2C,OAASi2C,EAAOzd,QACtC22D,EAASnnF,IAAM,IAAMzP,EAAI,GAD9B,CAKA,IAAImrB,EAAU/pB,KAAKw0F,QAAQmB,MAAkB31F,KAAKy0F,YAC9ChsF,EAAQshB,EAAQthB,MAEfzI,KAAK41F,WAUN51F,KAAK41F,WAAW7rE,EAASyrE,EAAUl5C,EAAQ4K,EAAWtoD,GAAIoB,KAAK8D,SAT1D9D,KAAKu1F,eAAeC,EAAUl5C,IAG/B3c,EAAItT,SAAS5jB,EAAO,UAAW,SAC/Bk3B,EAAI5S,UAAUhD,EAASyrE,EAASlnF,KAAMknF,EAASnnF,KAC/CsxB,EAAItT,SAAS5jB,EAAO,QAAS8P,KAAK2U,MAAMovB,EAAO/V,gBAAkB,MACjE5G,EAAItT,SAAS5jB,EAAO,SAAU6zC,EAAOvM,WAAa,OALlDpQ,EAAItT,SAAS5jB,EAAO,UAAW,SAW3C,KAAOzI,KAAKw0F,QAAQ31F,OAAS82F,GACzB31F,KAAKk1F,eAET,IAAIxrB,EAAY1pE,KAAK8D,QAAQmJ,eAC7BjN,KAAK61F,cAAcnsB,GACnB1pE,KAAKkmF,UAAYsP,EACjBx1F,KAAKg1F,gBAGTh1F,KAAK41F,WAAa,KAElB51F,KAAK61F,cAAgB,SAASnsB,GACtBA,GAAa1pE,KAAK0pE,YAClB1pE,KAAK0pE,UAAYA,EACbA,EACA/pC,EAAIrV,YAAYtqB,KAAK+pB,QAAS,yBAE9B4V,EAAIpV,eAAevqB,KAAK+pB,QAAS,2BAI7C/pB,KAAK2G,QAAU,WACXoqC,cAAc/wC,KAAKm1F,YACnB38D,aAAax4B,KAAKo1F,cAGvB93F,KAAK82F,EAAOh3F,WAEf3B,EAAQ24F,OAASA,KAIjBvqF,IAAIC,OAAO,gBAAgB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,gBAAgB,0BAA0B,SAAS7N,EAASR,EAASsO,GAC1J,aAEA,IAAIC,EAAM/N,EAAQ,aACd0jC,EAAM1jC,EAAQ,aACd2K,EAAQ3K,EAAQ,eAChBgO,EAAehO,EAAQ,uBAAuBgO,aAC9C6rF,EAAe,MACfC,EAAY,SAASjtE,GACrB9oB,KAAK+pB,QAAU4V,EAAIj3B,cAAc,OACjC1I,KAAK+pB,QAAQhpB,UAAY,8BAAgCf,KAAKg2F,YAE9Dh2F,KAAKyrB,MAAQkU,EAAIj3B,cAAc,OAC/B1I,KAAKyrB,MAAM1qB,UAAY,sBACvBf,KAAKyrB,MAAMxB,YAAc,OACzBjqB,KAAK+pB,QAAQve,YAAYxL,KAAKyrB,OAE9B3C,EAAOtd,YAAYxL,KAAK+pB,SAExB/pB,KAAKi2F,YAAW,GAChBj2F,KAAKk2F,WAAY,EAEjBtvF,EAAM6uB,YAAYz1B,KAAK+pB,QAAS,SAAU/pB,KAAK+D,SAAS1D,KAAKL,OAC7D4G,EAAM6uB,YAAYz1B,KAAK+pB,QAAS,YAAanjB,EAAMmvB,kBAGvD,WACI/rB,EAAImB,UAAUnL,KAAMiK,GAEpBjK,KAAKi2F,WAAa,SAAS5B,GACvBr0F,KAAK+pB,QAAQthB,MAAMkjB,QAAU0oE,EAAY,GAAK,OAC9Cr0F,KAAKq0F,UAAYA,EACjBr0F,KAAKm2F,MAAQ,KAElB74F,KAAKy4F,EAAU34F,WAClB,IAAIg5F,EAAa,SAASttE,EAAQtmB,GAC9BuzF,EAAUz4F,KAAK0C,KAAM8oB,GACrB9oB,KAAK2xC,UAAY,EACjB3xC,KAAKq2F,aAAe,EACpB7zF,EAAS8zF,gBACTt2F,KAAKsG,MAAQq5B,EAAInU,eAAe1C,EAAOoB,eACvClqB,KAAKyrB,MAAMhjB,MAAMnC,MACjBtG,KAAK+pB,QAAQthB,MAAMnC,OAAStG,KAAKsG,OAAS,IAAM,EAAI,KACpDtG,KAAKu2F,UAAY,GAGrBvsF,EAAImjB,SAASipE,EAAYL,GAEzB,WAEI/1F,KAAKg2F,YAAc,KACnBh2F,KAAK+D,SAAW,WACZ,IAAK/D,KAAKk2F,UAAW,CAEjB,GADAl2F,KAAK2xC,UAAY3xC,KAAK+pB,QAAQ4nB,UACZ,GAAd3xC,KAAKm2F,MAAY,CACjB,IAAIngD,EAAIh2C,KAAK+pB,QAAQ5b,aAAenO,KAAKq2F,aACzCr2F,KAAK2xC,UAAY3xC,KAAK2xC,WAAa,EAAIqE,IAAMh2C,KAAKm2F,MAAQngD,GAE9Dh2C,KAAKyL,MAAM,SAAU,CAACyG,KAAMlS,KAAK2xC,YAErC3xC,KAAKk2F,WAAY,GAErBl2F,KAAK4sC,SAAW,WACZ,OAAOr0B,KAAK7K,IAAI1N,KAAKq0F,UAAYr0F,KAAKsG,MAAQ,EAAGtG,KAAKu2F,WAAa,IAEvEv2F,KAAKw2F,UAAY,SAASnwF,GACtBrG,KAAK+pB,QAAQthB,MAAMpC,OAASA,EAAS,MAEzCrG,KAAKy2F,eACLz2F,KAAK02F,gBAAkB,SAASrwF,GAC5BrG,KAAKq2F,aAAehwF,EAChBA,EAASyvF,GACT91F,KAAKm2F,MAAQL,EAAezvF,EAC5BA,EAASyvF,GACY,GAAd91F,KAAKm2F,QACZn2F,KAAKm2F,MAAQ,GAEjBn2F,KAAKyrB,MAAMhjB,MAAMpC,OAASA,EAAS,MAEvCrG,KAAKyrE,aAAe,SAAS95B,GACrB3xC,KAAK2xC,WAAaA,IAClB3xC,KAAKk2F,WAAY,EACjBl2F,KAAK2xC,UAAYA,EACjB3xC,KAAK+pB,QAAQ4nB,UAAYA,EAAY3xC,KAAKm2F,SAInD74F,KAAK84F,EAAWh5F,WACnB,IAAIu5F,EAAa,SAAS7tE,EAAQtmB,GAC9BuzF,EAAUz4F,KAAK0C,KAAM8oB,GACrB9oB,KAAK01C,WAAa,EAClB11C,KAAKqG,OAAS7D,EAAS8zF,gBACvBt2F,KAAKyrB,MAAMhjB,MAAMpC,OACjBrG,KAAK+pB,QAAQthB,MAAMpC,QAAUrG,KAAKqG,QAAU,IAAM,EAAI,MAG1D2D,EAAImjB,SAASwpE,EAAYZ,GAEzB,WAEI/1F,KAAKg2F,YAAc,KACnBh2F,KAAK+D,SAAW,WACP/D,KAAKk2F,YACNl2F,KAAK01C,WAAa11C,KAAK+pB,QAAQ2rB,WAC/B11C,KAAKyL,MAAM,SAAU,CAACyG,KAAMlS,KAAK01C,cAErC11C,KAAKk2F,WAAY,GAErBl2F,KAAK0sC,UAAY,WACb,OAAO1sC,KAAKq0F,UAAYr0F,KAAKqG,OAAS,GAE1CrG,KAAK42F,SAAW,SAAStwF,GACrBtG,KAAK+pB,QAAQthB,MAAMnC,MAAQA,EAAQ,MAEvCtG,KAAK62F,cAAgB,SAASvwF,GAC1BtG,KAAKyrB,MAAMhjB,MAAMnC,MAAQA,EAAQ,MAErCtG,KAAK82F,eAAiB,SAASxwF,GAC3BtG,KAAKyrB,MAAMhjB,MAAMnC,MAAQA,EAAQ,MAErCtG,KAAK2rE,cAAgB,SAASj2B,GACtB11C,KAAK01C,YAAcA,IACnB11C,KAAKk2F,WAAY,EACjBl2F,KAAK01C,WAAa11C,KAAK+pB,QAAQ2rB,WAAaA,KAIrDp4C,KAAKq5F,EAAWv5F,WAGnB3B,EAAQs6F,UAAYK,EACpB36F,EAAQs7F,WAAaX,EACrB36F,EAAQu7F,WAAaL,EAErBl7F,EAAQ26F,WAAaA,EACrB36F,EAAQk7F,WAAaA,KAGrB9sF,IAAIC,OAAO,iBAAiB,CAAC,UAAU,UAAU,SAAS,kBAAkB,SAAS7N,EAASR,EAASsO,GACvG,aAEA,IAAInD,EAAQ3K,EAAQ,eAGhBg7F,EAAa,SAASC,EAAUp9D,GAChC95B,KAAKk3F,SAAWA,EAChBl3F,KAAKm3F,SAAU,EACfn3F,KAAKoc,QAAU,EACfpc,KAAKo3F,gBAAkB,EACvBp3F,KAAKglB,OAAS8U,GAAO9U,OACrB,IAAIsa,EAAQt/B,KACZA,KAAKq3F,OAAS,SAASriE,GACnBsK,EAAM63D,SAAU,EAChB,IAAI/6E,EAAUkjB,EAAMljB,QAQpB,GANIA,IACAxV,EAAM2zB,UAAU,KAChB+E,EAAMljB,QAAU,EAChBkjB,EAAM43D,SAAS96E,IAGfkjB,EAAMljB,QAAS,CACf,GAAIkjB,EAAM83D,kBAAoB,EAAG,OACjC93D,EAAMJ,gBAENI,EAAM83D,gBAAkB,KAKpC,WAEIp3F,KAAKk/B,SAAW,SAASo4D,GACrBt3F,KAAKoc,QAAUpc,KAAKoc,QAAUk7E,EAC1Bt3F,KAAKoc,UAAYpc,KAAKm3F,UACtBvwF,EAAM6zB,UAAUz6B,KAAKq3F,QACrBr3F,KAAKm3F,SAAU,IAIvBn3F,KAAK2Q,MAAQ,SAAS2mF,GAClB,IAAIl7E,EAAUpc,KAAKoc,QAEnB,OADApc,KAAKoc,QAAU,EACRA,KAGZ9e,KAAK25F,EAAW75F,WAEnB3B,EAAQw7F,WAAaA,KAGrBptF,IAAIC,OAAO,yBAAyB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,eAAe,gBAAgB,oBAAoB,0BAA0B,SAAS7N,EAASR,EAASsO,GAEtM,IAAIC,EAAM/N,EAAQ,cACd0jC,EAAM1jC,EAAQ,cACd2jC,EAAO3jC,EAAQ,eACf2K,EAAQ3K,EAAQ,gBAChB0sB,EAAY1sB,EAAQ,oBACpBgO,EAAehO,EAAQ,wBAAwBgO,aAE/CstF,EAAa,IACbC,EAAwC,mBAAlBC,eACtB91C,EAAI,IAEJ+1C,EAAcj8F,EAAQi8F,YAAc,SAASpK,GAC7CttF,KAAKqL,GAAKs0B,EAAIj3B,cAAc,OAC5B1I,KAAK23F,sBAAsB33F,KAAKqL,GAAG5C,OAAO,GAE1CzI,KAAK0lD,MAAQ/lB,EAAIj3B,cAAc,OAC/B1I,KAAK23F,sBAAsB33F,KAAK0lD,MAAMj9C,OAEtCzI,KAAK43F,aAAej4D,EAAIj3B,cAAc,OACtC1I,KAAK23F,sBAAsB33F,KAAK43F,aAAanvF,OAG7CzI,KAAKqL,GAAGG,YAAYxL,KAAK0lD,OACzB1lD,KAAKqL,GAAGG,YAAYxL,KAAK43F,cACzBtK,EAAS9hF,YAAYxL,KAAKqL,IAE1BrL,KAAK43F,aAAa3tE,YAAc2V,EAAKlC,aAAa,IAAK65D,GAEvDv3F,KAAK8lD,eAAiB,CAACx/C,MAAO,EAAGD,OAAQ,GAGrCmxF,EACAx3F,KAAK63F,eAEL73F,KAAKwxF,wBAGb,WAEIxnF,EAAImB,UAAUnL,KAAMiK,GAEpBjK,KAAK8lD,eAAiB,CAACx/C,MAAO,EAAGD,OAAQ,GAEzCrG,KAAK23F,sBAAwB,SAASlvF,EAAOqvF,GACzCrvF,EAAMnC,MAAQmC,EAAMpC,OAAS,OAC7BoC,EAAM6F,KAAO7F,EAAM4F,IAAM,MACzB5F,EAAMsvF,WAAa,SACnBtvF,EAAMojB,SAAW,WACjBpjB,EAAMuvF,WAAa,MAEfrvE,EAAUhB,KAAO,EACjBlf,EAAM,eAAiB,UAEvBA,EAAMwvF,KAAO,UAEjBxvF,EAAMqjB,SAAWgsE,EAAS,SAAW,WAGzC93F,KAAKwxF,oBAAsB,SAASplF,GAGhC,QAFa3F,IAAT2F,IACAA,EAAOpM,KAAKk4F,iBACZ9rF,IAASpM,KAAK8lD,eAAex/C,QAAU8F,EAAK9F,OAAStG,KAAK8lD,eAAez/C,SAAW+F,EAAK/F,QAAS,CAClGrG,KAAK43F,aAAanvF,MAAM0vF,WAAa,OACrC,IAAIC,EAAWp4F,KAAKk4F,gBACpBl4F,KAAK43F,aAAanvF,MAAM0vF,WAAa,GACrCn4F,KAAK8lD,eAAiB15C,EACtBpM,KAAKq4F,UAAY98F,OAAOoF,OAAO,MAC/BX,KAAKs4F,eAAiBF,GAAYA,EAAS9xF,QAAU8F,EAAK9F,OAAS8xF,EAAS/xF,SAAW+F,EAAK/F,OAC5FrG,KAAKyL,MAAM,sBAAuB,CAACyG,KAAM9F,MAIjDpM,KAAK63F,aAAe,WAChB,IAAIx4F,EAAOW,KACXA,KAAKu4F,UAAY,IAAIvzE,OAAOyyE,gBAAe,SAAS5lF,GAChDxS,EAAKmyF,yBAETxxF,KAAKu4F,UAAUC,QAAQx4F,KAAK43F,eAGhC53F,KAAKuxF,iBAAmB,WACpB,GAAIvxF,KAAKyxF,uBAAyBzxF,KAAKu4F,UACnC,OAAOv4F,KAAKyxF,sBAChB,IAAIpyF,EAAOW,KAEX,OAAOA,KAAKyxF,sBAAwB7qF,EAAMszB,QAAO,SAASC,IACtD96B,EAAKmyF,sBACL5qF,EAAMszB,OAAOC,EAAI,OAClB,MAGPn6B,KAAKy4F,WAAa,SAASnvE,GACnBA,EACAtpB,KAAKuxF,mBACEvxF,KAAKyxF,wBACZ1gD,cAAc/wC,KAAKyxF,uBACnBzxF,KAAKyxF,sBAAwB,IAIrCzxF,KAAKk4F,cAAgB,SAASttE,GAC1B,IAAIxe,EAAO,CACP/F,QAASukB,GAAQ5qB,KAAK43F,cAAczpF,aACpC7H,OAAQskB,GAAQ5qB,KAAK43F,cAAc1pF,YAAcqpF,GAErD,OAAmB,IAAfnrF,EAAK9F,OAA+B,IAAhB8F,EAAK/F,OAClB,KACJ+F,GAGXpM,KAAKgmD,kBAAoB,SAAS78B,GAG9B,OAFAnpB,KAAK0lD,MAAMz7B,YAAc2V,EAAKlC,aAAavU,EAAIouE,GACpCv3F,KAAK0lD,MAAMhkB,wBACVp7B,MAAQixF,GAGxBv3F,KAAKyxE,kBAAoB,SAAStoD,GAC9B,IAAI8sB,EAAIj2C,KAAKq4F,UAAUlvE,GAIvB,YAHU1iB,IAANwvC,IACAA,EAAIj2C,KAAKq4F,UAAUlvE,GAAMnpB,KAAKgmD,kBAAkB78B,GAAMnpB,KAAK8lD,eAAex/C,OAEvE2vC,GAGXj2C,KAAK2G,QAAU,WACXoqC,cAAc/wC,KAAKyxF,uBACfzxF,KAAKu4F,WACLv4F,KAAKu4F,UAAUG,aACf14F,KAAKqL,IAAMrL,KAAKqL,GAAGqb,YACnB1mB,KAAKqL,GAAGqb,WAAW/a,YAAY3L,KAAKqL,KAI5CrL,KAAK24F,SAAW,SAASC,EAAQ7uE,GAC7B,OAAKA,GAAYA,EAAQ8X,eACjB7c,OAAOoH,iBAAiBrC,GAAS8uE,MAAQ,GAAKD,EAAQ7uE,EAAQ8X,eADvB,GAGnD7hC,KAAK84F,2BAA6B,WAC9B,IAAIl3D,EAAI,SAASA,EAAGhc,GAChB,MAAO,CAAC,MAAO,CACXnd,MAAO,0BAA4Bm5B,EAAI,WAAahc,EAAI,SAGhE5lB,KAAKkpB,IAAMyW,EAAI/W,SAAS,CAACgZ,EAAE,EAAG,GAAIA,EAAE+f,EAAG,GAAI/f,EAAE,EAAG+f,GAAI/f,EAAE+f,EAAGA,IAAK3hD,KAAKqL,KAEvErL,KAAK+4F,qBAAuB,SAASC,EAAWC,GACxCD,IAEAA,EAAYE,EAAI,EADLl5F,KAAK24F,SAAS34F,KAAKqL,IACJ2tF,IAE9B,SAASG,EAAMC,EAAIC,EAAIjsC,GACnB,IAAIksC,EAAMF,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GACrC,MAAO,GACDA,EAAG,GAAKjsC,EAAE,GAAKisC,EAAG,GAAKjsC,EAAE,IAAMksC,IAC/BF,EAAG,GAAKhsC,EAAE,GAAKgsC,EAAG,GAAKhsC,EAAE,IAAMksC,GAGzC,SAASC,EAAIjiF,EAAG6oD,GAAK,MAAO,CAAC7oD,EAAE,GAAK6oD,EAAE,GAAI7oD,EAAE,GAAK6oD,EAAE,IACnD,SAASz1C,EAAIpT,EAAG6oD,GAAK,MAAO,CAAC7oD,EAAE,GAAK6oD,EAAE,GAAI7oD,EAAE,GAAK6oD,EAAE,IACnD,SAAS+4B,EAAI5hF,EAAG6oD,GAAK,MAAO,CAAC7oD,EAAI6oD,EAAE,GAAI7oD,EAAI6oD,EAAE,IAK7C,SAAS3gE,EAAE6L,GACP,IAAI+hD,EAAI/hD,EAAGq2B,wBACX,MAAO,CAAC0rB,EAAE9+C,KAAM8+C,EAAE/+C,KALjBrO,KAAKkpB,KACNlpB,KAAK84F,6BAOT,IAAIxhF,EAAI9X,EAAEQ,KAAKkpB,IAAI,IACfi3C,EAAI3gE,EAAEQ,KAAKkpB,IAAI,IACfq4B,EAAI/hD,EAAEQ,KAAKkpB,IAAI,IACf9P,EAAI5Z,EAAEQ,KAAKkpB,IAAI,IAEf8sB,EAAImjD,EAAMI,EAAIngF,EAAG+mD,GAAIo5B,EAAIngF,EAAGmoC,GAAIg4C,EAAI7uE,EAAIy1C,EAAG5e,GAAI72B,EAAItR,EAAG9B,KAEtD4kC,EAAKg9C,EAAI,EAAIljD,EAAE,GAAIujD,EAAIp5B,EAAG7oD,IAC1BkiF,EAAKN,EAAI,EAAIljD,EAAE,GAAIujD,EAAIh4C,EAAGjqC,IAE9B,GAAI2hF,EAAO,CACP,IAAIpgF,EAAIogF,EACJx2B,EAAIzsB,EAAE,GAAKn9B,EAAE,GAAK8oC,EAAI3L,EAAE,GAAKn9B,EAAE,GAAK8oC,EAAI,EACxC83C,EAAK/uE,EAAIwuE,EAAIrgF,EAAE,GAAIqjC,GAAKg9C,EAAIrgF,EAAE,GAAI2gF,IACtC,OAAQ9uE,EAAIwuE,EAAI,EAAIz2B,EAAI9gB,EAAG83C,GAAKniF,GAEpC,IAAIoiF,EAAIH,EAAIP,EAAW1hF,GACnBqiF,EAAIR,EAAMI,EAAIr9C,EAAIg9C,EAAIljD,EAAE,GAAI0jD,IAAKH,EAAIC,EAAIN,EAAIljD,EAAE,GAAI0jD,IAAKA,GAC5D,OAAOR,EAAIv3C,EAAGg4C,MAGnBr8F,KAAKo6F,EAAYt6F,cAIpByM,IAAIC,OAAO,uBAAuB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,aAAa,mBAAmB,mBAAmB,iBAAiB,mBAAmB,gBAAgB,gBAAgB,iBAAiB,yBAAyB,wBAAwB,sBAAsB,SAAS7N,EAASR,EAASsO,GACtU,aAEA,IAAIC,EAAM/N,EAAQ,aACd0jC,EAAM1jC,EAAQ,aACdqgD,EAASrgD,EAAQ,YACjB29F,EAAc39F,EAAQ,kBAAkBoxF,OACxCwM,EAAc59F,EAAQ,kBAAkBuzF,OACxCsK,EAAY79F,EAAQ,gBAAgB00F,KACpCoJ,EAAc99F,EAAQ,kBAAkBm4F,OACxCuC,EAAa16F,EAAQ,eAAe06F,WACpCP,EAAan6F,EAAQ,eAAem6F,WACpCa,EAAah7F,EAAQ,gBAAgBg7F,WACrCS,EAAcz7F,EAAQ,wBAAwBy7F,YAC9CztF,EAAehO,EAAQ,uBAAuBgO,aAC9C+vF,EAAY,+zbAyeZrxE,EAAY1sB,EAAQ,mBACpBg+F,EAAgBtxE,EAAUhB,KAE9BgY,EAAI1U,gBAAgB+uE,EAAW,kBAE/B,IAAI5vF,EAAkB,SAASG,EAAWnJ,GACtC,IAAIk+B,EAAQt/B,KAEZA,KAAKuK,UAAYA,GAAao1B,EAAIj3B,cAAc,OAEhDi3B,EAAIrV,YAAYtqB,KAAKuK,UAAW,cAC5Bo1B,EAAIjT,QAAQiT,EAAIrV,YAAYtqB,KAAKuK,UAAW,aAEhDvK,KAAK6C,SAASzB,GAEdpB,KAAKuuC,QAAU5O,EAAIj3B,cAAc,OACjC1I,KAAKuuC,QAAQxtC,UAAY,aACzBf,KAAKuK,UAAUiB,YAAYxL,KAAKuuC,SAChCvuC,KAAKuuC,QAAQhlB,aAAa,eAAe,GAEzCvpB,KAAK+mC,SAAWpH,EAAIj3B,cAAc,OAClC1I,KAAK+mC,SAAShmC,UAAY,eAE1Bf,KAAKuK,UAAUiB,YAAYxL,KAAK+mC,UAEhC/mC,KAAK0nF,QAAU/nD,EAAIj3B,cAAc,OACjC1I,KAAK0nF,QAAQ3mF,UAAY,cACzBf,KAAK+mC,SAASv7B,YAAYxL,KAAK0nF,SAE/B1nF,KAAKutC,aAAe,IAAIqsD,EAAY55F,KAAKuuC,SACzCvuC,KAAKutC,aAAanqC,GAAG,oBAAqBpD,KAAKk6F,eAAe75F,KAAKL,OAEnEA,KAAKm6F,YAAc,IAAIN,EAAY75F,KAAK0nF,SAExC,IAAI0S,EAAYp6F,KAAKq6F,WAAa,IAAIP,EAAU95F,KAAK0nF,SACrD1nF,KAAKs6F,OAASF,EAAUrwE,QAExB/pB,KAAKu6F,aAAe,IAAIV,EAAY75F,KAAK0nF,SAEzC1nF,KAAK6wC,aAAe,IAAIkpD,EAAY/5F,KAAK0nF,SACzC1nF,KAAKw6F,cAAe,EACpBx6F,KAAKy6F,UAAW,EAEhBz6F,KAAK06F,UACL16F,KAAK28C,WAAa,IAAIy5C,EAAWp2F,KAAKuK,UAAWvK,MACjDA,KAAK48C,WAAa,IAAI+5C,EAAW32F,KAAKuK,UAAWvK,MACjDA,KAAK28C,WAAWv5C,GAAG,UAAU,SAASyO,GAC7BytB,EAAMq7D,kBACPr7D,EAAMx7B,QAAQ2nE,aAAa55D,EAAEK,KAAOotB,EAAM19B,aAAayM,QAE/DrO,KAAK48C,WAAWx5C,GAAG,UAAU,SAASyO,GAC7BytB,EAAMq7D,kBACPr7D,EAAMx7B,QAAQ6nE,cAAc95D,EAAEK,KAAOotB,EAAM19B,aAAa0M,SAGhEtO,KAAK2xC,UAAY,EACjB3xC,KAAK01C,WAAa,EAElB11C,KAAKq2C,UAAY,CACbpb,IAAM,EACNC,OAAS,GAGbl7B,KAAKqxF,aAAe,IAAIqG,EAAY13F,KAAKuK,WACzCvK,KAAKq6F,WAAW/oB,gBAAgBtxE,KAAKqxF,cACrCrxF,KAAKq6F,WAAWj3F,GAAG,uBAAuB,SAASyO,GAC/CytB,EAAMs7D,sBACNt7D,EAAM88C,UAAS,EAAM98C,EAAMkuD,YAAaluD,EAAMu7D,MAAMv0F,MAAOg5B,EAAMu7D,MAAMx0F,QACvEi5B,EAAMqG,QAAQ,sBAAuB9zB,MAGzC7R,KAAK66F,MAAQ,CACTv0F,MAAO,EACPD,OAAQ,EACRy0F,eAAgB,EAChBC,cAAe,EACfC,QAAQ,GAGZh7F,KAAKgwC,YAAc,CACf1pC,MAAQ,EACR6b,QAAU,EACVqa,SAAW,EACX+vD,eAAgB,EAChB9vD,QAAU,EACVsT,WAAa,EACbxJ,eAAiB,EACjB00D,UAAY,EACZxF,UAAY,EACZ52D,OAAS,EACTx4B,OAAS,EACT0nF,aAAc,GAGlB/tF,KAAK4B,aAAe,CAChB0M,KAAM,EACNqF,MAAO,EACPtF,IAAK,EACLu4B,OAAQ,EACRs0D,EAAG,EACHllD,EAAG,GAGPh2C,KAAKmxF,OAAS,CACV7iF,KAAM,EACNqF,MAAO,EACPtF,IAAK,EACLu4B,OAAQ,EACRs0D,EAAG,EACHllD,EAAG,GAGPh2C,KAAKwlC,uBAAyB7c,EAAUH,MAExCxoB,KAAKgnF,MAAQ,IAAIiQ,EACbj3F,KAAKm7F,eAAe96F,KAAKL,MACzBA,KAAKuK,UAAU2f,cAAckxE,aAEjCp7F,KAAKgnF,MAAM9nD,SAASl/B,KAAKq7F,aAEzBr7F,KAAK46F,sBACL56F,KAAKyvF,WAAW,GAChBnzC,EAAOzC,aAAa75C,MACpBs8C,EAAO3W,QAAQ,WAAY3lC,QAG/B,WAEIA,KAAKs7F,cAAgB,EACrBt7F,KAAKu7F,cAAgB,EACrBv7F,KAAKinF,cAAgB,EACrBjnF,KAAKw7F,cAAgB,EACrBx7F,KAAKy7F,aAAe,GACpBz7F,KAAK07F,YAAc,GACnB17F,KAAK27F,YAAc,GACnB37F,KAAK47F,mBAAqB,IAC1B57F,KAAK67F,oBAAsB,IAC3B77F,KAAKq7F,YAAc,IACnBr7F,KAAK87F,gBAAkB,KAEvB9xF,EAAImB,UAAUnL,KAAMiK,GAEpBjK,KAAK46F,oBAAsB,WACnB56F,KAAKq6F,WAAW/B,gBAAkBt4F,KAAK+7F,kBACvC/7F,KAAK+7F,gBAAkB/7F,KAAKq6F,WAAW/B,eACvCt4F,KAAKqsB,SAAS,cAAersB,KAAK+7F,kBAGtC/7F,KAAKgwC,YAAYzJ,eACjBvmC,KAAKumC,eAAiBvmC,KAAKq6F,WAAW5oB,oBACtCzxE,KAAKgwC,YAAYD,WACjB/vC,KAAK+vC,WAAa/vC,KAAKq6F,WAAWjJ,gBAClCpxF,KAAKg8F,qBACLr8D,EAAItT,SAASrsB,KAAK+mC,SAASt+B,MAAO,cAAezI,KAAK+vC,WAAa,OAEvE/vC,KAAK6N,WAAa,SAAS/J,GACnB9D,KAAK8D,SACL9D,KAAK8D,QAAQ2lB,IAAI0b,IAAI,oBAAqBnlC,KAAKi8F,qBAEnDj8F,KAAK8D,QAAUA,EACXA,GAAW9D,KAAK4B,aAAayM,KAAOvK,EAAQgzC,gBAAkB,GAC9DhzC,EAAQ2nE,cAAczrE,KAAK4B,aAAayM,KAE5CrO,KAAK6wC,aAAahjC,WAAW/J,GAC7B9D,KAAKm6F,YAAYtsF,WAAW/J,GAC5B9D,KAAKu6F,aAAa1sF,WAAW/J,GAC7B9D,KAAKutC,aAAa1/B,WAAW/J,GAC7B9D,KAAKq6F,WAAWxsF,WAAW/J,GACtBA,IAGL9D,KAAKgnF,MAAM9nD,SAASl/B,KAAKq7F,aACzBr7F,KAAK8D,QAAQwtE,gBAAgBtxE,KAAKqxF,cAClCrxF,KAAK48C,WAAWlH,WAAa11C,KAAK28C,WAAWhL,UAAY,KAEzD3xC,KAAKi8F,oBAAsBj8F,KAAKi8F,oBAAoB57F,KAAKL,MACzDA,KAAKi8F,sBACLj8F,KAAK8D,QAAQ2lB,IAAIrmB,GAAG,oBAAqBpD,KAAKi8F,uBAElDj8F,KAAK69E,YAAc,SAASrhD,EAAUC,EAAS0vC,GAiB3C,QAhBgB1lE,IAAZg2B,IACAA,EAAUo7B,KAET73D,KAAKk8F,eAOFl8F,KAAKk8F,cAAc1/D,SAAWA,IAC9Bx8B,KAAKk8F,cAAc1/D,SAAWA,GAE9Bx8B,KAAKk8F,cAAcz/D,QAAUA,IAC7Bz8B,KAAKk8F,cAAcz/D,QAAUA,IAVjCz8B,KAAKk8F,cAAgB,CACjB1/D,SAAUA,EACVC,QAASA,GAUbz8B,KAAKk8F,cAAcz/D,QAAUz8B,KAAKgwC,YAAYxT,SAAU,CACxD,IAAI2vC,EAGA,OAFAnsE,KAAKk8F,cAAcz/D,QAAUz8B,KAAKgwC,YAAYvT,QAIlDz8B,KAAKk8F,cAAc1/D,SAAWx8B,KAAKgwC,YAAYvT,SAEnDz8B,KAAKgnF,MAAM9nD,SAASl/B,KAAKy7F,eAG7Bz7F,KAAKi8F,oBAAsB,WACvBj8F,KAAKgnF,MAAM9nD,SAASl/B,KAAK07F,aACzB17F,KAAKq6F,WAAWzJ,iBAChB5wF,KAAK8D,QAAQ2iD,aAAaP,WAAWlmD,KAAKq6F,WAAWrJ,WAGzDhxF,KAAKy7E,gBAAkB,WACnBz7E,KAAKgnF,MAAM9nD,SAASl/B,KAAK07F,YAAc17F,KAAKu7F,eAC5Cv7F,KAAKq6F,WAAW5e,mBAEpBz7E,KAAK6+E,WAAa,WACd7+E,KAAKgnF,MAAM9nD,SAASl/B,KAAK07F,cAE7B17F,KAAKk8E,WAAa,SAAS/P,GACnBA,EACAnsE,KAAKm7F,eAAen7F,KAAKq7F,aAAa,GAEtCr7F,KAAKgnF,MAAM9nD,SAASl/B,KAAKq7F,cAEjCr7F,KAAKm8F,eAAiB,WAClBn8F,KAAKq6F,WAAW7I,uBAGpBxxF,KAAKo8F,SAAW,EAChBp8F,KAAKq8F,iBAAmB,WAChBr8F,KAAKgnF,MAAMmQ,QACXn3F,KAAK66F,MAAMG,QAAS,EAEpBh7F,KAAKo8E,YAEbp8E,KAAKo8E,SAAW,SAASjQ,EAAOqhB,EAAalnF,EAAOD,GAChD,KAAIrG,KAAKs8F,SAAW,GAApB,CAESt8F,KAAKs8F,SAAW,EACrBt8F,KAAKs8F,WAELt8F,KAAKs8F,SAAWnwB,EAAQ,EAAI,EAChC,IAAI9gE,EAAKrL,KAAKuK,UACTlE,IACDA,EAASgF,EAAG8C,cAAgB9C,EAAGgrF,cAC9B/vF,IACDA,EAAQ+E,EAAG6C,aAAe7C,EAAGkxF,aACjC,IAAIngF,EAAUpc,KAAKw8F,kBAAkBrwB,EAAOqhB,EAAalnF,EAAOD,GAGhE,IAAKrG,KAAK66F,MAAMC,iBAAoBx0F,IAAUD,EAC1C,OAAOrG,KAAKs8F,SAAW,EAEvBnwB,IACAnsE,KAAKutC,aAAaihD,SAAW,MAE7BriB,EACAnsE,KAAKm7F,eAAe/+E,EAAUpc,KAAKo8F,UAAU,GAE7Cp8F,KAAKgnF,MAAM9nD,SAAS9iB,EAAUpc,KAAKo8F,UAEnCp8F,KAAKs8F,WACLt8F,KAAKs8F,SAAW,GACpBt8F,KAAK28C,WAAWjH,WAAa11C,KAAK28C,WAAWhL,UAAY,OAG7D3xC,KAAKw8F,kBAAoB,SAASrwB,EAAOqhB,EAAalnF,EAAOD,GACzDA,GAAWrG,KAAKy8F,cAAgB,EAChC,IAAIrgF,EAAU,EACVhQ,EAAOpM,KAAK66F,MACZ6B,EAAU,CACVp2F,MAAO8F,EAAK9F,MACZD,OAAQ+F,EAAK/F,OACby0F,eAAgB1uF,EAAK0uF,eACrBC,cAAe3uF,EAAK2uF,eAcxB,GAZI10F,IAAW8lE,GAAS//D,EAAK/F,QAAUA,KACnC+F,EAAK/F,OAASA,EACd+V,GAAWpc,KAAK27F,YAEhBvvF,EAAK0uF,eAAiB1uF,EAAK/F,OACvBrG,KAAKw6F,eACLpuF,EAAK0uF,gBAAkB96F,KAAK48C,WAAWlQ,aAC3C1sC,KAAK28C,WAAW5yB,QAAQthB,MAAMm+B,OAAS5mC,KAAK48C,WAAWlQ,YAAc,KAErEtwB,GAAoBpc,KAAKw7F,eAGzBl1F,IAAU6lE,GAAS//D,EAAK9F,OAASA,GAAQ,CACzC8V,GAAWpc,KAAK27F,YAChBvvF,EAAK9F,MAAQA,EAEM,MAAfknF,IACAA,EAAcxtF,KAAK28F,YAAc38F,KAAKuuC,QAAQtiB,YAAc,GAEhEjsB,KAAKwtF,YAAcA,EAEnB7tD,EAAItT,SAASrsB,KAAK48C,WAAW7yB,QAAQthB,MAAO,OAAQ+kF,EAAc,MAClE7tD,EAAItT,SAASrsB,KAAK+mC,SAASt+B,MAAO,OAAQ+kF,EAAcxtF,KAAKmxF,OAAO7iF,KAAO,MAC3ElC,EAAK2uF,cAAgBxiF,KAAK7K,IAAI,EAAGpH,EAAQknF,EAAcxtF,KAAK28C,WAAW/P,WAAa5sC,KAAKmxF,OAAOn7C,GAChGrW,EAAItT,SAASrsB,KAAKuuC,QAAQ9lC,MAAO,OAAQzI,KAAKmxF,OAAO7iF,KAAO,MAE5D,IAAIqF,EAAQ3T,KAAK28C,WAAW/P,WAAa,KACzCjN,EAAItT,SAASrsB,KAAK48C,WAAW7yB,QAAQthB,MAAO,QAASkL,GACrDgsB,EAAItT,SAASrsB,KAAK+mC,SAASt+B,MAAO,QAASkL,GAC3CgsB,EAAItT,SAASrsB,KAAK+mC,SAASt+B,MAAO,SAAUzI,KAAK48C,WAAWlQ,cAExD1sC,KAAK8D,SAAW9D,KAAK8D,QAAQsJ,kBAAoBpN,KAAKouE,mBAAqBjC,KAC3E/vD,GAAWpc,KAAKq7F,aASxB,OALAjvF,EAAK4uF,QAAU10F,IAAUD,EAErB+V,GACApc,KAAK2lC,QAAQ,SAAU+2D,GAEpBtgF,GAGXpc,KAAKk6F,eAAiB,SAAS5zF,GAC3B,IAAIknF,EAAcxtF,KAAK28F,YAAcr2F,EAAQ,EACzCknF,GAAextF,KAAKwtF,cACpBxtF,KAAKo8F,UAAYp8F,KAAKw8F,mBAAkB,EAAMhP,EAAaxtF,KAAK66F,MAAMv0F,MAAOtG,KAAK66F,MAAMx0F,SAExFrG,KAAK8D,QAAQsJ,kBAAoBpN,KAAKouE,mBAE/BpuE,KAAK66F,MAAMG,OADlBh7F,KAAKgnF,MAAM9nD,SAASl/B,KAAKq7F,aAIzBr7F,KAAK48F,uBAGb58F,KAAKouE,gBAAkB,WACnB,IAAIyuB,EAAiB78F,KAAK66F,MAAME,cAAgC,EAAhB/6F,KAAKwuF,SACjD5f,EAAQr2D,KAAK2C,MAAM2hF,EAAiB78F,KAAKumC,gBAC7C,OAAOvmC,KAAK8D,QAAQsqE,gBAAgBQ,EAAO5uE,KAAK88F,kBAAoB98F,KAAK+8F,qBAE7E/8F,KAAKygF,kBAAoB,SAASC,GAC9B1gF,KAAKuE,UAAU,iBAAkBm8E,IAErC1gF,KAAK2gF,kBAAoB,WACrB,OAAO3gF,KAAKg9F,iBAEhBh9F,KAAKimD,kBAAoB,SAASrC,GAC9B5jD,KAAKuE,UAAU,iBAAkBq/C,GACjC5jD,KAAK8D,QAAQ2iD,aAAaR,kBAAkBrC,IAEhD5jD,KAAK4gF,kBAAoB,WACrB,OAAO5gF,KAAKk5C,UAAU,mBAE1Bl5C,KAAK8gF,uBAAyB,WAC1B,OAAO9gF,KAAKk5C,UAAU,wBAG1Bl5C,KAAK6gF,uBAAyB,SAASl1D,GACnC3rB,KAAKuE,UAAU,sBAAuBonB,IAE1C3rB,KAAKmD,mBAAqB,SAASzB,GAC/B1B,KAAKuE,UAAU,kBAAmB7C,IAEtC1B,KAAK+gF,mBAAqB,WACtB,OAAO/gF,KAAKk5C,UAAU,oBAE1Bl5C,KAAKghF,qBAAuB,SAASt/E,GACjC1B,KAAKuE,UAAU,oBAAqB7C,IAExC1B,KAAKihF,qBAAuB,WACxB,OAAOjhF,KAAKk5C,UAAU,sBAE1Bl5C,KAAKi9F,cAAgB,WACjB,OAAOj9F,KAAKk5C,UAAU,eAE1Bl5C,KAAKiD,cAAgB,SAASupC,GAC1B,OAAOxsC,KAAKuE,UAAU,aAAcioC,IAGxCxsC,KAAKyhF,mBAAqB,WACtB,OAAOzhF,KAAKk5C,UAAU,oBAG1Bl5C,KAAKuhF,mBAAqB,SAAS/0C,GAC/BxsC,KAAKuE,UAAU,kBAAmBioC,IAGtCxsC,KAAKqgF,uBAAyB,SAASF,GACnCngF,KAAKuE,UAAU,sBAAuB47E,IAG1CngF,KAAKsgF,uBAAyB,WAC1B,OAAOtgF,KAAKk5C,UAAU,wBAG1Bl5C,KAAKg8F,mBAAqB,WACtB,GAAKh8F,KAAK88F,kBAAqB98F,KAAKk9F,eAApC,CAGA,IAAKl9F,KAAKk9F,eAAgB,CACtB,IAAIC,EAAcx9D,EAAIj3B,cAAc,OACpCy0F,EAAYp8F,UAAY,mCACxBf,KAAKk9F,eAAiBv9D,EAAIj3B,cAAc,OACxC1I,KAAKk9F,eAAen8F,UAAY,mBAChCo8F,EAAY3xF,YAAYxL,KAAKk9F,gBAC7Bl9F,KAAK0nF,QAAQv8D,aAAagyE,EAAan9F,KAAK0nF,QAAQt8D,YAGxD,IAAI3iB,EAAQzI,KAAKk9F,eAAez0F,MAChCA,EAAM6F,KAAOiK,KAAK2U,MAAMltB,KAAKumC,eAAiBvmC,KAAK+8F,mBAAqB/8F,KAAKwuF,UAAY,KACzF/lF,EAAMsvF,WAAa/3F,KAAK88F,iBAAmB,UAAY,SAEnD98F,KAAK8D,UAAkC,GAAvB9D,KAAK8D,QAAQ6tE,OAC7B3xE,KAAKouE,oBAEbpuE,KAAK+4E,oBAAsB,WACvB,OAAO/4E,KAAKuK,WAEhBvK,KAAKy8C,oBAAsB,WACvB,OAAOz8C,KAAK+mC,UAEhB/mC,KAAKg5E,qBAAuB,WACxB,OAAOh5E,KAAKuK,WAEhBvK,KAAKylC,sBAAwB,WACzB,IAAIzlC,KAAKulC,gBAAT,CACA,IAAI98B,EAAQzI,KAAKi5E,SAASxwE,MACtBk3E,EAAc3/E,KAAKunF,aACvB,GAAKvnF,KAAKwlC,uBAA0Bm6C,EAApC,CAIA,IAAI6V,EAAWx1F,KAAK6wC,aAAaq1C,UACjC,GAAKsP,EAAL,CAEI7V,GAAeA,EAAY36C,cAC3BwwD,EAAWx1F,KAAK6wC,aAAayF,iBAAiBqpC,EAAY36C,YAAYrjB,OAAO,IAEjF,IAAI26B,EAASt8C,KAAKgwC,YACdotD,EAAS5H,EAASnnF,IAClBgvF,EAAU7H,EAASlnF,KACvB8uF,GAAU9gD,EAAOzd,OAEjB,IAAImX,EAAI2pC,GAAeA,EAAY56C,kBAAoB/kC,KAAK+vC,WAAakqD,EAAgB,EAAI,EAC7F,GAAImD,EAAS,GAAKA,EAAS9gD,EAAOj2C,OAAS2vC,EACvCrW,EAAI5S,UAAU/sB,KAAKi5E,SAAU,EAAG,OADpC,CAKA,IAAIhjC,EAAI,EACJtP,EAAS3mC,KAAK66F,MAAMx0F,OAAS2vC,EACjC,GAAK2pC,EAID,GAAIA,EAAY56C,kBAAmB,CAC/B,IAAIzb,EAAMtpB,KAAKi5E,SAASv9E,MACxBu6C,EAAIj2C,KAAKumC,eAAkBvmC,KAAK8D,QAAQ0oE,sBAAsBljD,GAAK,QAGnE8zE,GAAUp9F,KAAK+vC,WAAa,OARhCqtD,GAAUp9F,KAAK+vC,YAYnBstD,GAAWr9F,KAAK01C,YACF11C,KAAK66F,MAAME,cAAgB9kD,IACrConD,EAAUr9F,KAAK66F,MAAME,cAAgB9kD,GAEzConD,GAAWr9F,KAAKwtF,YAAcxtF,KAAKmxF,OAAO7iF,KAE1CqxB,EAAItT,SAAS5jB,EAAO,SAAUutC,EAAI,MAClCrW,EAAItT,SAAS5jB,EAAO,QAASwtC,EAAI,MACjCtW,EAAI5S,UAAU/sB,KAAKi5E,SAAU1gE,KAAK9K,IAAI4vF,EAASr9F,KAAK66F,MAAME,cAAgB9kD,GAAI19B,KAAK9K,IAAI2vF,EAAQz2D,WA3C3FhH,EAAI5S,UAAU/sB,KAAKi5E,UAAW,IAAK,KA6C3Cj5E,KAAK8jF,mBAAqB,WACtB,OAAO9jF,KAAKgwC,YAAYxT,UAE5Bx8B,KAAKkkF,wBAA0B,WAC3B,OAAOlkF,KAAKgwC,YAAYxT,UAAwC,IAA5Bx8B,KAAKgwC,YAAYnR,OAAe,EAAI,IAE5E7+B,KAAKmkF,uBAAyB,WAC1B,IAAI7nC,EAASt8C,KAAKgwC,YACdvT,EAAU6f,EAAO7f,QAErB,OADUz8B,KAAK8D,QAAQuqC,oBAAoB5R,EAAS,GAAK6f,EAAOvM,WACtD/vC,KAAK8D,QAAQgzC,eAAiBwF,EAAOj2C,OAASi2C,EAAOvM,WACpDtT,EAAU,EACdA,GAEXz8B,KAAK+jF,kBAAoB,WACrB,OAAO/jF,KAAKgwC,YAAYvT,SAG5Bz8B,KAAKwuF,SAAW,KAChBxuF,KAAKyvF,WAAa,SAASttE,GACvBniB,KAAKwuF,SAAWrsE,EAChBniB,KAAKq6F,WAAW5K,WAAWttE,GAC3BniB,KAAK6wC,aAAa4+C,WAAWttE,GAC7BniB,KAAKu6F,aAAa9K,WAAWttE,GAC7BniB,KAAKm6F,YAAY1K,WAAWttE,GAC5BniB,KAAKgnF,MAAM9nD,SAASl/B,KAAKq7F,aACzBr7F,KAAKg8F,sBAGTh8F,KAAKyC,gBAAkB,SAAS4L,EAAKu4B,EAAQt4B,EAAMqF,GAC/C,IAAI2pF,EAAKt9F,KAAK4B,aACd07F,EAAGjvF,IAAU,EAAJA,EACTivF,EAAG12D,OAAgB,EAAPA,EACZ02D,EAAG3pF,MAAc,EAANA,EACX2pF,EAAGhvF,KAAY,EAALA,EACVgvF,EAAGpC,EAAIoC,EAAGjvF,IAAMivF,EAAG12D,OACnB02D,EAAGtnD,EAAIsnD,EAAGhvF,KAAOgvF,EAAG3pF,MAChB2pF,EAAGjvF,KAAOrO,KAAK2xC,WAAa,GAAK3xC,KAAK8D,SACtC9D,KAAK8D,QAAQ2nE,cAAc6xB,EAAGjvF,KAClCrO,KAAKk8E,cAGTl8E,KAAKu9F,UAAY,SAASlvF,EAAKu4B,EAAQt4B,EAAMqF,GACzC,IAAI2pF,EAAKt9F,KAAKmxF,OACdmM,EAAGjvF,IAAU,EAAJA,EACTivF,EAAG12D,OAAgB,EAAPA,EACZ02D,EAAG3pF,MAAc,EAANA,EACX2pF,EAAGhvF,KAAY,EAALA,EACVgvF,EAAGpC,EAAIoC,EAAGjvF,IAAMivF,EAAG12D,OACnB02D,EAAGtnD,EAAIsnD,EAAGhvF,KAAOgvF,EAAG3pF,MACpB3T,KAAKw8F,mBAAkB,EAAMx8F,KAAKwtF,YAAaxtF,KAAK66F,MAAMv0F,MAAOtG,KAAK66F,MAAMx0F,QAC5ErG,KAAKk8E,cAETl8E,KAAKw9F,2BAA6B,WAC9B,OAAOx9F,KAAKy9F,0BAEhBz9F,KAAK09F,2BAA6B,SAASC,GACvC39F,KAAKuE,UAAU,0BAA2Bo5F,IAE9C39F,KAAK49F,2BAA6B,WAC9B,OAAO59F,KAAK69F,0BAEhB79F,KAAK89F,2BAA6B,SAASH,GACvC39F,KAAKuE,UAAU,0BAA2Bo5F,IAG9C39F,KAAK+9F,kBAAoB,WACrB,IAAI1H,EAAer2F,KAAKgwC,YAAYylD,UAChCqF,EAAiB96F,KAAK66F,MAAMC,gBAC3B96F,KAAKm+E,WAAan+E,KAAKg+F,iBACxB3H,IAAiByE,EAAiB96F,KAAK+vC,YAAc/vC,KAAKg+F,eACtDh+F,KAAK2xC,UAAY0kD,EAAeyE,IAChCzE,EAAer2F,KAAK2xC,UAAYmpD,EAChC96F,KAAK28C,WAAWhL,UAAY,OAGpC3xC,KAAK28C,WAAW+5C,gBAAgBL,EAAer2F,KAAK4B,aAAas5F,GACjEl7F,KAAK28C,WAAW8uB,aAAazrE,KAAK2xC,UAAY3xC,KAAK4B,aAAayM,MAEpErO,KAAKi+F,kBAAoB,WACrBj+F,KAAK48C,WAAWk6C,eAAe92F,KAAKgwC,YAAY1pC,MAAQ,EAAItG,KAAKwuF,SAAWxuF,KAAK4B,aAAao0C,GAC9Fh2C,KAAK48C,WAAW+uB,cAAc3rE,KAAK01C,WAAa11C,KAAK4B,aAAa0M,OAGtEtO,KAAKk+F,SAAU,EACfl+F,KAAKm+F,OAAS,WACVn+F,KAAKk+F,SAAU,GAGnBl+F,KAAKo+F,SAAW,WACZp+F,KAAKk+F,SAAU,GAGnBl+F,KAAKm7F,eAAiB,SAAS/+E,EAAS+vD,GAKpC,GAJInsE,KAAKo8F,WACLhgF,GAAWpc,KAAKo8F,SAChBp8F,KAAKo8F,SAAW,GAEdp8F,KAAK8D,SAAY9D,KAAKuK,UAAU0hB,cAAejsB,KAAKk+F,UAAc9hF,GAAY+vD,GAApF,CAIA,GAAInsE,KAAK66F,MAAMG,OAEX,OADAh7F,KAAKo8F,UAAYhgF,EACVpc,KAAKo8E,UAAS,GAEpBp8E,KAAK+vC,YACN/vC,KAAKq6F,WAAW7I,sBAGpBxxF,KAAK2lC,QAAQ,eAAgBvpB,GAEzBpc,KAAK8D,SAAW9D,KAAK8D,QAAQ2iD,cAC7BzmD,KAAK8D,QAAQ2iD,aAAaZ,sBAAsB7lD,KAAKqxF,cAEzD,IAAI/0C,EAASt8C,KAAKgwC,YAClB,GAAI5zB,EAAUpc,KAAKq7F,aACfj/E,EAAUpc,KAAK27F,aACfv/E,EAAUpc,KAAK07F,aACft/E,EAAUpc,KAAKy7F,cACfr/E,EAAUpc,KAAKw7F,eACfp/E,EAAUpc,KAAK87F,gBACjB,CAEE,GADA1/E,GAAWpc,KAAK48F,sBAAwB58F,KAAKgnF,MAAMr2E,QAC/C2rC,EAAO9f,UAAYx8B,KAAKgwC,YAAYxT,UAAY8f,EAAOiwC,gBAAkBvsF,KAAKgwC,YAAYu8C,eAAgB,CAC1G,IAAI8R,EAAKr+F,KAAK2xC,WAAa2K,EAAO9f,SAAWx8B,KAAKgwC,YAAYxT,UAAYx8B,KAAK+vC,WAC3EsuD,EAAK,IACLr+F,KAAK2xC,UAAY0sD,EACjBjiF,GAAoBpc,KAAKw7F,cACzBp/E,GAAWpc,KAAK48F,sBAAwB58F,KAAKgnF,MAAMr2E,SAG3D2rC,EAASt8C,KAAKgwC,YACdhwC,KAAK+9F,oBACD3hF,EAAUpc,KAAK87F,iBACf97F,KAAKi+F,oBAETt+D,EAAI5S,UAAU/sB,KAAK0nF,SAAU1nF,KAAK01C,YAAa4G,EAAOzd,QAEtD,IAAIv4B,EAAQg2C,EAAOh2C,MAAQ,EAAItG,KAAKwuF,SAAW,KAC3CnoF,EAASi2C,EAAO2+C,UAAY,KAEhCt7D,EAAItT,SAASrsB,KAAK0nF,QAAQj/E,MAAO,QAASnC,GAC1Cq5B,EAAItT,SAASrsB,KAAK0nF,QAAQj/E,MAAO,SAAUpC,GAM/C,GAJI+V,EAAUpc,KAAK87F,kBACfn8D,EAAI5S,UAAU/sB,KAAK0nF,SAAU1nF,KAAK01C,YAAa4G,EAAOzd,QACtD7+B,KAAK+mC,SAAShmC,UAAYf,KAAK01C,YAAc,EAAI,eAAiB,gCAElEt5B,EAAUpc,KAAKq7F,YAUf,OATAr7F,KAAKk8F,cAAgB,KACrBl8F,KAAKq6F,WAAW56B,OAAOnjB,GACnBt8C,KAAK28F,aACL38F,KAAKutC,aAAakyB,OAAOnjB,GAC7Bt8C,KAAKm6F,YAAY16B,OAAOnjB,GACxBt8C,KAAKu6F,aAAa96B,OAAOnjB,GACzBt8C,KAAK6wC,aAAa4uB,OAAOnjB,GACzBt8C,KAAKylC,6BACLzlC,KAAK2lC,QAAQ,cAAevpB,GAGhC,GAAIA,EAAUpc,KAAKw7F,cAkBf,OAjBAx7F,KAAKk8F,cAAgB,KACjB9/E,EAAUpc,KAAK07F,aAAet/E,EAAUpc,KAAKy7F,aAC7Cz7F,KAAKq6F,WAAW56B,OAAOnjB,GAEvBt8C,KAAKq6F,WAAWvL,YAAYxyC,GAE5Bt8C,KAAK28F,cACDvgF,EAAUpc,KAAKinF,eAAiB7qE,EAAUpc,KAAKy7F,aAC/Cz7F,KAAKutC,aAAakyB,OAAOnjB,GAEzBt8C,KAAKutC,aAAauhD,YAAYxyC,IAEtCt8C,KAAKm6F,YAAY16B,OAAOnjB,GACxBt8C,KAAKu6F,aAAa96B,OAAOnjB,GACzBt8C,KAAK6wC,aAAa4uB,OAAOnjB,GACzBt8C,KAAKylC,6BACLzlC,KAAK2lC,QAAQ,cAAevpB,GAI5BA,EAAUpc,KAAK07F,aACf17F,KAAKk8F,cAAgB,KACrBl8F,KAAKq6F,WAAW56B,OAAOnjB,GACnBt8C,KAAK28F,aACL38F,KAAKutC,aAAakyB,OAAOnjB,IAExBlgC,EAAUpc,KAAKy7F,cAChBz7F,KAAKs+F,gBAAmBliF,EAAUpc,KAAKinF,eAAkBjnF,KAAK28F,cAC9D38F,KAAKutC,aAAakyB,OAAOnjB,GAExBlgC,EAAUpc,KAAK07F,aAAet/E,EAAUpc,KAAKinF,cAC9CjnF,KAAK28F,aACL38F,KAAKutC,aAAakyB,OAAOnjB,GAExBlgC,EAAUpc,KAAKs7F,eAChBt7F,KAAK0uF,sBACL1uF,KAAKutC,aAAaqhD,oBAAoBtyC,GAG1ClgC,EAAUpc,KAAKs7F,gBACft7F,KAAK6wC,aAAa4uB,OAAOnjB,GACzBt8C,KAAKylC,yBAGLrpB,GAAWpc,KAAKu7F,cAAgBv7F,KAAK67F,sBACrC77F,KAAKu6F,aAAa96B,OAAOnjB,GAGzBlgC,GAAWpc,KAAKu7F,cAAgBv7F,KAAK47F,qBACrC57F,KAAKm6F,YAAY16B,OAAOnjB,GAG5Bt8C,KAAK2lC,QAAQ,cAAevpB,QAnHxBpc,KAAKo8F,UAAYhgF,GAuHzBpc,KAAKu+F,UAAY,WACb,IAAIl4F,EAASrG,KAAK8D,QAAQqtE,kBAAoBnxE,KAAK+vC,WAC/C0lD,EAAYz1F,KAAKm+E,UAAYn+E,KAAK+vC,WAClCyuD,EAAgBjmF,KAAK9K,IAAIgoF,EACzBl9E,KAAK7K,KAAK1N,KAAKo+E,WAAa,GAAKp+E,KAAK+vC,WAAY1pC,IAClDrG,KAAK4B,aAAas5F,GAAKl7F,KAAKy8F,cAAgB,GAC5Cz8F,KAAKw6F,eACLgE,GAAiBx+F,KAAK48C,WAAWlQ,aACjC1sC,KAAKy+F,iBAAmBD,EAAgBx+F,KAAKy+F,kBAC7CD,EAAgBx+F,KAAKy+F,iBAEzB,IACInuD,IADiBkuD,GAAiB,EAAIx+F,KAAK+vC,aACd1pC,EAASovF,EAE1C,GAAI+I,GAAiBx+F,KAAKw+F,eACtBx+F,KAAK66F,MAAMx0F,QAAUrG,KAAKw+F,eAAiBluD,GAAWtwC,KAAKy6F,SAAU,CACjEnqD,GAAWtwC,KAAKy6F,WAChBz6F,KAAKy6F,SAAWnqD,EAChBtwC,KAAK28C,WAAWs5C,WAAW3lD,IAG/B,IAAI2F,EAAIj2C,KAAKuK,UAAU2D,YACvBlO,KAAKuK,UAAU9B,MAAMpC,OAASm4F,EAAgB,KAC9Cx+F,KAAKw8F,mBAAkB,EAAMx8F,KAAK0+F,aAAczoD,EAAGuoD,GACnDx+F,KAAKw+F,cAAgBA,EAErBx+F,KAAK2lC,QAAQ,cAIrB3lC,KAAK48F,oBAAsB,WACvB,IAAI94F,EAAU9D,KAAK8D,QACfsI,EAAOpM,KAAK66F,MAEZ8D,EAAiBvyF,EAAK/F,QAAU,EAAIrG,KAAK+vC,WAEzC0lD,EADcz1F,KAAK8D,QAAQqtE,kBACDnxE,KAAK+vC,WAE/B6uD,EAAc5+F,KAAK6+F,kBAEnBC,GAAeH,IAAmB3+F,KAAKy9F,0BACvCrxF,EAAK2uF,cAAgB6D,EAAc,EAAI5+F,KAAKwuF,SAAW,GAEvDuQ,EAAiB/+F,KAAKw6F,eAAiBsE,EACvCC,IACA/+F,KAAKw6F,aAAesE,EACpB9+F,KAAK48C,WAAWq5C,WAAW6I,IAE/B,IAAIE,EAAgBh/F,KAAKy6F,SACrBz6F,KAAKm+E,WAAan+E,KAAK+vC,WAAa,GACpC/vC,KAAKu+F,YAET,IAAItD,EAAY7uF,EAAK0uF,eAAiB96F,KAAK+vC,WAEvCs4C,GAAiBroF,KAAKm+E,WAAan+E,KAAKg+F,gBACrC5xF,EAAK0uF,eAAiB96F,KAAK+vC,YAAc/vC,KAAKg+F,eAC/C,EACNvI,GAAapN,EAEb,IAAIiV,EAAKt9F,KAAK4B,aACd5B,KAAK8D,QAAQ2nE,aAAalzD,KAAK7K,KAAK4vF,EAAGjvF,IACnCkK,KAAK9K,IAAIzN,KAAK2xC,UAAW8jD,EAAYrpF,EAAK0uF,eAAiBwC,EAAG12D,UAElE5mC,KAAK8D,QAAQ6nE,cAAcpzD,KAAK7K,KAAK4vF,EAAGhvF,KAAMiK,KAAK9K,IAAIzN,KAAK01C,WACxDkpD,EAAc,EAAI5+F,KAAKwuF,SAAWpiF,EAAK2uF,cAAgBuC,EAAG3pF,SAE9D,IAAI28B,GAAWquD,IAAmB3+F,KAAK69F,0BACnCzxF,EAAK0uF,eAAiBrF,EAAYpN,EAAgB,GAAKroF,KAAK2xC,UAAY2rD,EAAGjvF,KAC3E4wF,EAAiBD,IAAkB1uD,EACnC2uD,IACAj/F,KAAKy6F,SAAWnqD,EAChBtwC,KAAK28C,WAAWs5C,WAAW3lD,IAG/B,IAIIi8C,EAAgB2S,EAJhBrgE,EAAS7+B,KAAK2xC,UAAY3xC,KAAK+vC,WAC/BovD,EAAY5mF,KAAKC,KAAKyiF,EAAYj7F,KAAK+vC,YAAc,EACrDvT,EAAWjkB,KAAK7K,IAAI,EAAG6K,KAAK2U,OAAOltB,KAAK2xC,UAAY9S,GAAU7+B,KAAK+vC,aACnEtT,EAAUD,EAAW2iE,EAErBpvD,EAAa/vC,KAAK+vC,WACtBvT,EAAW14B,EAAQ6sE,oBAAoBn0C,EAAU,GACjD,IAAIquB,EAAW/mD,EAAQgnD,YAAYtuB,GAC/BquB,IACAruB,EAAWquB,EAASlpC,MAAMsZ,KAG9BsxD,EAAiBzoF,EAAQuqC,oBAAoB7R,EAAU,GACvD0iE,EAAiBp7F,EAAQqsE,aAAa3zC,GAAYuT,EAElDtT,EAAUlkB,KAAK9K,IAAI3J,EAAQ6sE,oBAAoBl0C,EAAS,GAAI34B,EAAQmqC,YAAc,GAClFgtD,EAAY7uF,EAAK0uF,eAAiBh3F,EAAQqsE,aAAa1zC,GAAWsT,EAC1BmvD,EAExCrgE,EAAS7+B,KAAK2xC,UAAY46C,EAAiBx8C,EAE3C,IAAI3zB,EAAU,EA4Bd,OA3BIpc,KAAKgwC,YAAY1pC,OAASs4F,GAAeG,KACzC3iF,EAAUpc,KAAK87F,kBACfiD,GAAkBE,KAClB7iF,GAAWpc,KAAKw8F,mBAAkB,EAAMx8F,KAAKwtF,YAAaphF,EAAK9F,MAAO8F,EAAK/F,QAC3ErG,KAAK2lC,QAAQ,8BACTs5D,IACAL,EAAc5+F,KAAK6+F,oBAG3B7+F,KAAKgwC,YAAc,CACf1pC,MAAQs4F,EACRz8E,QAAUniB,KAAKwuF,SACfhyD,SAAWA,EACX+vD,eAAgBA,EAChB9vD,QAAUA,EACVsT,WAAaA,EACbxJ,eAAiBvmC,KAAKumC,eACtB00D,UAAYA,EACZxF,UAAYA,EACZ52D,OAASA,EACTkvD,aAAeh+C,EAAax3B,KAAK7K,IAAI,EAAG6K,KAAKC,MAAMqmB,EAASzyB,EAAK/F,OAAS+F,EAAK0uF,gBAAkB/qD,IAAe,EAChH1pC,OAASrG,KAAK66F,MAAMC,gBAGpB96F,KAAK8D,QAAQ2iD,cACbzmD,KAAK8D,QAAQ2iD,aAAaL,gBAAgBw4C,EAAc5+F,KAAKwuF,UAE1DpyE,GAGXpc,KAAKs+F,aAAe,WAChB,GAAKt+F,KAAKk8F,cAAV,CACA,IAAI1/D,EAAWx8B,KAAKk8F,cAAc1/D,SAC9BC,EAAUz8B,KAAKk8F,cAAcz/D,QACjCz8B,KAAKk8F,cAAgB,KAErB,IAAIlsD,EAAchwC,KAAKgwC,YAEvB,KAAIxT,EAAWwT,EAAYvT,QAAU,MACjCA,EAAUuT,EAAYxT,UAC1B,OAAIC,IAAYo7B,KACR73D,KAAK28F,aACL38F,KAAKutC,aAAakyB,OAAOzvB,QAC7BhwC,KAAKq6F,WAAW56B,OAAOzvB,KAG3BhwC,KAAKq6F,WAAWxc,YAAY7tC,EAAaxT,EAAUC,IAC5C,KAGXz8B,KAAK6+F,gBAAkB,WACnB,IAAIO,EAAYp/F,KAAK8D,QAAQ+nE,iBAO7B,OANI7rE,KAAK4jD,iBAAmB5jD,KAAK8D,QAAQuhD,eACrC+5C,GAAa,GAEbp/F,KAAKq6F,YAAc+E,EAAYp/F,KAAKq6F,WAAWp6D,kBAC/Cm/D,EAAYp/F,KAAKq6F,WAAWp6D,gBAAkB,IAE3C1nB,KAAK7K,IAAI1N,KAAK66F,MAAME,cAAgB,EAAI/6F,KAAKwuF,SAAUj2E,KAAK2U,MAAMkyE,EAAYp/F,KAAKumC,kBAE9FvmC,KAAK0+E,mBAAqB,WACtB1+E,KAAKu6F,aAAa7K,WAAW1vF,KAAK8D,QAAQoD,YAAW,IACrDlH,KAAKgnF,MAAM9nD,SAASl/B,KAAK67F,sBAE7B77F,KAAK2+E,kBAAoB,WACrB3+E,KAAKm6F,YAAYzK,WAAW1vF,KAAK8D,QAAQoD,cACzClH,KAAKgnF,MAAM9nD,SAASl/B,KAAK47F,qBAE7B57F,KAAK4pE,oBAAsB,SAAS3uC,EAAKl6B,GACrCf,KAAKutC,aAAaq8B,oBAAoB3uC,EAAKl6B,IAE/Cf,KAAK6pE,uBAAyB,SAAS5uC,EAAKl6B,GACxCf,KAAKutC,aAAas8B,uBAAuB5uC,EAAKl6B,IAElDf,KAAK4+E,kBAAoB,SAASnyB,GAC9BzsD,KAAKgnF,MAAM9nD,SAASl/B,KAAKinF,gBAE7BjnF,KAAKgE,eAAiB,SAAShC,GAC3BhC,KAAKutC,aAAavpC,eAAehC,GACjChC,KAAKgnF,MAAM9nD,SAASl/B,KAAKinF,gBAE7BjnF,KAAK29E,aAAe,WAChB39E,KAAKgnF,MAAM9nD,SAASl/B,KAAKs7F,gBAE7Bt7F,KAAKw9E,WAAa,WACdx9E,KAAK6wC,aAAa2sC,cAEtBx9E,KAAKs9E,WAAa,WACdt9E,KAAK6wC,aAAaysC,cAGtBt9E,KAAK45E,wBAA0B,SAASjxC,EAAQif,EAAM/oB,GAClD7+B,KAAK8pC,qBAAqBnB,EAAQ9J,GAClC7+B,KAAK8pC,qBAAqB8d,EAAM/oB,IAEpC7+B,KAAK8pC,qBAAuB,SAASl2B,EAAQirB,EAAQwgE,GACjD,GAAkC,IAA9Br/F,KAAK66F,MAAMC,eAAf,CAGA,IAAI90F,EAAMhG,KAAK6wC,aAAayF,iBAAiB1iC,GAEzCtF,EAAOtI,EAAIsI,KACXD,EAAMrI,EAAIqI,IAEVixF,EAAYD,GAAeA,EAAYhxF,KAAO,EAC9CkxF,EAAeF,GAAeA,EAAYz4D,QAAU,EAEpD+K,EAAY3xC,KAAK26F,iBAAmB36F,KAAK8D,QAAQgzC,eAAiB92C,KAAK2xC,UAEvEA,EAAY2tD,EAAYjxF,GACpBwwB,GAAU8S,EAAY2tD,EAAYjxF,EAAMrO,KAAK+vC,aAC7C1hC,GAAOwwB,EAAS7+B,KAAK66F,MAAMC,gBACnB,IAARzsF,IACAA,GAAOrO,KAAK4B,aAAayM,KAC7BrO,KAAK8D,QAAQ2nE,aAAap9D,IACnBsjC,EAAY3xC,KAAK66F,MAAMC,eAAiByE,EAAelxF,EAAMrO,KAAK+vC,aACrElR,GAAU8S,EAAY3xC,KAAK66F,MAAMC,eAAiByE,EAAelxF,EAAOrO,KAAK+vC,aAC7E1hC,GAAOwwB,EAAS7+B,KAAK66F,MAAMC,gBAC/B96F,KAAK8D,QAAQ2nE,aAAap9D,EAAMrO,KAAK+vC,WAAawvD,EAAev/F,KAAK66F,MAAMC,iBAGhF,IAAIplD,EAAa11C,KAAK01C,WAElBA,EAAapnC,GACTA,EAAOtO,KAAKwuF,SAAW,EAAIxuF,KAAKgwC,YAAYzJ,iBAC5Cj4B,GAAQtO,KAAK4B,aAAa0M,MAC9BtO,KAAK8D,QAAQ6nE,cAAcr9D,IACpBonC,EAAa11C,KAAK66F,MAAME,cAAgBzsF,EAAOtO,KAAKumC,eAC3DvmC,KAAK8D,QAAQ6nE,cAAcpzD,KAAK2U,MAAM5e,EAAOtO,KAAKumC,eAAiBvmC,KAAK66F,MAAME,gBACvErlD,GAAc11C,KAAKwuF,UAAYlgF,EAAOonC,EAAa11C,KAAKumC,gBAC/DvmC,KAAK8D,QAAQ6nE,cAAc,KAGnC3rE,KAAK82C,aAAe,WAChB,OAAO92C,KAAK8D,QAAQgzC,gBAExB92C,KAAK4rE,cAAgB,WACjB,OAAO5rE,KAAK8D,QAAQ8nE,iBAExB5rE,KAAKskF,gBAAkB,WACnB,OAAOtkF,KAAK2xC,UAAY3xC,KAAK+vC,YAEjC/vC,KAAKqkF,mBAAqB,WACtB,OAAO9rE,KAAK7K,IAAI,EAAG6K,KAAK2C,OAAOlb,KAAK2xC,UAAY3xC,KAAK66F,MAAMC,gBAAkB96F,KAAK+vC,YAAc,IAEpG/vC,KAAKwkF,YAAc,SAASvpD,GACxBj7B,KAAK8D,QAAQ2nE,aAAaxwC,EAAMj7B,KAAK+vC,aAGzC/vC,KAAK4kF,YAAc,SAAShxE,EAAQ4rF,GACX,iBAAV5rF,IACPA,EAAS,CAACqnB,IAAKrnB,EAAQsnB,OAAQ,IAEnC,IAAIl1B,EAAMhG,KAAK6wC,aAAayF,iBAAiB1iC,GACzCoiC,EAAIh2C,KAAK66F,MAAMC,eAAiB96F,KAAK+vC,WACrClR,EAAS74B,EAAIqI,IAAM2nC,GAAKwpD,GAAa,GAGzC,OADAx/F,KAAK8D,QAAQ2nE,aAAa5sC,GACnBA,GAGX7+B,KAAKy/F,MAAQ,EACbz/F,KAAK0/F,WAAa,SAASC,EAAWC,GAClC,IAIqBh+D,EAAGi+D,EAJpBjhG,EAAI,EACJgnB,EAAI5lB,KAAKy/F,MACTK,EAAQ,GAMZ,IAAKlhG,EAAI,EAAGA,EAAIgnB,IAAKhnB,EACjBkhG,EAAM1hG,MALWwjC,EAKDhjC,EAAIoB,KAAKy/F,MALLI,EAKYF,GAAWC,EAAUD,IAJxCpnF,KAAKmc,IAAIkN,EAAI,EAAG,GAAK,GAAKi+D,IAM3C,OAAOC,GAEX9/F,KAAKykF,aAAe,SAAS/pE,EAAMgqE,EAAQC,EAASz4E,GAChD,IACI2yB,EADM7+B,KAAK6wC,aAAayF,iBAAiB,CAACrb,IAAKvgB,EAAMwgB,OAAQ,IAChD7sB,IACbq2E,IACA7lD,GAAU7+B,KAAK66F,MAAMC,eAAiB,GAE1C,IAAIiF,EAAgB//F,KAAK2xC,UACzB3xC,KAAK8D,QAAQ2nE,aAAa5sC,IACV,IAAZ8lD,GACA3kF,KAAK65E,iBAAiBkmB,EAAe7zF,IAG7ClM,KAAK65E,iBAAmB,SAAS8lB,EAAWzzF,GACxC,IAAI0zF,EAAU5/F,KAAK2xC,UACnB,GAAK3xC,KAAKg9F,gBAAV,CAEA,IAAI19D,EAAQt/B,KAEZ,GAAI2/F,GAAaC,EAAjB,CAGA,GAAI5/F,KAAK26F,iBAAkB,CACvB,IAAIqF,EAAWhgG,KAAK26F,iBAAiBmF,MACrC,GAAIE,EAASnhG,SACT8gG,EAAYK,EAAS,KACJJ,EACb,OAIZ,IAAIE,EAAQxgE,EAAMogE,WAAWC,EAAWC,GACxC5/F,KAAK26F,iBAAmB,CAAC18B,KAAM0hC,EAAWzhC,GAAI0hC,EAASE,MAAOA,GAE9D/uD,cAAc/wC,KAAKigG,QAEnB3gE,EAAMx7B,QAAQ2nE,aAAaq0B,EAAMt7E,SACjC8a,EAAMx7B,QAAQ0nE,WAAao0B,EAC3B5/F,KAAKigG,OAASjvD,aAAY,WACtB,IAAK1R,EAAMx7B,QACP,OAAOitC,cAAczR,EAAM2gE,QAC3BH,EAAMjhG,QACNygC,EAAMx7B,QAAQ2nE,aAAaq0B,EAAMt7E,SACjC8a,EAAMx7B,QAAQ0nE,WAAao0B,GACT,MAAXA,GACPtgE,EAAMx7B,QAAQ0nE,YAAc,EAC5BlsC,EAAMx7B,QAAQ2nE,aAAam0B,GAC3BA,EAAU,OAEVtgE,EAAM2gE,OAASlvD,cAAczR,EAAM2gE,QACnC3gE,EAAMq7D,iBAAmB,KACzBzuF,GAAYA,OAEjB,OAEPlM,KAAK89E,UAAY,SAASnsC,GAClB3xC,KAAK2xC,YAAcA,IACnB3xC,KAAKgnF,MAAM9nD,SAASl/B,KAAKw7F,eACzBx7F,KAAK2xC,UAAYA,IAGzB3xC,KAAK+9E,UAAY,SAASroC,GAClB11C,KAAK01C,aAAeA,IACpB11C,KAAK01C,WAAaA,GACtB11C,KAAKgnF,MAAM9nD,SAASl/B,KAAK87F,kBAE7B97F,KAAKkgG,SAAW,SAASrnF,EAAG9R,GACxB/G,KAAK8D,QAAQ2nE,aAAa1kE,GAC1B/G,KAAK8D,QAAQ6nE,cAAc5kE,IAE/B/G,KAAK6rC,SAAW,SAAS5U,EAAQC,GAC7BA,GAAUl3B,KAAK8D,QAAQ2nE,aAAazrE,KAAK8D,QAAQgzC,eAAiB5f,GAClED,GAAUj3B,KAAK8D,QAAQ6nE,cAAc3rE,KAAK8D,QAAQ8nE,gBAAkB30C,IAExEj3B,KAAK2rC,eAAiB,SAAS1U,EAAQC,GACnC,OAAIA,EAAS,GAAKl3B,KAAK8D,QAAQgzC,gBAAkB,EAAI92C,KAAK4B,aAAayM,MAEnE6oB,EAAS,GAAKl3B,KAAK8D,QAAQgzC,eAAiB92C,KAAK66F,MAAMC,eACrD96F,KAAKgwC,YAAYylD,WAAa,EAAIz1F,KAAK4B,aAAaglC,SAEtD3P,EAAS,GAAKj3B,KAAK8D,QAAQ8nE,iBAAmB,EAAI5rE,KAAK4B,aAAa0M,OAEpE2oB,EAAS,GAAKj3B,KAAK8D,QAAQ8nE,gBAAkB5rE,KAAK66F,MAAME,cACtD/6F,KAAKgwC,YAAY1pC,OAAS,EAAItG,KAAK4B,aAAa+R,YADtD,MAKJ3T,KAAKmuC,yBAA2B,SAASt1B,EAAG9R,GACxC,IAAIo5F,EACJ,GAAIngG,KAAKogG,kBAAmB,CACxBD,EAAY,CAAC9xF,IAAI,EAAGC,KAAM,GAC1B,IAAI9O,EAAIQ,KAAKqxF,aAAa0H,qBAAqB,CAAClgF,EAAG9R,IACnD8R,EAAIrZ,EAAE,GAAKQ,KAAKwtF,YAAcxtF,KAAKmxF,OAAO7iF,KAC1CvH,EAAIvH,EAAE,QAEN2gG,EAAYngG,KAAK+mC,SAASrF,wBAG9B,IAAIgrB,EAAU7zC,EAAI7Y,KAAK01C,WAAayqD,EAAU7xF,KAAOtO,KAAKwuF,SACtD3vD,EAAS6tB,EAAU1sD,KAAKumC,eACxBtL,EAAM1iB,KAAK2C,OAAOnU,EAAI/G,KAAK2xC,UAAYwuD,EAAU9xF,KAAOrO,KAAK+vC,YAC7D6W,EAAM5mD,KAAKqgG,aAAe9nF,KAAK2C,MAAM2jB,GAAUtmB,KAAK2U,MAAM2R,GAE9D,MAAO,CAAC5D,IAAKA,EAAKC,OAAQ0rB,EAAKgc,KAAM/jC,EAAS+nB,EAAM,EAAI,GAAK,EAAG8F,QAAUA,IAG9E1sD,KAAKwpC,wBAA0B,SAAS3wB,EAAG9R,GACvC,IAAIo5F,EACJ,GAAIngG,KAAKogG,kBAAmB,CACxBD,EAAY,CAAC9xF,IAAI,EAAGC,KAAM,GAC1B,IAAI9O,EAAIQ,KAAKqxF,aAAa0H,qBAAqB,CAAClgF,EAAG9R,IACnD8R,EAAIrZ,EAAE,GAAKQ,KAAKwtF,YAAcxtF,KAAKmxF,OAAO7iF,KAC1CvH,EAAIvH,EAAE,QAEN2gG,EAAYngG,KAAK+mC,SAASrF,wBAG9B,IAAIgrB,EAAU7zC,EAAI7Y,KAAK01C,WAAayqD,EAAU7xF,KAAOtO,KAAKwuF,SACtD3vD,EAAS6tB,EAAU1sD,KAAKumC,eACxBqgB,EAAM5mD,KAAKqgG,aAAe9nF,KAAK2C,MAAM2jB,GAAUtmB,KAAK2U,MAAM2R,GAE1D5D,EAAM1iB,KAAK2C,OAAOnU,EAAI/G,KAAK2xC,UAAYwuD,EAAU9xF,KAAOrO,KAAK+vC,YAEjE,OAAO/vC,KAAK8D,QAAQunD,yBAAyBpwB,EAAK1iB,KAAK7K,IAAIk5C,EAAK,GAAI8F,IAExE1sD,KAAKu1C,wBAA0B,SAASta,EAAKC,GACzC,IAAIilE,EAAYngG,KAAK+mC,SAASrF,wBAC1B17B,EAAMhG,KAAK8D,QAAQm5B,yBAAyBhC,EAAKC,GAEjDriB,EAAI7Y,KAAKwuF,UAAYxuF,KAAK8D,QAAQ2iD,aAAalC,UAAUv+C,EAAIi1B,IAAKA,GAC/Dj7B,KAAK8D,QAAQ2iD,aAAaE,WAAW3gD,EAAIk1B,QACzC3iB,KAAK2U,MAAMlnB,EAAIk1B,OAASl7B,KAAKumC,iBAEhCx/B,EAAIf,EAAIi1B,IAAMj7B,KAAK+vC,WAEvB,MAAO,CACH0F,MAAO0qD,EAAU7xF,KAAOuK,EAAI7Y,KAAK01C,WACjCC,MAAOwqD,EAAU9xF,IAAMtH,EAAI/G,KAAK2xC,YAGxC3xC,KAAKu9E,eAAiB,WAClB59C,EAAIrV,YAAYtqB,KAAKuK,UAAW,cAEpCvK,KAAKy9E,cAAgB,WACjB99C,EAAIpV,eAAevqB,KAAKuK,UAAW,cAEvCvK,KAAK2jF,gBAAkB,SAAShE,GAC5B3/E,KAAKunF,aAAe5H,EACfA,EAAYp0E,UACbo0E,EAAYp0E,QAAUvL,KAAKi5E,SAASxwE,MAAM8C,cAET9E,GAAjCk5E,EAAY56C,oBACZ46C,EAAY56C,kBAAoB/kC,KAAKsgG,oBAErCtgG,KAAKsgG,oBACL3gE,EAAIrV,YAAYtqB,KAAKi5E,SAAU,mBAC/Bj5E,KAAKi5E,SAASxwE,MAAM8C,QAAU,GAC9BvL,KAAKylC,wBACLzlC,KAAK6wC,aAAa9mB,QAAQthB,MAAMkjB,QAAU,QAG1Cg0D,EAAYxV,SAAWnqE,KAAK8D,QAAQkE,UAAU23E,EAAY36C,YAAa,yBAA0B,SAGzGhlC,KAAK4jF,mBAAqB,SAAS98E,GAC/B,IAAI8M,EAAS5T,KAAK8D,QAAQJ,UAAUkQ,OACpC5T,KAAKugG,SAASz5F,EAAM,0BAA2B8M,EAAOqnB,IAAKrnB,EAAOsnB,QAClEl7B,KAAKylC,yBAETzlC,KAAK6jF,gBAAkB,WACnB,GAAK7jF,KAAKunF,aAAV,CAGIvnF,KAAKunF,aAAapd,UAClBnqE,KAAK8D,QAAQqD,aAAanH,KAAKunF,aAAapd,UAEhDxqC,EAAIpV,eAAevqB,KAAKi5E,SAAU,mBAClCj5E,KAAKi5E,SAASxwE,MAAM8C,QAAUvL,KAAKunF,aAAah8E,QAChD,IAAIqI,EAAS5T,KAAK8D,QAAQJ,UAAUkQ,OACpC5T,KAAKwgG,iBAAiB5sF,EAAOqnB,IAAKrnB,EAAOsnB,QACzCl7B,KAAKunF,aAAe,KACpBvnF,KAAK6wC,aAAa9mB,QAAQthB,MAAMkjB,QAAU,KAG9C3rB,KAAKugG,SAAW,SAASz5F,EAAMa,EAAMszB,EAAKC,GACtC,IAAIp3B,EAAU9D,KAAK8D,QACnBA,EAAQ8jE,YAAY7zD,MAAMknB,GAAO,KACjC,IAAIwlE,EAAW,CAAC94F,KAAMA,EAAMjM,MAAOoL,GAC/BuZ,EAASvc,EAAQmvD,UAAUh4B,GAC/B,GAAc,MAAVC,EACA7a,EAAOjiB,KAAKqiG,QAGZ,IADA,IAAI76E,EAAI,EACChnB,EAAG,EAAGA,EAAIyhB,EAAOxhB,OAAQD,IAAK,CACnC,IAAIiwD,EAAQxuC,EAAOzhB,GAEnB,GAAIs8B,IADJtV,GAAKipC,EAAMnzD,MAAMmD,QACA,CACb,IAAIuU,EAAOy7C,EAAMnzD,MAAMmD,QAAU+mB,EAAIsV,GACjCo9B,EAASzJ,EAAMnzD,MAAMwqB,MAAM,EAAG9S,GAC9BmlD,EAAQ1J,EAAMnzD,MAAMwqB,MAAM9S,GAE9BiN,EAAOza,OAAOhH,EAAG,EAAG,CAAC+I,KAAMknD,EAAMlnD,KAAMjM,MAAO48D,GAAUmoC,EAAW,CAAC94F,KAAMknD,EAAMlnD,KAAMjM,MAAO68D,IAC7F,OAIZv4D,KAAK69E,YAAY5iD,EAAKA,IAG1Bj7B,KAAKwgG,iBAAmB,SAASvlE,EAAKC,GAClCl7B,KAAK69E,YAAY5iD,EAAKA,IAE1Bj7B,KAAK6C,SAAW,SAASzB,EAAO+4B,GAC5B,IAAImF,EAAQt/B,KAIZ,GAHAA,KAAK0gG,SAAWt/F,EAChBk+B,EAAMsY,eAAe,cAAc,CAACx2C,MAAMA,IAErCA,GAAyB,iBAATA,EAIjBm6C,EAAUn6C,OAJ0B,CACpC,IAAI4kB,EAAa5kB,GAASpB,KAAKmE,SAAS/C,MAAMw4C,aAC9C0C,EAAOjB,WAAW,CAAC,QAASr1B,GAAau1B,GAK7C,SAASA,EAAUxxC,GACf,GAAIu1B,EAAMohE,UAAYt/F,EAClB,OAAO+4B,GAAMA,IACjB,IAAKpwB,IAAWA,EAAO42F,SACnB,MAAM,IAAItsF,MAAM,wBAA0BjT,EAAQ,6BAClD2I,EAAO2vD,MACPp6B,EAAMohE,SAAW32F,EAAO2vD,KAC5B/5B,EAAI1U,gBACAlhB,EAAOwB,QACPxB,EAAO42F,SACPrhE,EAAM/0B,WAGN+0B,EAAMl+B,OACNu+B,EAAIpV,eAAe+U,EAAM/0B,UAAW+0B,EAAMl+B,MAAMu/F,UAEpD,IAAIx+E,EAAU,YAAapY,EAASA,EAAOoY,QACrC,YAAcmd,EAAMl+B,OAAS,IAAM,EAAIk+B,EAAMkvD,SAC/ClvD,EAAMkvD,UAAYrsE,GAAWmd,EAAMkvD,UACnClvD,EAAMmwD,WAAWttE,GACrBmd,EAAM10B,OAASb,EAAO42F,SAEtBrhE,EAAMl+B,MAAQ2I,EACd41B,EAAIrV,YAAYgV,EAAM/0B,UAAWR,EAAO42F,UACxChhE,EAAIhV,YAAY2U,EAAM/0B,UAAW,WAAYR,EAAO62F,QAChDthE,EAAMu7D,QACNv7D,EAAMu7D,MAAMv0F,MAAQ,EACpBg5B,EAAM+8D,oBAGV/8D,EAAMsY,eAAe,cAAe,CAACx2C,MAAM2I,IAC3CowB,GAAMA,MAGdn6B,KAAKq8E,SAAW,WACZ,OAAOr8E,KAAK0gG,UAEhB1gG,KAAKqsB,SAAW,SAAS5jB,EAAOoiB,GAC5B8U,EAAIhV,YAAY3qB,KAAKuK,UAAW9B,GAAmB,IAAZoiB,IAE3C7qB,KAAKsqC,WAAa,SAAS7hC,GACvBk3B,EAAIpV,eAAevqB,KAAKuK,UAAW9B,IAGvCzI,KAAKiyC,eAAiB,SAASxpC,GAC3Bk3B,EAAItT,SAASrsB,KAAK+mC,SAASt+B,MAAO,SAAUA,IAEhDzI,KAAK6gG,eAAiB,SAASztD,GAC3BzT,EAAItT,SAASrsB,KAAK+mC,SAASt+B,MAAO,SAAU2qC,IAGhDpzC,KAAK8gG,mBAAqB,WACtBnhE,EAAI1U,gBAAgB+uE,EAAW,iBAAkBh6F,KAAKuK,YAE1DvK,KAAK2G,QAAU,WACX3G,KAAKm+F,SACLn+F,KAAKqxF,aAAa1qF,UAClB3G,KAAK6wC,aAAalqC,UAClB3G,KAAK44C,qBACL54C,KAAKuK,UAAU0f,YAAc,MAGlC3sB,KAAK8M,EAAgBhN,WAGxBk/C,EAAO3C,cAAcvvC,EAAgBhN,UAAW,WAAY,CACxD0qF,eAAgB,CAACluC,cAAc,GAC/BgK,eAAgB,CACZpmD,IAAK,SAAS9B,GACNsE,KAAKq6F,WAAWp0C,kBAAkBvqD,IAClCsE,KAAKgnF,MAAM9nD,SAASl/B,KAAK07F,cAEjC9hD,cAAc,GAElBl4C,gBAAiB,CACblE,IAAK,WAAawC,KAAKg8F,sBACvBpiD,cAAc,GAElBmuC,kBAAmB,CACfvqF,IAAK,WAAawC,KAAKg8F,sBACvBpiD,aAAc,IAElBouC,YAAa,CACTxqF,IAAK,SAAS8rB,GACQ,iBAAPA,IACPtpB,KAAK+8F,mBAAqBzzE,GAC9BtpB,KAAK88F,mBAAqBxzE,EAC1BtpB,KAAKg8F,sBAETpgG,IAAK,WACD,OAAOoE,KAAK88F,kBAAoB98F,KAAK+8F,qBAG7Cv7F,WAAY,CACRhE,IAAK,SAASgvC,GACVxsC,KAAKuuC,QAAQ9lC,MAAMkjB,QAAU6gB,EAAO,QAAU,OAC9CxsC,KAAKgnF,MAAM9nD,SAASl/B,KAAKq7F,aACzBr7F,KAAKk6F,kBAETtgD,cAAc,GAElBquC,gBAAiB,CACbzqF,IAAK,SAASgvC,GACV7M,EAAIhV,YAAY3qB,KAAKuuC,QAAS,wBAAyB/B,IAE3DoN,cAAc,GAElBsuC,gBAAiB,CACb1qF,IAAK,SAASgvC,GACVxsC,KAAKutC,aAAa8zC,mBAAmB70C,GACrCxsC,KAAKgnF,MAAM9nD,SAASl/B,KAAKinF,gBAE7BrtC,cAAc,GAElBuuC,oBAAqB,CACjB3qF,IAAK,SAASgvC,GACNxsC,KAAKq6F,WAAWxZ,uBAAuBr0C,IACvCxsC,KAAKgnF,MAAM9nD,SAASl/B,KAAK07F,cAEjC9hD,cAAc,GAElBiuC,oBAAqB,CACjBrqF,IAAK,SAAS2iF,GACVngF,KAAKutC,aAAa8yC,uBAAuBF,GACzCngF,KAAKgnF,MAAM9nD,SAASl/B,KAAKinF,gBAE7BrtC,cAAc,GAElB+tC,wBAAyB,CACrBnqF,IAAK,SAAS8rB,GACLtpB,KAAKy9F,0BAA6Bz9F,KAAKw6F,cACxCx6F,KAAKgnF,MAAM9nD,SAASl/B,KAAKw7F,gBAEjC5hD,cAAc,GAElBguC,wBAAyB,CACrBpqF,IAAK,SAAS8rB,GACLtpB,KAAK69F,0BAA6B79F,KAAKy6F,UACxCz6F,KAAKgnF,MAAM9nD,SAASl/B,KAAKw7F,gBAEjC5hD,cAAc,GAElBv4C,SAAU,CACN7D,IAAK,SAAS4O,GACS,iBAARA,IACPA,GAAc,MAClBpM,KAAKuK,UAAU9B,MAAMpH,SAAW+K,EAChCpM,KAAKm8F,kBAETviD,aAAc,IAElBwuC,WAAY,CACR5qF,IAAK,SAAS2K,GACVnI,KAAKuK,UAAU9B,MAAM2/E,WAAajgF,EAClCnI,KAAKm8F,mBAGb9yF,SAAU,CACN7L,IAAK,SAAS8rB,GACVtpB,KAAKk8E,eAGb9yE,SAAU,CACN5L,IAAK,SAAS8rB,GACJtpB,KAAKo+E,UAAY,kBACnBp+E,KAAKo+E,UAAY,GACrBp+E,KAAKk8E,eAGbsM,eAAgB,CACZhrF,IAAK,SAAS8rB,GACVtpB,KAAKk8E,cAETtiC,aAAc,GAElByuC,cAAe,CACX7qF,IAAK,SAAS8rB,GACVA,GAAOA,GAAO,EACVtpB,KAAKg+F,gBAAkB10E,IAE3BtpB,KAAKg+F,eAAiB10E,EACtBtpB,KAAKgnF,MAAM9nD,SAASl/B,KAAKw7F,iBAE7B5hD,aAAc,EACdP,YAAY,GAEhBivC,iBAAkB,CACd9qF,IAAK,SAAS8rB,GACVtpB,KAAKutC,aAAaghD,cAAgBjlE,EAClCtpB,KAAKgnF,MAAM9nD,SAASl/B,KAAKinF,iBAGjC7lF,MAAO,CACH5D,IAAK,SAAS8rB,GAAOtpB,KAAK6C,SAASymB,IACnC1tB,IAAK,WAAa,OAAOoE,KAAK0gG,UAAY1gG,KAAKoB,OAC/Cw4C,aAAc,mBACdP,YAAY,GAEhBkvC,iBAAkB,GAElBxjD,kBAAmB,CACf6U,cAAejxB,EAAUD,WAAaC,EAAUhB,QAIxDlsB,EAAQ2O,gBAAkBA,KAG1BP,IAAIC,OAAO,2BAA2B,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,wBAAwB,eAAe,SAAS7N,EAASR,EAASsO,GAClK,aAEA,IAAIC,EAAM/N,EAAQ,cACdi+C,EAAMj+C,EAAQ,cACdgO,EAAehO,EAAQ,wBAAwBgO,aAC/CqyC,EAASrgD,EAAQ,aAcrB,SAASu9D,EAAaunC,GAClB,GAAqB,oBAAVC,OACP,MAAO,CAAErnE,YAAa,aAAe4xC,UAAW,cACpD,GAAIjvB,EAAO1gD,IAAI,sBAAuB,CAClC,IAAIqlG,EAhBZ,SAAqBF,GACjB,IAAIhlD,EAAS,kBAAoB7B,EAAIvC,WAAWopD,GAAa,MAC7D,IACI,OAAO,IAAIG,KAAK,CAACnlD,GAAS,CAAC,KAAQ,2BACrC,MAAOlqC,GACL,IACIsvF,EAAc,IADAn8E,OAAOo8E,aAAep8E,OAAOq8E,mBAAqBr8E,OAAOs8E,gBAG3E,OADAH,EAAYpwC,OAAOhV,GACZolD,EAAYI,QAAQ,2BAQhBC,CAAYT,GAEnBU,GADMz8E,OAAO08E,KAAO18E,OAAO28E,WACbC,gBAAgBX,GAClC,OAAO,IAAID,OAAOS,GAEtB,OAAO,IAAIT,OAAOD,GAGtB,IAAIc,EAAe,SAASC,GACnBA,EAAOnoE,cACRmoE,EAAS9hG,KAAK+hG,2BAA2B1jG,MAAM2B,KAAMwG,YAEzDxG,KAAK0+D,QAAUojC,EACf9hG,KAAKgiG,gBAAkBhiG,KAAKgiG,gBAAgB3hG,KAAKL,MACjDA,KAAKiiG,eAAiBjiG,KAAKiiG,eAAe5hG,KAAKL,MAC/CA,KAAKkiG,UAAYliG,KAAKkiG,UAAU7hG,KAAKL,MAErCA,KAAKmiG,WAAa,EAClBniG,KAAKoiG,UAAY,GAEjBpiG,KAAK0+D,QAAQ2jC,UAAYriG,KAAKkiG,YAGlC,WAEIl4F,EAAImB,UAAUnL,KAAMiK,GAEpBjK,KAAK+hG,2BAA6B,SAASO,EAAoBr+E,EAAKs+E,EAAWxB,EAAWyB,GAItF,GAHIvmG,EAAQwmG,YAAcxmG,EAAQymG,QAC9BzmG,EAAQymG,MAAQzmG,EAAQwmG,WAExBnmD,EAAO1gD,IAAI,cAAgBK,EAAQymG,MACnC3B,EAAYA,GAAazkD,EAAO1B,UAAU32B,EAAK,cAC5C,CACH,IAAI0+E,EAAgB3iG,KAAK4iG,eACzB7B,EAAYA,GAAa4B,EAAc1mG,EAAQymG,MAAM,uBAAwB,KAAM,MAEnF,IAAIG,EAAO,GACXP,EAAmBniG,SAAQ,SAASmmB,GAChCu8E,EAAKv8E,GAAMq8E,EAAc1mG,EAAQymG,MAAMp8E,EAAI,KAAM,KAAKnW,QAAQ,kBAAmB,QAczF,OAVAnQ,KAAK0+D,QAAUlF,EAAaunC,GACxByB,GACAxiG,KAAKs3C,KAAK,gBAAiBkrD,GAE/BxiG,KAAK0+D,QAAQ/kC,YAAY,CACrB8hB,MAAO,EACPonD,KAAOA,EACP94F,OAASka,EACTs+E,UAAYA,IAETviG,KAAK0+D,SAGhB1+D,KAAKkiG,UAAY,SAASrwF,GACtB,IAAI2nC,EAAM3nC,EAAEK,KACZ,OAAQsnC,EAAI7xC,MACR,IAAK,QACD3H,KAAK2lC,QAAQ6T,EAAIrxC,KAAM,CAAC+J,KAAMsnC,EAAItnC,OAClC,MACJ,IAAK,OACD,IAAIhG,EAAWlM,KAAKoiG,UAAU5oD,EAAIpyC,IAC9B8E,IACAA,EAASstC,EAAItnC,aACNlS,KAAKoiG,UAAU5oD,EAAIpyC,KAE9B,MACJ,IAAK,QACDpH,KAAKu5C,YAAYC,EAAItnC,MACrB,MACJ,IAAK,MACD8S,OAAOxgB,SAAWA,QAAQo8D,KAAOp8D,QAAQo8D,IAAIviE,MAAMmG,QAASg1C,EAAItnC,QAK5ElS,KAAKu5C,YAAc,SAASupD,GACxB99E,OAAOxgB,SAAWA,QAAQ8gB,OAAS9gB,QAAQ8gB,MAAMw9E,IAGrD9iG,KAAK4iG,eAAiB,SAAS1xF,GAC3B,OAAOgpC,EAAIvC,WAAWzmC,IAG1BlR,KAAKurE,UAAY,WACbvrE,KAAK2lC,QAAQ,YAAa,IAC1B3lC,KAAK+iG,WAAa,KAClB/iG,KAAK0+D,QAAQ6M,YACbvrE,KAAK0+D,QAAU,KACX1+D,KAAKgjG,MACLhjG,KAAKgjG,KAAK79D,IAAI,SAAUnlC,KAAKiiG,gBACjCjiG,KAAKgjG,KAAO,MAGhBhjG,KAAKs3C,KAAO,SAAS2rD,EAAKrwF,GACtB5S,KAAK0+D,QAAQ/kC,YAAY,CAAC90B,QAASo+F,EAAKrwF,KAAMA,KAGlD5S,KAAK1C,KAAO,SAAS2lG,EAAKrwF,EAAM1G,GAC5B,GAAIA,EAAU,CACV,IAAI9E,EAAKpH,KAAKmiG,aACdniG,KAAKoiG,UAAUh7F,GAAM8E,EACrB0G,EAAKxU,KAAKgJ,GAEdpH,KAAKs3C,KAAK2rD,EAAKrwF,IAGnB5S,KAAKkjG,KAAO,SAASt8F,EAAOsL,GACxB,IACQA,EAAKA,MAAQA,EAAKA,KAAK4wF,MACvB5wF,EAAKA,KAAK4wF,IAAM,CAACxpD,QAASpnC,EAAKA,KAAK4wF,IAAIxpD,QAASmW,MAAOv9C,EAAKA,KAAK4wF,IAAIrzC,MAAOuH,KAAM9kD,EAAKA,KAAK4wF,IAAI9rC,OACrGh3D,KAAK0+D,QAAQ/kC,YAAY,CAAC/yB,MAAOA,EAAOsL,KAAM,CAACA,KAAMA,EAAKA,QAE9D,MAAMsO,GACFhc,QAAQ8gB,MAAM9E,EAAGivC,SAIzBzvD,KAAKmjG,iBAAmB,SAAS15E,GACzBzpB,KAAKgjG,MACLhjG,KAAKurE,YAETvrE,KAAKgjG,KAAOv5E,EACZzpB,KAAK1C,KAAK,WAAY,CAACmsB,EAAI3jB,aAC3B2jB,EAAIrmB,GAAG,SAAUpD,KAAKiiG,iBAG1BjiG,KAAKiiG,eAAiB,SAASnpF,GACtB9Y,KAAK+iG,aACN/iG,KAAK+iG,WAAa,GAClBtqE,WAAWz4B,KAAKgiG,gBAAiB,IAEjB,UAAhBlpF,EAAM07B,OACNx0C,KAAK+iG,WAAW3kG,KAAK0a,EAAM6I,MAAO7I,EAAM/E,OAExC/T,KAAK+iG,WAAW3kG,KAAK0a,EAAM6I,MAAO7I,EAAMqiB,MAGhDn7B,KAAKgiG,gBAAkB,WACnB,IAAIoB,EAAIpjG,KAAK+iG,WACRK,IACLpjG,KAAK+iG,WAAa,KACdK,EAAEvkG,OAAS,IAAMukG,EAAEvkG,OAASmB,KAAKgjG,KAAK/0D,aAAe,EACrDjuC,KAAK1C,KAAK,WAAY,CAAC0C,KAAKgjG,KAAKl9F,aAEjC9F,KAAKkjG,KAAK,SAAU,CAAChxF,KAAMkxF,QAGpC9lG,KAAKukG,EAAazkG,WAmDrB3B,EAAQ4nG,eAhDa,SAASf,EAAoBr+E,EAAKs+E,GACnD,IAAIe,EAAO,KACPC,GAAW,EACXC,EAASjoG,OAAOoF,OAAOsJ,GAEvBw5F,EAAgB,GAChBC,EAAe,IAAI7B,EAAa,CAChC4B,cAAeA,EACfl4B,UAAW,aACX5xC,YAAa,SAAS9nB,GAClB4xF,EAAcrlG,KAAKyT,GACdyxF,IACDC,EACA9qE,WAAWkrE,GAEXA,QAIZD,EAAaE,YAAc,SAASt6E,GAAOi6E,EAAWj6E,GAEtD,IAAIq6E,EAAc,WACd,IAAInqD,EAAMiqD,EAAcj/E,QACpBg1B,EAAI30C,QACJy+F,EAAK9pD,EAAI30C,SAASxG,MAAMilG,EAAM9pD,EAAI5mC,MAC7B4mC,EAAI5yC,OACT48F,EAAO79D,QAAQ6T,EAAI5yC,MAAO4yC,EAAItnC,OAmBtC,OAhBAsxF,EAAO7pE,YAAc,SAAS6f,GAC1BkqD,EAAaxB,UAAU,CAAChwF,KAAMsnC,KAElCgqD,EAAOt3F,SAAW,SAASgG,EAAMiwF,GAC7BniG,KAAK25B,YAAY,CAAChyB,KAAM,OAAQP,GAAI+6F,EAAYjwF,KAAMA,KAE1DsxF,EAAON,KAAO,SAAS/6F,EAAM+J,GACzBlS,KAAK25B,YAAY,CAAChyB,KAAM,QAASQ,KAAMA,EAAM+J,KAAMA,KAGvDoqC,EAAOjB,WAAW,CAAC,SAAUp3B,IAAM,SAAS4/E,GAExC,IADAP,EAAO,IAAIO,EAAKtB,GAAWiB,GACpBC,EAAc5kG,QACjB8kG,OAGDD,GAIXjoG,EAAQomG,aAAeA,EACvBpmG,EAAQ+9D,aAAeA,KAKvB3vD,IAAIC,OAAO,kBAAkB,CAAC,UAAU,UAAU,SAAS,YAAY,wBAAwB,gBAAgB,SAAS7N,EAASR,EAASsO,GAC1I,aAEA,IAAIhC,EAAQ9L,EAAQ,WAAW8L,MAC3BkC,EAAehO,EAAQ,uBAAuBgO,aAC9CD,EAAM/N,EAAQ,aAEd6nG,EAAc,SAAShgG,EAASjF,EAAQmH,EAAK+9F,EAAQC,EAAWC,GAChE,IAAI3kE,EAAQt/B,KACZA,KAAKnB,OAASA,EACdmB,KAAK8D,QAAUA,EACf9D,KAAKypB,IAAM3lB,EAAQyI,cACnBvM,KAAKgkG,UAAYA,EACjBhkG,KAAKikG,YAAcA,EACnBjkG,KAAKkkG,UAAYlkG,KAAKmkG,SAAS9jG,KAAKL,MACpCA,KAAKypB,IAAIrmB,GAAG,SAAUpD,KAAKkkG,WAC3BlkG,KAAKokG,QAAUL,EAEf/jG,KAAKk7E,gBAAkB,WACnBziD,YAAW,WACP6G,EAAM17B,qBAId5D,KAAKouC,KAAOpoC,EACZ,IAAIq+F,EAAYvgG,EAAQ4I,iBAAiBy8E,YAAcrlF,EAAQ4I,iBAAiB43F,YAAc,CAACzlG,QAAS,GACxGmB,KAAKukG,gBAAkBF,EAAUxlG,OACjCmB,KAAKwkG,QAEL1gG,EAAQJ,UAAUN,GAAG,eAAgBpD,KAAKk7E,mBAG9C,WAEIlxE,EAAImB,UAAUnL,KAAMiK,GACpBjK,KAAKwkG,MAAQ,WACT,IAAIllE,EAAQt/B,KACRypB,EAAMzpB,KAAKypB,IACX3lB,EAAU9D,KAAK8D,QAEnB9D,KAAK2sE,gBAAkB7oE,EAAQJ,UAAUuC,SACrCnC,EAAQJ,UAAUylC,mBAClBrlC,EAAQJ,UAAUgqD,gBAEtB1tD,KAAKgG,IAAMyjB,EAAIo+B,aAAa7nD,KAAKouC,KAAKnT,IAAKj7B,KAAKouC,KAAKlT,QACrD,IAAIl1B,EAAMhG,KAAKgG,IACfA,EAAIk1D,cAAe,EACnBl1D,EAAIw5C,SACJx5C,EAAImkE,SAAWrmE,EAAQkE,UAAU,IAAID,EAAM/B,EAAIi1B,IAAKj1B,EAAIk1B,OAAQl1B,EAAIi1B,IAAKj1B,EAAIk1B,OAASl7B,KAAKnB,QAASmB,KAAKgkG,UAAW,MAAM,GAC1HhkG,KAAK+jG,OAAS,GACd/jG,KAAKokG,QAAQjkG,SAAQ,SAAS6Q,GAC1B,IAAI23B,EAASlf,EAAIo+B,aAAa72C,EAAMiqB,IAAKjqB,EAAMkqB,QAC/CyN,EAAOuyB,cAAe,EACtBvyB,EAAO6W,SACPlgB,EAAMykE,OAAO3lG,KAAKuqC,MAEtB7kC,EAAQipE,eAAc,IAE1B/sE,KAAKykG,iBAAmB,WACpB,IAAIzkG,KAAK0kG,aAAT,CACA,IAAI5gG,EAAU9D,KAAK8D,QACfw7B,EAAQt/B,KACZA,KAAK0kG,cAAe,EACpB1kG,KAAK+jG,OAAO5jG,SAAQ,SAASwoC,GACzBA,EAAOwhC,SAAWrmE,EAAQkE,UAAU,IAAID,EAAM4gC,EAAO1N,IAAK0N,EAAOzN,OAAQyN,EAAO1N,IAAK0N,EAAOzN,OAAOoE,EAAMzgC,QAASygC,EAAM2kE,YAAa,MAAM,QAGnJjkG,KAAK2kG,iBAAmB,WACpB,GAAK3kG,KAAK0kG,aAAV,CACA1kG,KAAK0kG,cAAe,EACpB,IAAK,IAAI9lG,EAAI,EAAGA,EAAIoB,KAAK+jG,OAAOllG,OAAQD,IACpCoB,KAAK8D,QAAQqD,aAAanH,KAAK+jG,OAAOnlG,GAAGurE,YAGjDnqE,KAAKmkG,SAAW,SAASrrF,GACrB,GAAI9Y,KAAKgkE,UACL,OAAOhkE,KAAK4kG,cAAc9rF,GAE9B,IAAIhR,EAAQgR,EACZ,GAAIhR,EAAM6Z,MAAMsZ,MAAQnzB,EAAMqzB,IAAIF,KAC9BnzB,EAAM6Z,MAAMsZ,MAAQj7B,KAAKgG,IAAIi1B,IAAjC,CACAj7B,KAAKgkE,WAAY,EACjB,IAAI6gC,EAA8B,WAAjB/rF,EAAM07B,OAAsB1sC,EAAMqzB,IAAID,OAASpzB,EAAM6Z,MAAMuZ,OAASpzB,EAAM6Z,MAAMuZ,OAASpzB,EAAMqzB,IAAID,OAChH4pE,EAAch9F,EAAM6Z,MAAMuZ,QAAUl7B,KAAKgG,IAAIk1B,QAAUpzB,EAAM6Z,MAAMuZ,QAAUl7B,KAAKgG,IAAIk1B,OAASl7B,KAAKnB,OAAS,EAC7GkmG,EAAoBj9F,EAAM6Z,MAAMuZ,OAASl7B,KAAKgG,IAAIk1B,OAOtD,GALAl7B,KAAK4kG,cAAc9rF,GAEfgsF,IACA9kG,KAAKnB,QAAUgmG,GAEfC,IAAgB9kG,KAAK8D,QAAQukE,UAC7B,GAAqB,WAAjBvvD,EAAM07B,OACN,IAAK,IAAI51C,EAAIoB,KAAK+jG,OAAOllG,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC9C,IACIomG,EAAS,CAAC/pE,KADVgqE,EAAWjlG,KAAK+jG,OAAOnlG,IACCq8B,IAAKC,OAAQ+pE,EAAS/pE,OAAS6pE,GAC3D/kG,KAAKypB,IAAIsyC,kBAAkBipC,EAAQlsF,EAAM/E,YAE1C,GAAqB,WAAjB+E,EAAM07B,OACb,IAAS51C,EAAIoB,KAAK+jG,OAAOllG,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC9C,IAAIqmG,EACAD,EAAS,CAAC/pE,KADVgqE,EAAWjlG,KAAK+jG,OAAOnlG,IACCq8B,IAAKC,OAAQ+pE,EAAS/pE,OAAS6pE,GAC3D/kG,KAAKypB,IAAIhD,OAAO,IAAI1e,EAAMi9F,EAAO/pE,IAAK+pE,EAAO9pE,OAAQ8pE,EAAO/pE,IAAK+pE,EAAO9pE,OAAS2pE,IAK7F7kG,KAAKgkE,WAAY,EACjBhkE,KAAKklG,kBAGTllG,KAAK4kG,cAAgB,SAAS9rF,GAC1B9Y,KAAKgG,IAAIzD,SAASuW,GAClB,IAAK,IAAIla,EAAIoB,KAAK+jG,OAAOllG,OAAQD,KAC7BoB,KAAK+jG,OAAOnlG,GAAG2D,SAASuW,GAC5B9Y,KAAKklG,iBAGTllG,KAAKklG,cAAgB,WACjB,IAAIllG,KAAKgkE,UAAT,CAEA,IAAI1kC,EAAQt/B,KACR8D,EAAU9D,KAAK8D,QACfqhG,EAAe,SAASn/F,EAAKjF,GAC7B+C,EAAQqD,aAAanB,EAAImkE,UACzBnkE,EAAImkE,SAAWrmE,EAAQkE,UAAU,IAAID,EAAM/B,EAAIi1B,IAAKj1B,EAAIk1B,OAAQl1B,EAAIi1B,IAAKj1B,EAAIk1B,OAAOoE,EAAMzgC,QAASkC,EAAW,MAAM,IAExHokG,EAAanlG,KAAKgG,IAAKhG,KAAKgkG,WAC5B,IAAK,IAAIplG,EAAIoB,KAAK+jG,OAAOllG,OAAQD,KAC7BumG,EAAanlG,KAAK+jG,OAAOnlG,GAAIoB,KAAKikG,eAG1CjkG,KAAK4D,eAAiB,SAASgD,GAC3B,IAAI5G,KAAKgkE,WAAchkE,KAAK8D,QAA5B,CACA,IAAIkC,EAAMhG,KAAK8D,QAAQJ,UAAU0kD,YAC7BpiD,EAAIi1B,MAAQj7B,KAAKgG,IAAIi1B,KAAOj1B,EAAIk1B,QAAUl7B,KAAKgG,IAAIk1B,QAAUl1B,EAAIk1B,QAAUl7B,KAAKgG,IAAIk1B,OAASl7B,KAAKnB,QAClGmB,KAAKykG,mBACLzkG,KAAKyL,MAAM,cAAe7E,KAE1B5G,KAAK2kG,mBACL3kG,KAAKyL,MAAM,cAAe7E,MAGlC5G,KAAKw/C,OAAS,WACVx/C,KAAK8D,QAAQqD,aAAanH,KAAKgG,KAAOhG,KAAKgG,IAAImkE,UAC/CnqE,KAAK2kG,mBACL3kG,KAAKypB,IAAI0b,IAAI,SAAUnlC,KAAKkkG,WAC5BlkG,KAAK8D,QAAQJ,UAAUyhC,IAAI,eAAgBnlC,KAAKk7E,iBAChDl7E,KAAK8D,QAAQipE,eAAc,GAC3B/sE,KAAK8D,QAAU,MAEnB9D,KAAKi/B,OAAS,WACV,IAA8B,IAA1Bj/B,KAAKukG,gBAAT,CAIA,IAFA,IAAI93F,EAAczM,KAAK8D,QAAQ4I,iBAC3B04F,GAAiB34F,EAAY08E,YAAc18E,EAAY63F,YAAYzlG,OAASmB,KAAKukG,gBAC5E3lG,EAAI,EAAGA,EAAIwmG,EAAexmG,IAC/B6N,EAAYq8D,KAAK9oE,KAAK8D,SAAS,GAE/B9D,KAAK2sE,iBACL3sE,KAAK8D,QAAQJ,UAAUwC,SAASlG,KAAK2sE,qBAE9CrvE,KAAKwmG,EAAY1mG,WAGpB3B,EAAQqoG,YAAcA,KAGtBj6F,IAAIC,OAAO,iCAAiC,CAAC,UAAU,UAAU,SAAS,gBAAgB,sBAAsB,SAAS7N,EAASR,EAASsO,GAE3I,IAAInD,EAAQ3K,EAAQ,gBAChB0sB,EAAY1sB,EAAQ,oBACxB,SAASopG,EAAYhoE,EAAIC,GACrB,OAAOD,EAAGpC,KAAOqC,EAAGrC,KAAOoC,EAAGnC,QAAUoC,EAAGpC,OAmK/Cz/B,EAAQysC,YAhKR,SAAqBr2B,GACjB,IAAI+2B,EAAK/2B,EAAEu0B,SACPk/D,EAAM18D,EAAG1S,OACT1R,EAAQokB,EAAGzS,SACXovE,EAAO38D,EAAG3S,QACVuvE,EAAQ3zF,EAAEq5B,cACV9U,EAASvkB,EAAEmkB,YAKf,GAHIuvE,GAAQ58E,EAAU3B,QAClBoP,EAASwS,EAAGxS,QAEZvkB,EAAE3P,OAAOinC,mBAA+B,GAAV/S,EAC9BvkB,EAAE3P,OAAO4kC,UAAUX,cAAct0B,EAAEu0B,eAIvC,GAAKm/D,GAASD,GAAQE,GAMtB,GAAe,IAAXpvE,EAAJ,CAGA,IAiBIqvE,EAjBAvjG,EAAS2P,EAAE3P,OACXwB,EAAYxB,EAAOwB,UACnBgiG,EAAgBxjG,EAAOinC,kBACvBnjC,EAAM6L,EAAEi3B,sBACRl1B,EAASlQ,EAAU0kD,YACnBvf,EAAch3B,EAAEg3B,eAAkBnlC,EAAUk5B,WAAayoE,EAAYr/F,EAAK4N,GAE1E+xF,EAAS9zF,EAAEgH,EAAG+sF,EAAS/zF,EAAE9K,EAMzBjD,EAAU5B,EAAO4B,QACjB+hG,EAAe3jG,EAAOM,SAAS2rC,yBAAyBw3D,EAAQC,GAChEE,EAAeD,EAGnB,GAAI3jG,EAAOilC,cAAc4+D,iBACjBR,GAAQD,GAAOE,GAASF,EACxBG,EAAgBjhF,EAAQ,QAAU,MAC7B8gF,GAAOpjG,EAAO8jG,sBACnBP,EAAgB,cAEpB,GAAID,IAAUF,GAEV,GADAG,EAAgB,OACXC,GAAiBlhF,EAClB,YACG8gF,GAAOpjG,EAAO8jG,sBACrBP,EAAgB,SAQxB,GAJIA,GAAiB98E,EAAU3B,OAAS4hB,EAAG3S,SACvC/zB,EAAOilC,cAAc0W,oBAGJ,OAAjB4nD,EAAwB,CACxB,IAAKC,GAAiB78D,EAClB,OAEJ,IAAK68D,EAAe,CAChB,IAAI59F,EAAQpE,EAAUgtC,kBACtBxuC,EAAO+jG,mBAAmBn+F,GAG9B,IAAIo+F,EAAWxiG,EAAU+pD,UAAUkU,aAAa37D,GAEhD9D,EAAO+8E,wBAAyB,EAE5Bz6D,IACA0hF,EAAW,KACXp+F,EAAQpE,EAAU6pD,OAAO,IAAMzlD,EAC/B5F,EAAOikG,sBAAsBr+F,IAEjC5F,EAAOg2C,KAAK,WAAW,WACnB,IAAIkuD,EAAS1iG,EAAUgtC,kBAEnBw1D,GAAYE,EAAOxpE,WAAayoE,EAAYa,EAAStyF,OAAQwyF,EAAOxyF,QACpElQ,EAAU+9D,eAAe2kC,EAAOxyF,SAE5B4Q,EACA9gB,EAAU+9D,eAAe35D,EAAM8L,QACxB9L,IACP5F,EAAOikG,sBAAsBr+F,GAC7BpE,EAAUiqD,SAAS7lD,IAEvBpE,EAAUiqD,SAASy4C,IAEvBlkG,EAAO+8E,wBAAyB,UAGjC,GAAqB,SAAjBwmB,EAA0B,CAGjC,IAAIzsC,EAFJnnD,EAAEi6B,OACF5pC,EAAO+8E,wBAAyB,EAEhC,IAAIonB,EAAU,GACVC,EAAc,WACd,IAAIC,EAAYrkG,EAAOM,SAAS2rC,yBAAyBw3D,EAAQC,GAC7DhyF,EAAS9P,EAAQunD,yBAAyBk7C,EAAUtrE,IAAKsrE,EAAUrrE,OAAQqrE,EAAU75C,SAErF24C,EAAYS,EAAcS,IAAclB,EAAYzxF,EAAQlQ,EAAUkkD,QAE1Ek+C,EAAeS,EAEfrkG,EAAOwB,UAAUslC,eAAep1B,GAChC1R,EAAOM,SAASsnC,uBAEhB5nC,EAAOskG,uBAAuBH,GAC9BA,EAAU3iG,EAAU+iG,sBAAsBX,EAAcD,GACpD3jG,EAAOilC,cAAca,iBAAqC,GAAlBq+D,EAAQxnG,QAAewnG,EAAQ,GAAGzpE,YAC1EypE,EAAQ,GAAKnkG,EAAOilC,cAAca,gBAAgBnL,SACtDwpE,EAAQlmG,QAAQ+B,EAAO+jG,mBAAoB/jG,GAC3CA,EAAOwkG,2BAEPhB,IAAkBF,EAClB9hG,EAAUgqD,iBACFg4C,GAAiBF,IACzBxsC,EAAet1D,EAAUgtC,kBACzBxuC,EAAO+jG,mBAAmBjtC,IAG1Bx0C,EACAqhF,EAAe/hG,EAAQm5B,yBAAyBv5B,EAAUkkD,MAE1DlkD,EAAUslC,eAAehjC,GAE7B8/F,EAAe,CAAC7qE,KAAM,EAAGC,QAAS,GAElC,IAgBIyrE,EAAsBL,EAE1B1/F,EAAMyvB,QAAQn0B,EAAOqI,WAvHF,SAASsH,GAC5B8zF,EAAS9zF,EAAEymB,QACXstE,EAAS/zF,EAAE0mB,WAmGe,SAAS1mB,GAC/By0F,IACAv1D,cAAc/B,GACd9sC,EAAOskG,uBAAuBH,GACzBA,EAAQxnG,SACTwnG,EAAU,CAAC3iG,EAAUgtC,oBACrBsoB,IACA92D,EAAOikG,sBAAsBntC,GAC7Bt1D,EAAUgqD,cAAcsL,IAE5B,IAAK,IAAIp6D,EAAI,EAAGA,EAAIynG,EAAQxnG,OAAQD,IAChC8E,EAAUiqD,SAAS04C,EAAQznG,IAC/BsD,EAAO+8E,wBAAyB,EAChC/8E,EAAOilC,cAAca,gBAAkB,QAM3C,IAAIgH,EAAUgC,aAAY,WAAY21D,MAAyB,IAE/D,OAAO90F,EAAEkkB,wBA1IM,IAAXK,GAAgBvkB,EAAE3P,OAAOinC,mBACzBt3B,EAAE3P,OAAO22E,0BAkJrBhvE,IAAIC,OAAO,qCAAqC,CAAC,UAAU,UAAU,SAAS,8BAA8B,SAAS7N,EAASR,EAASsO,GACvItO,EAAQq9E,gBAAkB,CAAC,CACvB3wE,KAAM,iBACNytE,YAAa,mBACb9wE,KAAM,SAAS5C,GAAUA,EAAO0kG,iBAAiB,IACjD7hG,QAAS,CAAC+0B,IAAK,cAAe07C,IAAK,eACnCG,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,iBACNytE,YAAa,mBACb9wE,KAAM,SAAS5C,GAAUA,EAAO0kG,gBAAgB,IAChD7hG,QAAS,CAAC+0B,IAAK,gBAAiB07C,IAAK,iBACrCG,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,4BACNytE,YAAa,kCACb9wE,KAAM,SAAS5C,GAAUA,EAAO0kG,iBAAiB,GAAG,IACpD7hG,QAAS,CAAC+0B,IAAK,oBAAqB07C,IAAK,qBACzCG,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,4BACNytE,YAAa,kCACb9wE,KAAM,SAAS5C,GAAUA,EAAO0kG,gBAAgB,GAAG,IACnD7hG,QAAS,CAAC+0B,IAAK,sBAAuB07C,IAAK,uBAC3CG,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,mBACNytE,YAAa,qBACb9wE,KAAM,SAAS5C,GAAUA,EAAO2kG,YAAY,IAC5C9hG,QAAS,CAAC+0B,IAAK,gBAAiB07C,IAAK,iBACrCG,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,kBACNytE,YAAa,oBACb9wE,KAAM,SAAS5C,GAAUA,EAAO2kG,WAAW,IAC3C9hG,QAAS,CAAC+0B,IAAK,iBAAkB07C,IAAK,kBACtCG,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,mBACNytE,YAAa,qBACb9wE,KAAM,SAAS5C,GAAUA,EAAO2kG,YAAY,GAAG,IAC/C9hG,QAAS,CAAC+0B,IAAK,sBAAuB07C,IAAK,uBAC3CG,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,kBACNytE,YAAa,oBACb9wE,KAAM,SAAS5C,GAAUA,EAAO2kG,WAAW,GAAG,IAC9C9hG,QAAS,CAAC+0B,IAAK,uBAAwB07C,IAAK,wBAC5CG,eAAgB,SAChBrsE,UAAU,GACX,CACCnB,KAAM,gCACNytE,YAAa,mBACb9wE,KAAM,SAAS5C,GACPA,EAAOgyD,YAAY5G,WAAa,EAChCprD,EAAOgyD,YAAY4yC,iBAEnB5kG,EAAOgyD,YAAY6yC,kBAE3BhiG,QAAS,CAAC+0B,IAAK,aAAc07C,IAAK,cAClClsE,UAAU,GACX,CACCnB,KAAM,0BACNytE,YAAa,mBACb9wE,KAAM,SAAS5C,GAAUA,EAAOgyD,YAAY6yC,kBAC5Cz9F,UAAU,GACX,CACCnB,KAAM,eACNytE,YAAa,gBACb9wE,KAAM,SAAS5C,GAAUA,EAAO8kG,gBAChCjiG,QAAS,CAAC+0B,IAAK,aAAc07C,IAAK,cAClCG,eAAgB,UACjB,CACCxtE,KAAM,UACNytE,YAAa,WACb9wE,KAAM,SAAS5C,GAAUA,EAAOqwE,WAChCxtE,QAAS,CAAC+0B,IAAK,aAAc07C,IAAK,cAClCG,eAAgB,SAChBrsE,UAAU,IAEd7N,EAAQwrG,oBAAsB,CAAC,CAC3B9+F,KAAM,kBACNytE,YAAa,mBACb7wE,QAAS,MACTD,KAAM,SAAS5C,GAAUA,EAAO22E,uBAChClD,eAAgB,SAChBrsE,UAAU,EACVwrE,YAAa,SAAS5yE,GAAS,OAAOA,GAAUA,EAAOinC,qBAG3D,IAAImqC,EAAcr3E,EAAQ,4BAA4Bq3E,YACtD73E,EAAQoG,gBAAkB,IAAIyxE,EAAY73E,EAAQwrG,wBAIlDp9F,IAAIC,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,iBAAiB,YAAY,gBAAgB,iCAAiC,gBAAgB,eAAe,qCAAqC,aAAa,mBAAmB,aAAa,eAAe,SAAS7N,EAASR,EAASsO,GAErS,IAAIm3D,EAAYjlE,EAAQ,gBAAgBilE,UACpCn5D,EAAQ9L,EAAQ,WAAW8L,MAC3B4/C,EAAY1rD,EAAQ,eAAe0rD,UACnCzf,EAAcjsC,EAAQ,gCAAgCisC,YACtDthC,EAAQ3K,EAAQ,eAChB2jC,EAAO3jC,EAAQ,cACf8F,EAAW9F,EAAQ,oCACvBR,EAAQsG,SAAWA,EAAS+2E,gBAAgBl2E,OAAOb,EAASklG,qBAC5D,IACIt7C,EAAS,IAAIomB,EADJ91E,EAAQ,YAAY81E,QASjC,IAAI1nE,EAAcpO,EAAQ,kBAAkBoO,aAC5C,WACIrK,KAAKknG,oBAAsB,WACvB,OAAOlnG,KAAK01F,qBAEjBp4F,KAAK+M,EAAYjN,WACpB,WACI4C,KAAKutD,OAAS,KACdvtD,KAAKytD,UAAY,KACjBztD,KAAK2tD,SAAW,SAAS7lD,EAAOq/F,GAC5B,GAAKr/F,EAAL,CAGA,IAAK9H,KAAKmpC,mBAAyC,IAApBnpC,KAAKstD,WAAkB,CAClD,IAAI44C,EAAWlmG,KAAK0wC,kBAGpB,GAFA1wC,KAAKytD,UAAU/iC,IAAIw7E,GACnBlmG,KAAKytD,UAAU/iC,IAAI5iB,GACiB,GAAhC9H,KAAKytD,UAAUF,OAAO1uD,OAEtB,OADAmB,KAAKytD,UAAUoU,YACRslC,GAAsBnnG,KAAKmxC,kBAAkBrpC,GAExD9H,KAAKytD,UAAUoU,YACf7hE,KAAKytD,UAAU/iC,IAAIw7E,GACnBlmG,KAAKonG,YAAYlB,GAGhBp+F,EAAM8L,SACP9L,EAAM8L,OAAS9L,EAAMqzB,KAEzB,IAAIqmC,EAAUxhE,KAAKytD,UAAU/iC,IAAI5iB,GAcjC,OAZA9H,KAAKonG,YAAYt/F,GAEb05D,EAAQ3iE,QACRmB,KAAKqnG,eAAe7lC,GAEpBxhE,KAAKstD,WAAa,IAAMttD,KAAKmpC,oBAC7BnpC,KAAK2lC,QAAQ,eACb3lC,KAAKmpC,mBAAoB,EACzBnpC,KAAK8D,QAAQ2jE,aAAc,EAC3BznE,KAAKytD,UAAUlO,OAAOv/C,KAAK8D,UAGxBqjG,GAAsBnnG,KAAKmxC,kBAAkBrpC,KAExD9H,KAAK0tD,cAAgB,SAAS5lD,GAC1BA,EAAQA,GAAS9H,KAAKutD,OAAO,GAC7B,IAAIiU,EAAUxhE,KAAKytD,UAAUoU,YACzBL,EAAQ3iE,QACRmB,KAAKqnG,eAAe7lC,GAExB15D,GAAS9H,KAAKmxC,kBAAkBrpC,IAEpC9H,KAAKyhE,eAAiB,SAASz7D,GAC3B,IAAIw7D,EAAUxhE,KAAKytD,UAAUgU,eAAez7D,GAC5C,GAAIw7D,EAEA,OADAxhE,KAAKqnG,eAAe7lC,GACbA,EAAQ,IAGvBxhE,KAAKsnG,uBAAyB,WAC1B,IAAI9lC,EAAUxhE,KAAKytD,UAAU6C,QACzBkR,EAAQ3iE,QACRmB,KAAKqnG,eAAe7lC,IAG5BxhE,KAAKonG,YAAc,SAASt/F,GACxB9H,KAAKstD,WAAattD,KAAKytD,UAAUF,OAAO1uD,OACxCmB,KAAKutD,OAAOh3C,QAAQzO,GACpB9H,KAAK2lC,QAAQ,WAAY,CAAC79B,MAAOA,KAGrC9H,KAAKqnG,eAAiB,SAAS7lC,GAE3B,GADAxhE,KAAKstD,WAAattD,KAAKytD,UAAUF,OAAO1uD,OACjB,GAAnBmB,KAAKstD,YAAmBttD,KAAKmpC,kBAAmB,CAChD,IAAIo+D,EAAYvnG,KAAKytD,UAAUF,OAAOl7C,MACtCmvD,EAAQpjE,KAAKmpG,GACbvnG,KAAKstD,WAAa,EAGtB,IAAK,IAAI1uD,EAAI4iE,EAAQ3iE,OAAQD,KAAO,CAChC,IAAI8G,EAAQ1F,KAAKutD,OAAO5nD,QAAQ67D,EAAQ5iE,IACxCoB,KAAKutD,OAAO3nD,OAAOF,EAAO,GAG9B1F,KAAK2lC,QAAQ,cAAe,CAAC4nB,OAAQiU,IAEb,IAApBxhE,KAAKstD,YAAoBttD,KAAKmpC,oBAC9BnpC,KAAKmpC,mBAAoB,EACzBnpC,KAAK2lC,QAAQ,gBACb3lC,KAAK8D,QAAQ2jE,aAAc,EAC3BznE,KAAKytD,UAAUjO,OAAOx/C,KAAK8D,WAG/ByjG,EAAYA,GAAavnG,KAAKutD,OAAO,MACnBg6C,EAAUnsE,QAAQp7B,KAAK2iC,aACrC3iC,KAAKmxC,kBAAkBo2D,IAE/BvnG,KAAKwnG,eAAiB,WACdxnG,KAAKytD,YAGTztD,KAAKytD,UAAY,IAAIyT,EACrBlhE,KAAKutD,OAAS,GACdvtD,KAAKstD,WAAa,IAEtBttD,KAAKk2E,aAAe,WAChB,OAAOl2E,KAAKstD,WAAattD,KAAKytD,UAAUF,OAAO3qD,SAAW,CAAC5C,KAAK2iC,aAEpE3iC,KAAK+mG,eAAiB,WAGlB,IAFA,IAAIx5C,EAASvtD,KAAKutD,OAAO1uD,OAASmB,KAAKutD,OAAS,CAACvtD,KAAK2iC,YAClDi2C,EAAY,GACPh6E,EAAI,EAAGA,EAAI2uD,EAAO1uD,OAAQD,IAAK,CACpC,IAAIkJ,EAAQylD,EAAO3uD,GACfq8B,EAAMnzB,EAAM6Z,MAAMsZ,IAClBxzB,EAASK,EAAMqzB,IAAIF,IACvB,GAAIA,IAAQxzB,EACRmxE,EAAUx6E,KAAK0J,EAAM+0B,aAClB,CAEH,IADA+7C,EAAUx6E,KAAK,IAAI2J,EAAMkzB,EAAKnzB,EAAM6Z,MAAMuZ,OAAQD,EAAKj7B,KAAK8D,QAAQ8+B,QAAQ3H,GAAKp8B,WACxEo8B,EAAMxzB,GACXmxE,EAAUx6E,KAAK4B,KAAKirC,aAAahQ,GAAK,IAC1C29C,EAAUx6E,KAAK,IAAI2J,EAAMN,EAAQ,EAAGA,EAAQK,EAAMqzB,IAAID,SAEjD,GAALt8B,GAAWoB,KAAKwoD,gBAChBowB,EAAYA,EAAUn7C,WAE9Bz9B,KAAK0tD,gBACL,IAAS9uD,EAAIg6E,EAAU/5E,OAAQD,KAC3BoB,KAAK2tD,SAASirB,EAAUh6E,KAGhCoB,KAAK8mG,eAAiB,WAClB,IAAIv5C,EAASvtD,KAAKytD,UAAUF,OACxBg6C,EAAYh6C,EAAOA,EAAO1uD,OAAS,GACnCiJ,EAAQC,EAAM20B,WAAW6wB,EAAO,GAAG5rC,MAAO4lF,EAAUpsE,KAExDn7B,KAAK0tD,gBACL1tD,KAAKwiC,kBAAkB16B,EAAOy/F,EAAU3zF,QAAU2zF,EAAU5lF,QAEhE3hB,KAAKynG,qBAAuB,WACxB,GAAIznG,KAAKstD,WAAa,EAAG,CACrB,IAAIC,EAASvtD,KAAKytD,UAAUF,OACxBg6C,EAAYh6C,EAAOA,EAAO1uD,OAAS,GACnCiJ,EAAQC,EAAM20B,WAAW6wB,EAAO,GAAG5rC,MAAO4lF,EAAUpsE,KAExDn7B,KAAK0tD,gBACL1tD,KAAKwiC,kBAAkB16B,EAAOy/F,EAAU3zF,QAAU2zF,EAAU5lF,WACzD,CACH,IAAI/N,EAAS5T,KAAK8D,QAAQm5B,yBAAyBj9B,KAAK4T,QACpD+0B,EAAS3oC,KAAK8D,QAAQm5B,yBAAyBj9B,KAAK2oC,QAE1C3oC,KAAKymG,sBAAsB7yF,EAAQ+0B,GACzCxoC,QAAQH,KAAK2tD,SAAU3tD,QAGvCA,KAAKymG,sBAAwB,SAASX,EAAcD,EAAc6B,GAC9D,IAAIrB,EAAU,GAEVsB,EAAa7B,EAAa5qE,OAAS2qE,EAAa3qE,OACpD,GAAIysE,EACA,IAAI5sE,EAAc+qE,EAAa5qE,OAC3BF,EAAY6qE,EAAa3qE,OACzB0sE,EAAe9B,EAAap5C,QAC5Bm7C,EAAahC,EAAan5C,aAE1B3xB,EAAc8qE,EAAa3qE,OAC3BF,EAAY8qE,EAAa5qE,OACzB0sE,EAAe/B,EAAan5C,QAC5Bm7C,EAAa/B,EAAap5C,QAGlC,IAiBIo7C,EAgeSzqE,EAAIC,EAjfbyqE,EAAajC,EAAa7qE,IAAM4qE,EAAa5qE,IACjD,GAAI8sE,EACA,IAAIxgG,EAAWu+F,EAAa7qE,IACxBxzB,EAASo+F,EAAa5qE,SAEtB1zB,EAAWs+F,EAAa5qE,IACxBxzB,EAASq+F,EAAa7qE,IAG1BF,EAAc,IACdA,EAAc,GACdxzB,EAAW,IACXA,EAAW,GAEXA,GAAYE,IACZigG,GAAoB,GAGxB,IAAK,IAAIzsE,EAAM1zB,EAAU0zB,GAAOxzB,EAAQwzB,IAAO,CAC3C,IAAInzB,EAAQC,EAAM20B,WACd18B,KAAK8D,QAAQunD,yBAAyBpwB,EAAKF,EAAa6sE,GACxD5nG,KAAK8D,QAAQunD,yBAAyBpwB,EAAKD,EAAW6sE,IAE1D,GAAI//F,EAAM80B,UAAW,CACjB,GAAIkrE,IAydCzqE,EAzdqBv1B,EAAMqzB,IAydvBmC,EAzd4BwqE,EA0d1CzqE,EAAGpC,KAAOqC,EAAGrC,KAAOoC,EAAGnC,QAAUoC,EAAGpC,QAzd3B,MACJ4sE,EAAShgG,EAAMqzB,IAEnBrzB,EAAM8L,OAAS+zF,EAAa7/F,EAAM6Z,MAAQ7Z,EAAMqzB,IAChDkrE,EAAQjoG,KAAK0J,GAMjB,GAHIigG,GACA1B,EAAQ5oE,WAEPiqE,EAAmB,CAEpB,IADA,IAAIvsE,EAAMkrE,EAAQxnG,OAAS,EACpBwnG,EAAQlrE,GAAKyB,WAAazB,EAAM,GACnCA,IACJ,GAAIA,EAAM,EAEN,IADA,IAAIxZ,EAAQ,EACL0kF,EAAQ1kF,GAAOib,WAClBjb,IAER,IAAK,IAAI/iB,EAAIu8B,EAAKv8B,GAAK+iB,EAAO/iB,IACtBynG,EAAQznG,GAAGg+B,WACXypE,EAAQzgG,OAAOhH,EAAG,GAI9B,OAAOynG,IAEZ/oG,KAAKqqD,EAAUvqD,WAClB,IAAI8M,EAASjO,EAAQ,YAAYiO,OAkejC,SAAS89F,EAAY9lG,GACbA,EAAO+lG,8BAEX/lG,EAAOklG,YAAcllG,EAAOklG,YAAY/mG,KAAK6B,GAC7CA,EAAOmlG,eAAiBnlG,EAAOmlG,eAAehnG,KAAK6B,GACnDA,EAAOgmG,eAAiBhmG,EAAOgmG,eAAe7nG,KAAK6B,GACnDA,EAAOimG,gBAAkBjmG,EAAOimG,gBAAgB9nG,KAAK6B,GACrDA,EAAO+lG,4BAA8BxsG,EAAQ2sG,gBAAgB/nG,KAAK6B,GAClEA,EAAOmmG,wBAA0BnmG,EAAOmmG,wBAAwBhoG,KAAK6B,GAErEA,EAAO+lG,4BAA4B/lG,GACnCA,EAAOkB,GAAG,gBAAiBlB,EAAO+lG,6BAElC/lG,EAAOkB,GAAG,YAAa8kC,GACvBhmC,EAAOH,SAASyxE,YAAYzxE,EAAS+2E,iBAKzC,SAA+B52E,GAC3B,IAAKA,EAAO4kC,UAAW,OACvB,IAAIz7B,EAAKnJ,EAAO4kC,UAAUf,aACtBuiE,GAAY,EAehB,SAAS7/B,EAAM52D,GACPy2F,IACApmG,EAAOM,SAASq+F,eAAe,IAC/ByH,GAAY,GAjBpB1hG,EAAM6uB,YAAYpqB,EAAI,WAAW,SAASwG,GACtC,IAAI02F,EAAuB,IAAb12F,EAAE+iB,WAAmB/iB,EAAEokB,SAAWpkB,EAAEskB,UAAYtkB,EAAE+mB,SAC5D12B,EAAO8jG,qBAAuBuC,EACzBD,IACDpmG,EAAOM,SAASq+F,eAAe,aAC/ByH,GAAY,GAETA,GACP7/B,MAELvmE,GAEH0E,EAAM6uB,YAAYpqB,EAAI,QAASo9D,EAAOvmE,GACtC0E,EAAM6uB,YAAYpqB,EAAI,OAAQo9D,EAAOvmE,GApBrCsmG,CAAsBtmG,KAjf1B,WACIlC,KAAK0mG,uBAAyB,WAC1B1mG,KAAKwC,SAASm7E,eACd39E,KAAKwC,SAASm8E,qBAElB3+E,KAAKimG,mBAAqB,SAASr8D,GAC1BA,EAAch2B,SACfg2B,EAAch2B,OAASg2B,EAAczO,KAEzC,IAAI1yB,EAAQzI,KAAK2wC,oBAKjB,OAJA/G,EAAcqgC,OAASjqE,KAAK8D,QAAQkE,UAAU4hC,EAAe,gBAAiBnhC,GAE9EzI,KAAK8D,QAAQ4xF,kBAAkBt3F,KAAKwrC,GACpC5pC,KAAK8D,QAAQ2kG,qBAAuBzoG,KAAK8D,QAAQ4xF,kBAAkB72F,OAC5D+qC,GAEX5pC,KAAKmmG,sBAAwB,SAASr+F,GAClC,GAAKA,EAAMmiE,OAAX,CAEAjqE,KAAK8D,QAAQqD,aAAaW,EAAMmiE,QAChC,IAAIvkE,EAAQ1F,KAAK8D,QAAQ4xF,kBAAkB/vF,QAAQmC,IACrC,GAAVpC,GACA1F,KAAK8D,QAAQ4xF,kBAAkB9vF,OAAOF,EAAO,GACjD1F,KAAK8D,QAAQ2kG,qBAAuBzoG,KAAK8D,QAAQ4xF,kBAAkB72F,SAGvEmB,KAAKwmG,uBAAyB,SAASj5C,GAEnC,IADA,IAAIm7C,EAAa1oG,KAAK8D,QAAQ4xF,kBACrB92F,EAAI2uD,EAAO1uD,OAAQD,KAAO,CAC/B,IAAIkJ,EAAQylD,EAAO3uD,GACnB,GAAKkJ,EAAMmiE,OAAX,CAEAjqE,KAAK8D,QAAQqD,aAAaW,EAAMmiE,QAChC,IAAIvkE,EAAQgjG,EAAW/iG,QAAQmC,IACjB,GAAVpC,GACAgjG,EAAW9iG,OAAOF,EAAO,IAEjC1F,KAAK8D,QAAQ2kG,qBAAuBC,EAAW7pG,QAGnDmB,KAAKonG,YAAc,SAASv1F,GACxB7R,KAAKimG,mBAAmBp0F,EAAE/J,OAC1B9H,KAAKwC,SAASm7E,eACd39E,KAAKwC,SAASm8E,qBAGlB3+E,KAAKqnG,eAAiB,SAASx1F,GAC3B7R,KAAKwmG,uBAAuB30F,EAAE07C,QAC9BvtD,KAAKwC,SAASm7E,eACd39E,KAAKwC,SAASm8E,qBAGlB3+E,KAAKkoG,eAAiB,SAASr2F,GACvB7R,KAAKmpC,oBAETnpC,KAAKmpC,mBAAoB,EAEzBnpC,KAAKqsB,SAAS,mBACdrsB,KAAKk5E,WAAW75B,mBAAmBt9C,EAASF,iBAC5C7B,KAAK+B,SAASkmC,kBAAkB,OAAQjoC,KAAK2oG,oBAE7C3oG,KAAKwC,SAASm7E,eACd39E,KAAKwC,SAASm8E,sBAGlB3+E,KAAKmoG,gBAAkB,SAASt2F,GACxB7R,KAAK8D,QAAQowD,YAAY00C,gBAE7B5oG,KAAKmpC,mBAAoB,EAEzBnpC,KAAKsqC,WAAW,mBAChBtqC,KAAKk5E,WAAW/5B,sBAAsBp9C,EAASF,iBAE/C7B,KAAK+B,SAAS22C,qBAAqB,OAAQ14C,KAAK2oG,oBAChD3oG,KAAKwC,SAASm7E,eACd39E,KAAKwC,SAASm8E,oBACd3+E,KAAKyL,MAAM,qBAGfzL,KAAK2oG,mBAAqB,SAAS92F,GAC/B,IAAIhN,EAAUgN,EAAEhN,QACZ3C,EAAS2P,EAAE3P,OACf,GAAKA,EAAOgyD,YAAZ,CAEA,GAAKrvD,EAAQoxE,kBAI2B,WAA7BpxE,EAAQoxE,kBACfrkE,EAAS1P,EAAO29E,iBAAiBh7E,EAASgN,EAAEe,MACR,eAA7B/N,EAAQoxE,kBACfrkE,EAAS1P,EAAO29E,iBAAiBh7E,EAASgN,EAAEe,MAAM,GACd,UAA7B/N,EAAQoxE,mBACf/zE,EAAO22E,sBACPjnE,EAAS/M,EAAQC,KAAK5C,EAAQ2P,EAAEe,MAAQ,KAExChB,EAAS/M,EAAQoxE,kBAAkB/zE,EAAQ2P,EAAEe,MAAQ,QAZzB,CAC5B,IAAIhB,EAAS/M,EAAQC,KAAK5C,EAAQ2P,EAAEe,MAAQ,IAC5C1Q,EAAOgyD,YAAYvG,SAASzrD,EAAOgyD,YAAYxjB,mBAC/CxuC,EAAOgyD,YAAYozC,yBAWvB,OAAO11F,IAEX5R,KAAK6/E,iBAAmB,SAASojB,EAAKrwF,EAAMwW,GACxC,IAAIppB,KAAKi/E,uBAAT,CAEA,IAMIrtE,EANAi3F,EAAYz/E,GAAWA,EAAQy/E,UAC/BC,EAAsB,GAAX1/E,GAAmBA,GAAWA,EAAQ0/E,SACjDhlG,EAAU9D,KAAK8D,QACfJ,EAAY1D,KAAK0D,UACjB+pD,EAAY/pD,EAAU+pD,UACtBF,GAAUs7C,EAAYnlG,EAAY+pD,GAAWF,OAGjD,IAAKA,EAAO1uD,OACR,OAAOokG,EAAIn+F,KAAOm+F,EAAIn+F,KAAK9E,KAAM4S,GAAQ,IAAMqwF,EAAIjjG,KAAM4S,GAAQ,IAErE,IAAIowE,EAAMt/E,EAAUo0C,eACpBp0C,EAAUo0C,eAAiB,GAE3B,IAAIsuD,EAAS,IAAIz+C,EAAU7jD,GAC3B9D,KAAKi/E,wBAAyB,EAC9B,IAAK,IAAIrgF,EAAI2uD,EAAO1uD,OAAQD,KAAM,CAC9B,GAAIkqG,EACA,KAAOlqG,EAAI,GAAK2uD,EAAO3uD,GAAG+iB,MAAMsZ,KAAOsyB,EAAO3uD,EAAI,GAAGu8B,IAAIF,KACrDr8B,IAERwnG,EAAOj1D,kBAAkBoc,EAAO3uD,IAChCwnG,EAAO1gG,MAAQ9G,EACfoB,KAAK0D,UAAYI,EAAQJ,UAAY0iG,EACrC,IAAI2C,EAAY9F,EAAIn+F,KAAOm+F,EAAIn+F,KAAK9E,KAAM4S,GAAQ,IAAMqwF,EAAIjjG,KAAM4S,GAAQ,IACrEhB,QAAwBnL,IAAdsiG,IACXn3F,EAASm3F,GACb3C,EAAO11D,gBAAgB6c,EAAO3uD,IAElCwnG,EAAO5mD,SAEPx/C,KAAK0D,UAAYI,EAAQJ,UAAYA,EACrC1D,KAAKi/E,wBAAyB,EAC9Bv7E,EAAUo0C,eAAiBkrC,EAC3Bt/E,EAAU4jG,yBACN5jG,EAAU6pD,OAAO,IACjB7pD,EAAUytC,kBAAkBztC,EAAU6pD,OAAO,IAEjD,IAAIy7C,EAAOhpG,KAAKwC,SAASm4F,iBAMzB,OALA36F,KAAK4D,iBACL5D,KAAK2D,oBACDqlG,GAAQA,EAAK/qC,MAAQ+qC,EAAK9qC,IAC1Bl+D,KAAKwC,SAASq3E,iBAAiBmvB,EAAK/qC,MAEjCrsD,IAEX5R,KAAK64E,oBAAsB,WAClB74E,KAAKmpC,oBAAqBnpC,KAAKi/E,wBAEpCj/E,KAAKk0D,YAAYxG,iBAGrB1tD,KAAK8+E,gBAAkB,WACnB,IAAIh4E,EAAO,GACX,GAAI9G,KAAKmpC,oBAAsBnpC,KAAKi/E,uBAAwB,CAGxD,IAFA,IAAI1xB,EAASvtD,KAAKk0D,YAAYzG,UAAUF,OACpC07C,EAAM,GACDrqG,EAAI,EAAGA,EAAI2uD,EAAO1uD,OAAQD,IAC/BqqG,EAAI7qG,KAAK4B,KAAK8D,QAAQguC,aAAayb,EAAO3uD,KAE9C,IAAImgF,EAAK/+E,KAAK8D,QAAQyI,cAAc0vD,uBACpCn1D,EAAOmiG,EAAIpjG,KAAKk5E,IACPlgF,SAAWoqG,EAAIpqG,OAAS,GAAKkgF,EAAGlgF,SACrCiI,EAAO,SACH9G,KAAK0D,UAAUk5B,YACvB91B,EAAO9G,KAAK8D,QAAQguC,aAAa9xC,KAAK4lC,sBAE1C,OAAO9+B,GAGX9G,KAAKqoG,wBAA0B,SAASx2F,EAAG82B,GACvC,GAAI3oC,KAAKmpC,oBAAsBnpC,KAAKi/E,uBAAwB,CACxD,IAAIn3E,EAAQ9H,KAAKk0D,YAAY3G,OAAO,GACpC,GAAIvtD,KAAKk0D,YAAYt3B,WAAa+L,GAAU3oC,KAAKk0D,YAAYvrB,OACzD,OACJ,IAAI3iC,EAAM2iC,GAAU3oC,KAAKk0D,YAAYvrB,OAC/B7gC,EAAM8L,QAAU9L,EAAM6Z,MAAQ7Z,EAAMqzB,IAAMrzB,EAAM6Z,MAChD7Z,EAAM8L,OACR5N,EAAIi1B,KAAO0N,EAAO1N,KACfj7B,KAAK8D,QAAQm3D,wBAAwBj1D,EAAIi1B,IAAKj1B,EAAIk1B,QAAQA,QAAUyN,EAAOzN,OAC9El7B,KAAKk0D,YAAYxG,cAAc1tD,KAAKk0D,YAAYxjB,mBAEhD1wC,KAAKk0D,YAAYozC,2BAG7BtnG,KAAKuyE,QAAU,SAASC,EAAQppD,EAAS8/E,GAGrC,IAFA9/E,EAAUA,GAAW,IACbopD,OAASA,GAAUppD,EAAQopD,YACb/rE,GAAlB2iB,EAAQopD,OAAqB,CAC7B,IAAI1qE,EAAQ9H,KAAK0D,UAAUk5B,UACrB58B,KAAK0D,UAAUsnC,eACfhrC,KAAK0D,UAAUi/B,WACrBvZ,EAAQopD,OAASxyE,KAAK8D,QAAQguC,aAAahqC,GAE/C9H,KAAKm5E,QAAQ37E,IAAI4rB,GAEjB,IAAImkC,EAASvtD,KAAKm5E,QAAQ5G,QAAQvyE,KAAK8D,SACvC,IAAKypD,EAAO1uD,OACR,OAAO,EAEX,IAAI6E,EAAY1D,KAAKk0D,YAEhBg1C,GACDxlG,EAAUgqD,cAAcH,EAAO,IAEnC,IAAK,IAAI3uD,EAAI2uD,EAAO1uD,OAAQD,KACxB8E,EAAUiqD,SAASJ,EAAO3uD,IAAI,GAIlC,OAHIkJ,GAASpE,EAAU+pD,UAAUkU,aAAa75D,EAAM6Z,QAChDje,EAAUiqD,SAAS7lD,GAAO,GAEvBylD,EAAO1uD,QAElBmB,KAAK4mG,gBAAkB,SAAS7mD,EAAKopD,GACjC,IAAIrhG,EAAQ9H,KAAK0D,UAAUgtC,kBACvB8X,EAAc1gD,EAAM8L,QAAU9L,EAAMqzB,IAEpCiuE,EAAappG,KAAK8D,QAAQm5B,yBAAyBn1B,EAAM8L,QACzD5T,KAAK0D,UAAUwkD,iBACfkhD,EAAWluE,OAASl7B,KAAK0D,UAAUwkD,gBAEvC,IAaQs9B,EAbJ59B,EAAO5nD,KAAK8D,QAAQunD,yBAAyB+9C,EAAWnuE,IAAM8kB,EAAKqpD,EAAWluE,QAElF,GAAKpzB,EAAM80B,UAIH+L,EAASif,OAHb,IAAIi+C,EAAe7lG,KAAK8D,QAAQm5B,yBAAyBurB,EAAc1gD,EAAMqzB,IAAMrzB,EAAM6Z,OACrFgnB,EAAS3oC,KAAK8D,QAAQunD,yBAAyBw6C,EAAa5qE,IAAM8kB,EAAK8lD,EAAa3qE,QAKxFstB,GACIg9B,EAAWz9E,EAAM20B,WAAWkrB,EAAMjf,IAC7B/0B,OAAS4xE,EAAS7jE,OAEvB6jE,EAAWz9E,EAAM20B,WAAWiM,EAAQif,IAC/Bh0C,OAAS4xE,EAASrqD,IAI/B,GADAqqD,EAASr4B,cAAgBi8C,EAAWluE,OAC/Bl7B,KAAK0D,UAAUylC,mBAGhB,GAAIggE,EACA,IAAIE,EAAWvhG,EAAM8L,YAHzB5T,KAAK0D,UAAUiqD,SAAS7lD,GAM5B9H,KAAK0D,UAAUiqD,SAAS63B,GACpB6jB,GACArpG,KAAK0D,UAAU+9D,eAAe4nC,IAEtCrpG,KAAKs4E,oBAAsB,SAASv4B,GAKhC,IAJA,IAAIj8C,EAAU9D,KAAK8D,QACfg2E,EAAMh2E,EAAQowD,YACdxZ,EAAMo/B,EAAIvsB,OAEL3uD,EAAI87C,EAAI77C,OAAQD,KAAO,CAE5B,IADIkJ,EAAQ4yC,EAAI97C,IACNg+B,UAAW,CACjB,IAAIokB,EAAMl9C,EAAQknC,aAAaljC,EAAM6Z,MAAMsZ,IAAKnzB,EAAM6Z,MAAMuZ,QAC5DpzB,EAAM6Z,MAAMsZ,IAAM+lB,EAAIr/B,MAAMsZ,IAC5BnzB,EAAM6Z,MAAMuZ,OAAS8lB,EAAIr/B,MAAMuZ,OAC/BpzB,EAAMqzB,IAAIF,IAAM+lB,EAAI7lB,IAAIF,IACxBnzB,EAAMqzB,IAAID,OAAS8lB,EAAI7lB,IAAID,QAGnC4+C,EAAIwtB,yBAEJ,IAAIgC,EAAQ,GACZ,IAAS1qG,EAAI87C,EAAI77C,OAAQD,KAAO,CAC5B,IAAIkJ,EAAQ4yC,EAAI97C,GAChB0qG,EAAM/yF,QAAQzS,EAAQguC,aAAahqC,IAGnCi4C,EAAM,EACNupD,EAAM/yF,QAAQ+yF,EAAMj3F,OAEpBi3F,EAAMlrG,KAAKkrG,EAAM9kF,SAErB,IAAS5lB,EAAI87C,EAAI77C,OAAQD,KAAO,CAExBoiD,GADAl5C,EAAQ4yC,EAAI97C,IACAi+B,QAChB/4B,EAAQqM,QAAQrI,EAAOwhG,EAAM1qG,IAC7BkJ,EAAM6Z,MAAMsZ,IAAM+lB,EAAIr/B,MAAMsZ,IAC5BnzB,EAAM6Z,MAAMuZ,OAAS8lB,EAAIr/B,MAAMuZ,OAEnC4+C,EAAI3oC,kBAAkB2oC,EAAIvsB,OAAO,KAErCvtD,KAAK6mG,WAAa,SAAS9mD,EAAKopD,EAAMI,GAClC,IAAIzlG,EAAU9D,KAAK8D,QAGfgE,EAFMhE,EAAQowD,YAEFxjB,kBAChB,IAAI5oC,EAAM80B,aACN90B,EAAQhE,EAAQknC,aAAaljC,EAAM6Z,MAAMsZ,IAAKnzB,EAAM6Z,MAAMuZ,SACpDtnB,QAAiB,GAARmsC,EAAYj4C,EAAM6Z,MAAQ7Z,EAAMqzB,IAC/Cn7B,KAAKk0D,YAAYvG,SAAS7lD,IACtByhG,GAJR,CAOA,IAAI/2B,EAAS1uE,EAAQguC,aAAahqC,GAE9B09E,EAvhBZ,SAAc1hF,EAAS0uE,EAAQzyB,GAI3B,OAHA4L,EAAOxnD,SAASutE,MAAO,EACvB/lB,EAAOxnD,SAASquE,OAASA,EACzB7mB,EAAOxnD,SAASivE,WAAoB,GAARrzB,EACrB4L,EAAOqmB,KAAKluE,GAmhBAkuE,CAAKluE,EAAS0uE,EAAQzyB,GACjCylC,IACAA,EAAS5xE,QAAiB,GAARmsC,EAAYylC,EAAS7jE,MAAQ6jE,EAASrqD,IACxDn7B,KAAK8D,QAAQsgE,OAAOohB,GACpBxlF,KAAKk0D,YAAYvG,SAAS63B,GAC1BxlF,KAAKwC,SAASsnC,qBAAqB,KAAM,KAEzCq/D,GACAnpG,KAAKk0D,YAAYuN,eAAe35D,EAAM8L,UAE9C5T,KAAKgnG,aAAe,WAChB,IAAIljG,EAAU9D,KAAK8D,QACfg2E,EAAMh2E,EAAQowD,YACd3G,EAASusB,EAAIvsB,OACbtyB,GAAO,EACPuuE,EAAgBj8C,EAAOrvD,QAAO,SAASkvD,GACvC,GAAIA,EAAEx5C,OAAOqnB,KAAOA,EAChB,OAAO,EACXA,EAAMmyB,EAAEx5C,OAAOqnB,OAGnB,GAAKsyB,EAAO1uD,QAAU2qG,EAAc3qG,QAAU0uD,EAAO1uD,OAAS,EAyBvD,CACH2qG,EAAcrpG,SAAQ,SAASitD,GAC3B0sB,EAAIrY,eAAerU,EAAEx5C,WAGzB,IAAI61F,EAAS,EACTC,EAAW7xC,IACX8xC,EAAep8C,EAAOt7C,KAAI,SAASm7C,GACnC,IAAI5tD,EAAI4tD,EAAEx5C,OAENg2F,EADO9lG,EAAQ8+B,QAAQpjC,EAAEy7B,KACN0qB,OAAOnmD,EAAE07B,QAAQywB,OAAO,OAQ/C,OAPoB,GAAhBi+C,IACAA,EAAc,GAEdpqG,EAAE07B,OAASuuE,IACXA,EAASjqG,EAAE07B,QACX0uE,EAAcF,IACdA,EAAWE,GACRA,KAEXr8C,EAAOptD,SAAQ,SAASitD,EAAGxuD,GACvB,IAAIY,EAAI4tD,EAAEx5C,OACNgS,EAAI6jF,EAASjqG,EAAE07B,OACf9hB,EAAIuwF,EAAa/qG,GAAK8qG,EACtB9jF,EAAIxM,EACJtV,EAAQ6uC,OAAOnzC,EAAGogC,EAAKlC,aAAa,IAAK9X,EAAIxM,IAE7CtV,EAAQ2iB,OAAO,IAAI1e,EAAMvI,EAAEy7B,IAAKz7B,EAAE07B,OAAQ17B,EAAEy7B,IAAKz7B,EAAE07B,OAAStV,EAAIxM,IAEpEg0C,EAAEzrC,MAAMuZ,OAASkyB,EAAEjyB,IAAID,OAASuuE,EAChCr8C,EAAEzrC,MAAMsZ,IAAMmyB,EAAEjyB,IAAIF,IAAMz7B,EAAEy7B,IAC5BmyB,EAAEx5C,OAASw5C,EAAEjyB,OAEjB2+C,EAAI3oC,kBAAkBoc,EAAO,IAC7BvtD,KAAKwC,SAASm7E,eACd39E,KAAKwC,SAASm8E,wBA5D+C,CAC7D,IAAI72E,EAAQ9H,KAAK0D,UAAUi/B,WACvBknE,EAAK/hG,EAAM6Z,MAAMsZ,IAAK6uE,EAAKhiG,EAAMqzB,IAAIF,IACrC8uE,EAAaF,GAAMC,EACvB,GAAIC,EAAY,CACZ,IACIrvF,EADAhN,EAAM1N,KAAK8D,QAAQmqC,YAEvB,GACIvzB,EAAO1a,KAAK8D,QAAQ8+B,QAAQknE,SACvB,OAAO14F,KAAKsJ,MAAWovF,EAAKp8F,GACrC,GACIgN,EAAO1a,KAAK8D,QAAQ8+B,QAAQinE,SACvB,OAAOz4F,KAAKsJ,MAAWmvF,EAAK,GAEjCA,EAAK,IAAGA,EAAK,GACbC,GAAMp8F,IAAKo8F,EAAKp8F,EAAM,GAE9B,IAAIqG,EAAQ/T,KAAK8D,QAAQi5D,gBAAgB8sC,EAAIC,GAC7C/1F,EAAQ/T,KAAKgqG,aAAaj2F,EAAOg2F,GACjC/pG,KAAK8D,QAAQ6uC,OAAO,CAAC1X,IAAK4uE,EAAI3uE,OAAQ,GAAInnB,EAAMlO,KAAK,MAAQ,MACxDkkG,IACDjiG,EAAM6Z,MAAMuZ,OAAS,EACrBpzB,EAAMqzB,IAAID,OAASnnB,EAAMA,EAAMlV,OAAS,GAAGA,QAE/CmB,KAAK0D,UAAUyyC,SAASruC,KAwChC9H,KAAKgqG,aAAe,SAASj2F,EAAOk2F,GAChC,IACIC,EAAQC,EAAOC,EADfC,GAAgB,EAAMC,GAAiB,EAG3C,OAAOv2F,EAAM9B,KAAI,SAASyI,GACtB,IAAIlM,EAAIkM,EAAKlI,MAAM,2BACnB,OAAKhE,EAGS,MAAV07F,GACAA,EAAS17F,EAAE,GAAG3P,OACdsrG,EAAQ37F,EAAE,GAAG3P,OACburG,EAAO57F,EAAE,GAAG3P,OACL2P,IAGP07F,EAASC,EAAQC,GAAQ57F,EAAE,GAAG3P,OAAS2P,EAAE,GAAG3P,OAAS2P,EAAE,GAAG3P,SAC1DyrG,GAAiB,GACjBJ,GAAU17F,EAAE,GAAG3P,SACfwrG,GAAgB,GAEhBH,EAAS17F,EAAE,GAAG3P,SACdqrG,EAAS17F,EAAE,GAAG3P,QACdsrG,EAAQ37F,EAAE,GAAG3P,SACbsrG,EAAQ37F,EAAE,GAAG3P,QACburG,EAAO57F,EAAE,GAAG3P,SACZurG,EAAO57F,EAAE,GAAG3P,QAET2P,GArBI,CAACkM,MAsBbzI,IAAIg4F,EAAYM,EACfF,EAAgBC,EAWpB,SAAoB97F,GAChB,OAAQA,EAAE,GAAYgqD,EAAO0xC,EAASC,EAAQ37F,EAAE,GAAG3P,QAAU2P,EAAE,GACzDgqD,EAAO4xC,GACP57F,EAAE,GAAG2B,QAAQ,aAAc,OAFlB3B,EAAE,IAZ6B+7F,EAgBlD,SAAiB/7F,GACb,OAAQA,EAAE,GAAYgqD,EAAO0xC,GAAU17F,EAAE,GACnCgqD,EAAO4xC,GACP57F,EAAE,GAAG2B,QAAQ,aAAc,OAFlB3B,EAAE,KAfrB,SAASgqD,EAAO/3C,GACZ,OAAOmf,EAAKlC,aAAa,IAAKjd,GAGlC,SAAS8pF,EAAU/7F,GACf,OAAQA,EAAE,GAAYgqD,EAAO0xC,GAAU17F,EAAE,GACnCgqD,EAAO2xC,EAAQ37F,EAAE,GAAG3P,OAASurG,GAC7B57F,EAAE,GAAG2B,QAAQ,aAAc,OAFlB3B,EAAE,OAe1BlR,KAAK4M,EAAO9M,WAMf3B,EAAQ2sG,gBAAkB,SAASv2F,GAC/B,IAAI/N,EAAU+N,EAAE/N,QACZA,IAAYA,EAAQowD,cACpBpwD,EAAQ4xF,kBAAoB,GAC5B5xF,EAAQJ,UAAU8jG,iBAClB1jG,EAAQowD,YAAcpwD,EAAQJ,WAElC1D,KAAKk0D,YAAcpwD,GAAWA,EAAQowD,YAEtC,IAAIqmB,EAAa1oE,EAAE0oE,WACfA,IACAA,EAAWrmB,YAAY/uB,IAAI,WAAYnlC,KAAKonG,aAC5C7sB,EAAWrmB,YAAY/uB,IAAI,cAAenlC,KAAKqnG,gBAC/C9sB,EAAWrmB,YAAY/uB,IAAI,cAAenlC,KAAKkoG,gBAC/C3tB,EAAWrmB,YAAY/uB,IAAI,eAAgBnlC,KAAKmoG,iBAChD5tB,EAAWrmB,YAAYtM,KAAKziB,IAAI,SAAUnlC,KAAKqoG,yBAC/C9tB,EAAWrmB,YAAYvrB,OAAOxD,IAAI,SAAUnlC,KAAKqoG,0BAGjDvkG,IACAA,EAAQowD,YAAY9wD,GAAG,WAAYpD,KAAKonG,aACxCtjG,EAAQowD,YAAY9wD,GAAG,cAAepD,KAAKqnG,gBAC3CvjG,EAAQowD,YAAY9wD,GAAG,cAAepD,KAAKkoG,gBAC3CpkG,EAAQowD,YAAY9wD,GAAG,eAAgBpD,KAAKmoG,iBAC5CrkG,EAAQowD,YAAYtM,KAAKxkD,GAAG,SAAUpD,KAAKqoG,yBAC3CvkG,EAAQowD,YAAYvrB,OAAOvlC,GAAG,SAAUpD,KAAKqoG,0BAG7CvkG,GAAW9D,KAAKmpC,mBAAqBrlC,EAAQJ,UAAUylC,oBACnDrlC,EAAQJ,UAAUylC,kBAClBnpC,KAAKkoG,iBAELloG,KAAKmoG,oBAgDjB1sG,EAAQusG,YAAcA,EAGtB/rG,EAAQ,YAAY09C,cAAczvC,EAAO9M,UAAW,SAAU,CAC1DotG,kBAAmB,CACfhtG,IAAK,SAAS8rB,GACV0+E,EAAYhoG,MACRspB,GACAtpB,KAAKoD,GAAG,gBAAiBpD,KAAKioG,6BAC9BjoG,KAAKoD,GAAG,YAAa8kC,KAErBloC,KAAKmlC,IAAI,gBAAiBnlC,KAAKioG,6BAC/BjoG,KAAKmlC,IAAI,YAAa+C,KAG9BxsC,OAAO,GAEX+uG,kBAAmB,CACfjtG,IAAK,SAAS8rB,GACVtpB,KAAKgmG,oBAAsB18E,GAE/B5tB,OAAO,QAQfmO,IAAIC,OAAO,6BAA6B,CAAC,UAAU,UAAU,SAAS,cAAc,SAAS7N,EAASR,EAASsO,GAC/G,aAEA,IAAIhC,EAAQ9L,EAAQ,eAAe8L,MAE/B2iG,EAAWjvG,EAAQivG,SAAW,cAElC,WAEI1qG,KAAK2qG,mBAAqB,KAC1B3qG,KAAK4qG,kBAAoB,KACzB5qG,KAAKmlE,cAAgB,SAASrhE,EAASguE,EAAW72C,GAC9C,IAAIvgB,EAAO5W,EAAQ8+B,QAAQ3H,GAC3B,OAAIj7B,KAAK2qG,mBAAmBv5F,KAAKsJ,GACtB,QACM,gBAAbo3D,GACO9xE,KAAK4qG,mBACL5qG,KAAK4qG,kBAAkBx5F,KAAKsJ,GAC5B,MACJ,IAGX1a,KAAKolE,mBAAqB,SAASthE,EAASguE,EAAW72C,GACnD,OAAO,MAGXj7B,KAAK6qG,iBAAmB,SAAS/mG,EAASm3B,EAAKC,GAC3C,IAAI+f,EAAK,KACLvgC,EAAO5W,EAAQ8+B,QAAQ3H,GACvB6vE,EAAapwF,EAAKixC,OAAO1Q,GAC7B,IAAmB,GAAf6vD,EAAJ,CAQA,IALA,IAAI/vE,EAAcG,GAAUxgB,EAAK7b,OAC7BkyE,EAASjtE,EAAQmqC,YACjB1mC,EAAW0zB,EACXxzB,EAASwzB,IAEJA,EAAM81C,GAAQ,CACnB,IAAI9pB,EAAQnjD,EAAQ8+B,QAAQ3H,GAAK0wB,OAAO1Q,GAExC,IAAc,GAAVgM,EAAJ,CAGA,GAAIA,GAAS6jD,EAAY,CACrB,IAAIj8C,EAAQ/qD,EAAQovD,WAAWj4B,EAAK,GACpC,IAAK4zB,GAAwB,WAAfA,EAAMlnD,KAChB,MAGRF,EAASwzB,GAGb,GAAIxzB,EAASF,EAAU,CACnB,IAAIyzB,EAAYl3B,EAAQ8+B,QAAQn7B,GAAQ5I,OACxC,OAAO,IAAIkJ,EAAMR,EAAUwzB,EAAatzB,EAAQuzB,MAIxDh7B,KAAK+qG,oBAAsB,SAASjnG,EAASgzD,EAAS77B,EAAKC,EAAQ4rC,GAC/D,IAAInlD,EAAQ,CAACsZ,IAAKA,EAAKC,OAAQA,EAAS,GACpCC,EAAMr3B,EAAQ6iE,oBAAoB7P,EAASn1C,EAAOmlD,GACtD,GAAK3rC,EAAL,CAGA,IAAI+qC,EAAKpiE,EAAQ06C,YAAYrjB,EAAIF,KAQjC,OAPU,MAANirC,IACAA,EAAKpiE,EAAQqhE,cAAchqC,EAAIF,MAEzB,SAANirC,GAAiB/qC,EAAIF,IAAMtZ,EAAMsZ,MACjCE,EAAIF,MACJE,EAAID,OAASp3B,EAAQ8+B,QAAQzH,EAAIF,KAAKp8B,QAEnCkJ,EAAM20B,WAAW/a,EAAOwZ,KAGnCn7B,KAAKgrG,oBAAsB,SAASlnG,EAASgzD,EAAS77B,EAAKC,EAAQ4rC,GAC/D,IAAI3rC,EAAM,CAACF,IAAKA,EAAKC,OAAQA,GACzBvZ,EAAQ7d,EAAQsxD,oBAAoB0B,EAAS37B,GAEjD,GAAKxZ,EAML,OAHAA,EAAMuZ,SACNC,EAAID,SAEInzB,EAAM20B,WAAW/a,EAAOwZ,MAErC79B,KAAKotG,EAASttG,cAIjByM,IAAIC,OAAO,qBAAqB,CAAC,UAAU,UAAU,SAAS,gBAAgB,SAAS7N,EAASR,EAASsO,GACzG,aAEAtO,EAAQmlG,QAAS,EACjBnlG,EAAQklG,SAAW,SACnBllG,EAAQ8P,QAAU,s0EAwHlB9P,EAAQi+D,IAAM,qBAEJz9D,EAAQ,cACdgvB,gBAAgBxvB,EAAQ8P,QAAS9P,EAAQklG,aAG7C92F,IAAIC,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,gBAAgB,SAAS7N,EAASR,EAASsO,GACvG,aAEA,IAAI41B,EAAM1jC,EAAQ,aAElB,SAASgvG,EAAYnnG,GACjB9D,KAAK8D,QAAUA,EACf9D,KAAK8D,QAAQonG,cAAgBlrG,KAC7BA,KAAK8D,QAAQqsE,aAAenwE,KAAKmwE,aACjCnwE,KAAK8D,QAAQutE,uBAAyBrxE,KAAKqxE,uBAC3CrxE,KAAKmrG,eAAiBnrG,KAAKmrG,eAAe9qG,KAAKL,MAC/CA,KAAKorG,cAAgBprG,KAAKorG,cAAc/qG,KAAKL,MAC7CA,KAAKqrG,eAAiBrrG,KAAKqrG,eAAehrG,KAAKL,MAC/CA,KAAK8D,QAAQwnG,gBAAkB,GAC/BtrG,KAAKurG,gBAAkBvrG,KAAKurG,gBAAgBlrG,KAAKL,MAEjDA,KAAK8D,QAAQV,GAAG,SAAUpD,KAAKmrG,gBAC/BnrG,KAAK8D,QAAQV,GAAG,aAAcpD,KAAKwrG,cACnCxrG,KAAK8D,QAAQV,GAAG,eAAgBpD,KAAKurG,kBAGzC,WACIvrG,KAAKmwE,aAAe,SAASl1C,GACzB,IAAI+a,EAKJ,OAHIA,EADAh2C,KAAK4sD,aACD5sD,KAAK4sD,YAAY3xB,IAAQj7B,KAAK4sD,YAAY3xB,GAAK8xB,UAE/C,EACH/sD,KAAKqlD,cAAiBrlD,KAAKslD,UAAUrqB,GAG/Bj7B,KAAKslD,UAAUrqB,GAAKp8B,OAAS,EAAIm3C,EAFjC,EAAIA,GAMnBh2C,KAAKqxE,uBAAyB,WAC1B,IAAID,EAAa,EAKjB,OAJApxE,KAAK4sD,YAAYzsD,SAAQ,SAAS81C,GAC1BA,GAAKA,EAAE8W,WAAa9W,EAAEgD,SACtBm4B,GAAcn7B,EAAE8W,aAEjBqkB,GAGXpxE,KAAKurG,gBAAkB,SAAS15F,GAC5B7R,KAAKu/C,OAAO1tC,EAAE3P,SAGlBlC,KAAKu/C,OAAS,SAASr9C,GACfA,GAAWA,EAAOgpG,eAAiBhpG,EAAOgpG,eAAiBlrG,MAC3DkC,EAAOgpG,cAAc1rD,SAErBx/C,KAAKkC,QAAUA,IAGnBlC,KAAKw/C,SACLx/C,KAAKkC,OAASA,EAEVA,IACAA,EAAOgpG,cAAgBlrG,KACvBkC,EAAOM,SAASY,GAAG,eAAgBpD,KAAKqrG,gBACxCnpG,EAAOM,SAASY,GAAG,cAAepD,KAAKorG,kBAG/CprG,KAAKw/C,OAAS,SAAS3tC,GACnB,IAAI3P,EAASlC,KAAKkC,OAClB,GAAKA,EAAL,CAGAlC,KAAKkC,OAAS,KACdA,EAAOgpG,cAAgB,KAEvBhpG,EAAOM,SAAS2iC,IAAI,eAAgBnlC,KAAKqrG,gBACzCnpG,EAAOM,SAAS2iC,IAAI,cAAenlC,KAAKorG,eACxC,IAAIx+C,EAAc5sD,KAAK8D,QAAQ8oD,YAC/BA,GAAeA,EAAYzsD,SAAQ,SAAS81C,GACpCA,GAAKA,EAAE5qC,IAAM4qC,EAAE5qC,GAAGqb,aAClBuvB,EAAEw1D,aAAc,EAChBx1D,EAAE5qC,GAAGqb,WAAW/a,YAAYsqC,EAAE5qC,UAK1CrL,KAAKwrG,aAAe,SAAS35F,EAAG/N,GAC5B,IAAI8oD,EAAc9oD,EAAQ8oD,YAC1B,GAAKA,GAAgB/6C,EAAE2iC,OAAvB,CAMA,IAJA,IAAI4J,EAAOvsC,EAAEK,KACTyP,EAAQy8B,EAAKz8B,MAAMsZ,IACnBE,EAAMijB,EAAKjjB,IAAIF,IACfwR,EAAmB,OAAZ56B,EAAE2iC,OACJ51C,EAAI+iB,EAAQ,EAAG/iB,EAAIu8B,EAAKv8B,IACzBguD,EAAYhuD,KACZguD,EAAYhuD,GAAGq6C,OAASxM,GAE5BmgB,EAAYzxB,KACRsR,EACKmgB,EAAYjrC,GAGbirC,EAAYzxB,GAAK8d,OAASxM,EAF1BmgB,EAAYjrC,GAASirC,EAAYzxB,IAIjCyxB,EAAYjrC,IAAUirC,EAAYzxB,KAClCyxB,EAAYjrC,QAASlb,GACzBmmD,EAAYzxB,GAAK8d,OAASxM,MAKtCzsC,KAAKmrG,eAAiB,SAASryF,GAC3B,IAAI8zC,EAAc5sD,KAAK8D,QAAQ8oD,YAC/B,GAAKA,EAAL,CAEA,IAAIrlD,EAAWuR,EAAM6I,MAAMsZ,IACvBgmB,EAAMnoC,EAAMqiB,IAAIF,IAAM1zB,EAE1B,GAAY,IAAR05C,QACG,GAAoB,UAAhBnoC,EAAM07B,OAAoB,CACjC,IAAIgtB,EAAU5U,EAAYhnD,OAAO2B,EAAW,EAAG05C,IAC1C2L,EAAYrlD,IAAai6D,EAAQA,EAAQ3iE,OAAS,KACnD+tD,EAAYrlD,GAAYi6D,EAAQnvD,OAEpCmvD,EAAQrhE,SAAQ,SAAS81C,GACrBA,GAAKj2C,KAAK0rG,iBAAiBz1D,KAC5Bj2C,MACHA,KAAK2rG,kBACF,CACH,IAAI/4F,EAAO,IAAIjO,MAAMs8C,GACjB2L,EAAYrlD,IAA6C,MAAhCqlD,EAAYrlD,GAAU2zB,QAC3CpiB,EAAM6I,MAAMuZ,OAAS0xB,EAAYrlD,GAAU2zB,QAC3C3zB,IAERqL,EAAK2D,QAAQhP,EAAU,GACvBqlD,EAAYhnD,OAAOvH,MAAMuuD,EAAah6C,GACtC5S,KAAK2rG,iBAIb3rG,KAAK2rG,YAAc,WACf,IAAI/+C,EAAc5sD,KAAK8D,QAAQ8oD,YAC/B,GAAKA,EAAL,CACA,IAAIg/C,GAAY,EAChBh/C,EAAYzsD,SAAQ,SAAS81C,EAAGr3C,GAC5B,GAAIq3C,EAGA,IAFA21D,GAAY,EACZ31D,EAAEhb,IAAMr8B,EACDq3C,EAAE41D,YACL51D,EAAE41D,WAAW5wE,IAAMr8B,EACnBq3C,EAAIA,EAAE41D,cAIdD,IACA5rG,KAAK8D,QAAQ8oD,YAAc,QAGnC5sD,KAAK8rG,oBAAsB,SAAS71D,GAC3Bj2C,KAAK8D,QAAQ8oD,cACd5sD,KAAK8D,QAAQ8oD,YAAc,IAAIjoD,MAAM3E,KAAK8D,QAAQmqC,cAEtD,IAAIuK,EAAMx4C,KAAK8D,QAAQ8oD,YAAY3W,EAAEhb,KAUrC,OATIud,IACAvC,EAAE41D,WAAarzD,EACXA,EAAIntC,IAAMmtC,EAAIntC,GAAGqb,aACjB8xB,EAAIntC,GAAGqb,WAAW/a,YAAY6sC,EAAIntC,IAClCmtC,EAAIizD,aAAc,IAI1BzrG,KAAK8D,QAAQ8oD,YAAY3W,EAAEhb,KAAOgb,EAC3BA,GAGXj2C,KAAK+rG,cAAgB,SAAS91D,GAI1B,GAHAj2C,KAAK8rG,oBAAoB71D,GACzBA,EAAEnyC,QAAU9D,KAAK8D,SAEZ9D,KAAKkC,OAAQ,OAAO+zC,EAEzB,IAAIzzC,EAAWxC,KAAKkC,OAAOM,SACvByzC,EAAE32B,OAAS22B,EAAE5qC,KACb4qC,EAAE5qC,GAAKs0B,EAAIj3B,cAAc,OACzButC,EAAE5qC,GAAG2e,UAAYisB,EAAE32B,MAEnB22B,EAAE5qC,KACFs0B,EAAIrV,YAAY2rB,EAAE5qC,GAAI,2BACtB4qC,EAAE5qC,GAAG5C,MAAMojB,SAAW,WACtBoqB,EAAE5qC,GAAG5C,MAAMujG,OAAS,EACpBxpG,EAAS+H,UAAUiB,YAAYyqC,EAAE5qC,IACjC4qC,EAAEw1D,aAAc,EAEXx1D,EAAEg2D,cACHh2D,EAAE5qC,GAAG5C,MAAMujG,OAAS,GAEH,MAAjB/1D,EAAEi2D,cACFj2D,EAAEi2D,YAAcj2D,EAAE5qC,GAAGshC,eAGX,MAAdsJ,EAAE8W,WACF9W,EAAE8W,SAAW9W,EAAEi2D,YAAc1pG,EAASwtC,YAAYD,YAGtD,IAAIqO,EAAOp+C,KAAK8D,QAAQu6C,UAAUpI,EAAEhb,IAAK,GAEzC,GADAgb,EAAEk2D,MAAQ/tD,EACNA,EAAM,CACN,IAAIwO,EAAc5sD,KAAK8D,QAAQ8oD,YAC3B3W,EAAEhb,KAAOmjB,EAAKjjB,IAAIF,KAAQ2xB,EAAYxO,EAAKz8B,MAAMsZ,KAGjDgb,EAAEgD,QAAS,EAFX2T,EAAYxO,EAAKz8B,MAAMsZ,KAAOgb,EAUtC,OALAj2C,KAAK8D,QAAQ2H,MAAM,aAAc,CAACyG,KAAK,CAACyP,MAAM,CAACsZ,IAAKgb,EAAEhb,QAEtDj7B,KAAK2rG,cACL3rG,KAAKorG,cAAc,KAAM5oG,GACzBxC,KAAKosG,gBAAgBn2D,GACdA,GAGXj2C,KAAK0rG,iBAAmB,SAASz1D,GAK7B,GAJAA,EAAEw1D,aAAc,EAChBx1D,EAAEnyC,QAAU,KACRmyC,EAAE5qC,IAAM4qC,EAAE5qC,GAAGqb,YACbuvB,EAAE5qC,GAAGqb,WAAW/a,YAAYsqC,EAAE5qC,IAC9B4qC,EAAE/zC,QAAU+zC,EAAE/zC,OAAOyE,QAAS,IAC9BsvC,EAAE/zC,OAAOyE,UACX,MAAMkL,IACR,GAAI7R,KAAK8D,QAAQ8oD,YAAa,CAC1B,IAAIy/C,EAAKrsG,KAAK8D,QAAQ8oD,YAAY3W,EAAEhb,KACpC,GAAIoxE,GAAMp2D,EACNj2C,KAAK8D,QAAQ8oD,YAAY3W,EAAEhb,KAAOgb,EAAE41D,WAChC51D,EAAE41D,YACF7rG,KAAKosG,gBAAgBn2D,EAAE41D,iBAE3B,KAAOQ,GAAI,CACP,GAAIA,EAAGR,YAAc51D,EAAG,CACpBo2D,EAAGR,WAAa51D,EAAE41D,WAClB,MAEJQ,EAAKA,EAAGR,YAIpB7rG,KAAK8D,QAAQ2H,MAAM,aAAc,CAACyG,KAAK,CAACyP,MAAM,CAACsZ,IAAKgb,EAAEhb,QACtDj7B,KAAK2rG,eAGT3rG,KAAKssG,gBAAkB,SAASrxE,GAI5B,IAHA,IAAI2xB,EAAc5sD,KAAK8D,QAAQ8oD,YAC3B3W,EAAI2W,GAAeA,EAAY3xB,GAC/Bg3B,EAAO,GACJhc,GACHgc,EAAK7zD,KAAK63C,GACVA,EAAIA,EAAE41D,WAEV,OAAO55C,GAGXjyD,KAAKosG,gBAAkB,SAASn2D,GAC5Bj2C,KAAK8D,QAAQwnG,gBAAgBltG,KAAK63C,GAClCj2C,KAAKkC,QAAUlC,KAAKkC,OAAOM,SAAS05E,cAGxCl8E,KAAKqrG,eAAiB,SAASx5F,EAAGrP,GAC9B,IAAI+pG,EAAiBvsG,KAAK8D,QAAQwnG,gBAC9BhvD,EAAS95C,EAASwtC,YAEtB,GAAKu8D,GAAmBA,EAAe1tG,OAAvC,CAEA,IADA,IAAI4O,EAAMoqD,IACDj5D,EAAI,EAAGA,EAAI2tG,EAAe1tG,OAAQD,IAAK,CAC5C,IAAIq3C,EAAIs2D,EAAe3tG,GACvB,GAAKq3C,GAAMA,EAAE5qC,IACT4qC,EAAEnyC,SAAW9D,KAAK8D,QAAtB,CACA,IAAKmyC,EAAEw1D,YAAa,CAChB,GAAIzrG,KAAK8D,QAAQ8oD,YAAY3W,EAAEhb,MAAQgb,EACnC,SACJA,EAAEw1D,aAAc,EAChBjpG,EAAS+H,UAAUiB,YAAYyqC,EAAE5qC,IAGrC4qC,EAAED,EAAIC,EAAE5qC,GAAGshC,aAENsJ,EAAEu2D,aACHv2D,EAAEA,EAAIA,EAAE5qC,GAAG4gB,YACXgqB,EAAE+1B,YAAczzD,KAAKC,KAAKy9B,EAAEA,EAAIqG,EAAO/V,iBAG3C,IAAIwmB,EAAW9W,EAAED,EAAIsG,EAAOvM,WACxBkG,EAAEw2D,YACF1/C,GAAY/sD,KAAK8D,QAAQssE,gBAAgBn6B,EAAEhb,MAC5B,IACX8xB,EAAW,GAEf9W,EAAE8W,UAAYA,IACd9W,EAAE8W,SAAWA,EACT9W,EAAEhb,IAAMxtB,IACRA,EAAMwoC,EAAEhb,OAGhBxtB,GAAOoqD,MACP73D,KAAK8D,QAAQ2H,MAAM,aAAc,CAACyG,KAAK,CAACyP,MAAM,CAACsZ,IAAKxtB,MACpDzN,KAAK8D,QAAQooE,gBAAkB,MAEnClsE,KAAK8D,QAAQwnG,gBAAkB,KAGnCtrG,KAAKorG,cAAgB,SAASv5F,EAAGrP,GAC7B,IAAI85C,EAAS95C,EAASwtC,YAClB4c,EAAc5sD,KAAK8D,QAAQ8oD,YAC/B,GAAKA,EAAL,CAKA,IAHA,IAAIqS,EAAQ1mD,KAAK9K,IAAIzN,KAAKw8B,SAAU8f,EAAO9f,UACvCe,EAAOhlB,KAAK7K,IAAI1N,KAAKy8B,QAAS6f,EAAO7f,QAASmwB,EAAY/tD,QAEvDogE,EAAQ,IAAMrS,EAAYqS,IAC7BA,IAEJj/D,KAAKw8B,SAAW8f,EAAO9f,SACvBx8B,KAAKy8B,QAAU6f,EAAO7f,QAEtBj6B,EAASquC,aAAayL,OAASA,EAC/B,IAAK,IAAI19C,EAAIqgE,EAAOrgE,GAAK2+B,EAAM3+B,IAAK,CAChC,IAAIq3C,EAAI2W,EAAYhuD,GACpB,GAAKq3C,GAAMA,EAAE5qC,GACb,GAAI4qC,EAAEgD,OACFhD,EAAE5qC,GAAG5C,MAAM4F,KAAO,KAAO4nC,EAAEi2D,aAAe,GAAK,SADnD,CAIKj2D,EAAEw1D,cACHx1D,EAAEw1D,aAAc,EAChBjpG,EAAS+H,UAAUiB,YAAYyqC,EAAE5qC,KAErC,IAAIgD,EAAM7L,EAASquC,aAAayF,iBAAiB,CAACrb,IAAKr8B,EAAGs8B,OAAO,IAAI,GAAM7sB,IACtE4nC,EAAEw2D,YACHp+F,GAAOiuC,EAAOvM,WAAa/vC,KAAK8D,QAAQssE,gBAAgBn6B,EAAEhb,MAC9Dgb,EAAE5qC,GAAG5C,MAAM4F,IAAMA,EAAMiuC,EAAOzd,OAAS,KAEvC,IAAIvwB,EAAO2nC,EAAEg2D,YAAc,EAAIzpG,EAASgrF,YACnCv3C,EAAEu2D,aACHl+F,GAAQ9L,EAASkzC,YACrBO,EAAE5qC,GAAG5C,MAAM6F,KAAOA,EAAO,KAErB2nC,EAAEy2D,WAAaz2D,EAAE+1B,cACjB/1B,EAAE5qC,GAAG5C,MAAMijB,SAAW4wB,EAAOh2C,MAAQ,EAAIg2C,EAAOn6B,QAAU,MAG1D8zB,EAAEu2D,WACFv2D,EAAE5qC,GAAG5C,MAAMkL,MAAQnR,EAASk4F,UAAU9tD,WAAa,KAEnDqJ,EAAE5qC,GAAG5C,MAAMkL,MAAQ,SAKhCrW,KAAK2tG,EAAY7tG,WAGpB3B,EAAQwvG,YAAcA,KAItBphG,IAAIC,OAAO,uBAAuB,CAAC,UAAU,UAAU,SAAS,mBAAmB,cAAc,cAAc,SAAS7N,EAASR,EAASsO,GAC1I,aACA,IAAIkhG,EAAchvG,EAAQ,mBAAmBgvG,YACzCtrE,EAAM1jC,EAAQ,cACd8L,EAAQ9L,EAAQ,YAAY8L,MAuDhCtM,EAAQi6E,gBAAkB,SAASxzE,EAAQ69C,GACvC,IAAIj8C,EAAU5B,EAAO4B,QAChBA,EAAQonG,gBACTpnG,EAAQonG,cAAgB,IAAID,EAAYnnG,GACxCA,EAAQonG,cAAc3rD,OAAOr9C,IAGjC,IAAI8D,EAAM9D,EAAOqkD,oBACbtrB,EAAMj1B,EAAIi1B,IACV0xE,EAAY7oG,EAAQonG,cAAcoB,gBAAgBrxE,GAAK/8B,QAAO,SAAS+3C,GACvE,MAAiB,eAAVA,EAAEtuC,QACV,GACCglG,EACAA,EAAUhmG,UAEVs0B,GAAO8kB,EAEX,IACI6sD,EADA5qG,EArDR,SAAyB8B,EAASm3B,EAAK8kB,GACnC,IAAI/9C,EAAc8B,EAAQD,iBAAiBq8D,KAAKn4D,EAAMq1B,eACtD,GAAKp7B,EAAYnD,OAAjB,CAGA,IAAID,EAtBR,SAAsB6K,EAAO+oE,EAAQq6B,GAIjC,IAHA,IAAI5tC,EAAQ,EACR1hC,EAAO9zB,EAAM5K,OAAS,EAEnBogE,GAAS1hC,GAAM,CAClB,IAAI0qC,EAAOhJ,EAAQ1hC,GAAS,EACxBgkB,EAAIsrD,EAAWr6B,EAAQ/oE,EAAMw+D,IACjC,GAAI1mB,EAAI,EACJ0d,EAAQgJ,EAAM,MACb,MAAI1mB,EAAI,GAGT,OAAO0mB,EAFP1qC,EAAO0qC,EAAM,GAIrB,QAAShJ,EAAQ,GAQT6tC,CAAa9qG,EAAa,CAACi5B,IAAKA,EAAKC,QAAS,GAAInzB,EAAMq1B,eAC5Dx+B,EAAI,IACJA,GAAKA,EAAI,GAETA,GAAKoD,EAAYnD,OACjBD,EAAImhD,EAAM,EAAI,EAAI/9C,EAAYnD,OAAS,EAC5B,IAAND,GAAWmhD,EAAM,IACtBnhD,EAAIoD,EAAYnD,OAAS,GAE7B,IAAIkvC,EAAa/rC,EAAYpD,GAC7B,GAAKmvC,GAAegS,EAApB,CAGA,GAAIhS,EAAW9S,MAAQA,EAAK,CACxB,GACI8S,EAAa/rC,EAAYpD,GAAKmhD,SACzBhS,GAAcA,EAAW9S,MAAQA,GAC1C,IAAK8S,EACD,OAAO/rC,EAAYkkB,QAI3B,IAAI6mF,EAAU,GACd9xE,EAAM8S,EAAW9S,IACjB,GACI8xE,EAAQhtD,EAAM,EAAI,UAAY,QAAQhS,GACtCA,EAAa/rC,EAAYpD,GAAKmhD,SACzBhS,GAAcA,EAAW9S,KAAOA,GACzC,OAAO8xE,EAAQluG,QAAUkuG,IAoBPC,CAAgBlpG,EAASm3B,EAAK8kB,GAEhD,GAAI/9C,EAAa,CACb,IAAI+rC,EAAa/rC,EAAY,GAC7BgE,EAAIk1B,QAAU6S,EAAW/nC,KAAmC,iBAArB+nC,EAAW7S,OAC5C6S,EAAW/nC,IAAImsE,GACfpkC,EAAW7S,SAAW,EAC5Bl1B,EAAIi1B,IAAM8S,EAAW9S,IACrB2xE,EAAa1qG,EAAOM,SAAS+qC,aAAaS,aAAahoC,EAAIi1B,SACxD,IAAI0xE,EACP,OAEAC,EAAa,CACT9lG,KAAM,CAAC,eACP/F,UAAW,UAGnBmB,EAAO4B,QAAQsgE,OAAOp+D,EAAIi1B,KAC1B/4B,EAAOwB,UAAUslC,eAAehjC,GAEhC,IAAIiwC,EAAI,CACJhb,IAAKj1B,EAAIi1B,IACTuxE,YAAY,EACZP,aAAa,EACb5gG,GAAIs0B,EAAIj3B,cAAc,OACtBf,KAAM,eAEN0D,EAAK4qC,EAAE5qC,GAAGG,YAAYm0B,EAAIj3B,cAAc,QACxCukG,EAAQh3D,EAAE5qC,GAAGG,YAAYm0B,EAAIj3B,cAAc,QAC/CukG,EAAMlsG,UAAY,sBAAwB6rG,EAAW7rG,UAErD,IAAIuN,EAAOpM,EAAOM,SAASquC,aACtByF,iBAAiBtwC,GAAKsI,KAC3B2+F,EAAMxkG,MAAM6F,KAAOA,EAAOpM,EAAOM,SAASgrF,YAAc,EAAI,KAE5Dv3C,EAAE5qC,GAAGtK,UAAY,uBACjBsK,EAAGtK,UAAY,gBAAkB6rG,EAAW7rG,UAC5CsK,EAAG2e,UAAY4iF,EAAW9lG,KAAKjB,KAAK,QAEpCwF,EAAGG,YAAYm0B,EAAIj3B,cAAc,QAEjC,IAAIw2C,EAAK,SAASzH,EAAG3e,EAAQjE,GACzB,GAAe,IAAXiE,IAA+B,QAAdjE,GAAqC,WAAdA,GAExC,OADAohB,EAAEtvC,UACK,CAAC9B,QAAS,SAIzBoxC,EAAEtvC,QAAU,WACJzE,EAAOilC,cAAcC,iBAEzBllC,EAAOg3E,WAAW/5B,sBAAsBD,GACxCp7C,EAAQonG,cAAcQ,iBAAiBz1D,GACvC/zC,EAAOijC,IAAI,kBAAmB8Q,EAAEtvC,SAChCzE,EAAOijC,IAAI,gBAAiB8Q,EAAEtvC,SAC9BzE,EAAOijC,IAAI,UAAW8Q,EAAEtvC,SACxBzE,EAAOijC,IAAI,SAAU8Q,EAAEtvC,WAG3BzE,EAAOg3E,WAAW75B,mBAAmBH,GACrCh9C,EAAOkB,GAAG,kBAAmB6yC,EAAEtvC,SAC/BzE,EAAOkB,GAAG,gBAAiB6yC,EAAEtvC,SAC7BzE,EAAOkB,GAAG,UAAW6yC,EAAEtvC,SACvBzE,EAAOkB,GAAG,SAAU6yC,EAAEtvC,SAEtBzE,EAAO4B,QAAQonG,cAAca,cAAc91D,GAE3CA,EAAE5qC,GAAG6hG,YAAchrG,EAAOf,MAAMd,KAAK6B,GAErCA,EAAOM,SAASsnC,qBAAqB,KAAM,GAAK,CAAClD,OAAQqP,EAAE5qC,GAAGshC,gBAIlEhN,EAAI1U,gBAAgB,u3BAiCjB,OAIHphB,IAAIC,OAAO,UAAU,CAAC,UAAU,UAAU,SAAS,yBAAyB,cAAc,gBAAgB,YAAY,aAAa,mBAAmB,kBAAkB,uBAAuB,2BAA2B,4BAA4B,kBAAkB,mBAAmB,6BAA6B,qBAAqB,uBAAuB,eAAe,SAAS7N,EAASR,EAASsO,GAC9Y,aAEA9N,EAAQ,wBAER,IAAI0jC,EAAM1jC,EAAQ,aACd2K,EAAQ3K,EAAQ,eAEhB8L,EAAQ9L,EAAQ,WAAW8L,MAC3BmC,EAASjO,EAAQ,YAAYiO,OAC7BG,EAAcpO,EAAQ,kBAAkBoO,YACxCu+E,EAAc3sF,EAAQ,iBAAiB2sF,YACvCz+E,EAAWlO,EAAQ,sBAAsBmO,gBAC7CnO,EAAQ,0BACRA,EAAQ,2BACRA,EAAQ,iBACRA,EAAQ,kBACRA,EAAQ,4BACRA,EAAQ,oBACRA,EAAQ,sBAERR,EAAQ6gD,OAASrgD,EAAQ,YACzBR,EAAQQ,QAAUA,EAGdR,EAAQqO,OAASA,OACrBrO,EAAQ0G,KAAO,SAASkJ,EAAI+d,GACxB,GAAiB,iBAAN/d,EAAgB,CACvB,IAAI8hG,EAAM9hG,EAEV,KADAA,EAAKC,SAAS8hG,eAAeD,IAEzB,MAAM,IAAI94F,MAAM,4BAA8B84F,GAGtD,GAAI9hG,GAAMA,EAAGgiG,KAAOhiG,EAAGgiG,IAAInrG,kBAAkBgI,EACzC,OAAOmB,EAAGgiG,IAAInrG,OAElB,IAAIxG,EAAQ,GACZ,GAAI2P,GAAM,kBAAkB+F,KAAK/F,EAAGiiG,SAAU,CAC1C,IAAIC,EAAUliG,EACd3P,EAAQ6xG,EAAQ7xG,MAChB2P,EAAKs0B,EAAIj3B,cAAc,OACvB6kG,EAAQ7mF,WAAWkuB,aAAavpC,EAAIkiG,QAC7BliG,IACP3P,EAAQ2P,EAAG4e,YACX5e,EAAG2e,UAAY,IAGnB,IAAIP,EAAMhuB,EAAQ+xG,kBAAkB9xG,GAEhCwG,EAAS,IAAIgI,EAAO,IAAIC,EAASkB,GAAKoe,EAAKL,GAE3CikF,EAAM,CACN/hG,SAAUme,EACVvnB,OAAQA,EACRk6E,SAAUl6E,EAAOgD,OAAO7E,KAAK6B,EAAQ,OASzC,OAPIqrG,IAASF,EAAIp0B,SAAWs0B,GAC5B3mG,EAAM6uB,YAAYzQ,OAAQ,SAAUqoF,EAAIjxB,UACxCl6E,EAAOkB,GAAG,WAAW,WACjBwD,EAAM4uB,eAAexQ,OAAQ,SAAUqoF,EAAIjxB,UAC3CixB,EAAInrG,OAAOqI,UAAU8iG,IAAM,QAE/BnrG,EAAOqI,UAAU8iG,IAAMnrG,EAAOmrG,IAAMA,EAC7BnrG,GAEXzG,EAAQ+xG,kBAAoB,SAAS1mG,EAAM5F,GACvC,IAAIuoB,EAAM,IAAIpf,EAAYvD,EAAM5F,GAEhC,OADAuoB,EAAI9c,eAAe,IAAIi8E,GAChBn/D,GAEXhuB,EAAQsM,MAAQA,EAChBtM,EAAQyO,OAASA,EACjBzO,EAAQ4O,YAAcA,EACtB5O,EAAQmtF,YAAcA,EACtBntF,EAAQ2O,gBAAkBD,EAC1B1O,EAAQ2gD,QAAU3gD,EAAQ6gD,OAAOF,WAEjBvyC,IAAI5N,QAAQ,CAAC,YAAY,SAASqb,GAO9B,IAAK,IAAIna,KANLma,IACAA,EAAEglC,OAAOb,MAAK,GACdnkC,EAAExN,OAASD,IAAIC,QAEdkb,OAAOnb,MACRmb,OAAOnb,IAAMyN,GACDA,EAAOA,EAAEja,eAAeF,KACpC6nB,OAAOnb,IAAI1M,GAAOma,EAAEna,IACxB6nB,OAAOnb,IAAP,QAAwBmb,OAAOnb,IACgCE,IAC3DA,EAAOtO,QAAUupB,OAAOnb,U,wCCr1pBhDE,EAAOtO,QAAU,WAChB,MAAM,IAAI4Y,MAAM,oC,qBCDjB,cAUA,IAGI5F,EAAiB,4BAOjBg/F,EAAmB,iBAGnBC,EAAU,qBACVC,EAAW,iBAEXC,EAAU,mBACVC,EAAU,gBACVC,EAAW,iBACXp/F,EAAU,oBAEVq/F,EAAS,eACTC,EAAY,kBAEZC,EAAY,kBACZC,EAAa,mBAEbC,EAAY,kBACZC,EAAS,eACTC,EAAY,kBACZC,EAAY,kBAEZC,EAAa,mBAEbC,EAAiB,uBACjBC,EAAc,oBAkBdx/F,EAAe,8BAGfy/F,EAAW,mBAGXC,EAAiB,GACrBA,EAxBiB,yBAwBYA,EAvBZ,yBAwBjBA,EAvBc,sBAuBYA,EAtBX,uBAuBfA,EAtBe,uBAsBYA,EArBZ,uBAsBfA,EArBsB,8BAqBYA,EApBlB,wBAqBhBA,EApBgB,yBAoBY,EAC5BA,EAAejB,GAAWiB,EAAehB,GACzCgB,EAAeH,GAAkBG,EAAef,GAChDe,EAAeF,GAAeE,EAAed,GAC7Cc,EAAeb,GAAYa,EAAejgG,GAC1CigG,EAAeZ,GAAUY,EAAeX,GACxCW,EAAeV,GAAaU,EAAeR,GAC3CQ,EAAeP,GAAUO,EAAeN,GACxCM,EAAeJ,IAAc,EAG7B,IAAIr/F,EAA8B,iBAAVC,GAAsBA,GAAUA,EAAO5T,SAAWA,QAAU4T,EAGhFC,EAA0B,iBAAR/P,MAAoBA,MAAQA,KAAK9D,SAAWA,QAAU8D,KAGxEgQ,EAAOH,GAAcE,GAAYE,SAAS,cAATA,GAGjCs/F,EAA4CnzG,IAAYA,EAAQqmC,UAAYrmC,EAG5EozG,EAAaD,GAAgC,iBAAV7kG,GAAsBA,IAAWA,EAAO+3B,UAAY/3B,EAGvF+kG,EAAgBD,GAAcA,EAAWpzG,UAAYmzG,EAGrDG,EAAcD,GAAiB5/F,EAAW8/F,QAG1CC,EAAY,WACd,IACE,OAAOF,GAAeA,EAAY36B,SAAW26B,EAAY36B,QAAQ,QACjE,MAAOviE,KAHK,GAOZq9F,EAAmBD,GAAYA,EAASE,aAuD5C,SAASC,EAAU3lG,EAAO4lG,GAIxB,IAHA,IAAI3pG,GAAS,EACT7G,EAAkB,MAAT4K,EAAgB,EAAIA,EAAM5K,SAE9B6G,EAAQ7G,GACf,GAAIwwG,EAAU5lG,EAAM/D,GAAQA,EAAO+D,GACjC,OAAO,EAGX,OAAO,EAkET,SAAS6lG,EAAWr9F,GAClB,IAAIvM,GAAS,EACTkM,EAASjN,MAAMsN,EAAI7F,MAKvB,OAHA6F,EAAI9R,SAAQ,SAASzE,EAAOyB,GAC1ByU,IAASlM,GAAS,CAACvI,EAAKzB,MAEnBkW,EAwBT,SAAS29F,EAAW/xG,GAClB,IAAIkI,GAAS,EACTkM,EAASjN,MAAMnH,EAAI4O,MAKvB,OAHA5O,EAAI2C,SAAQ,SAASzE,GACnBkW,IAASlM,GAAShK,KAEbkW,EAIT,IAxBiBzI,EAAM0jB,EAwBnBtd,EAAa5K,MAAMvH,UACnBoS,EAAYF,SAASlS,UACrBqS,EAAclU,OAAO6B,UAGrBsS,EAAaL,EAAK,sBAGlBS,EAAeN,EAAUO,SAGzB1S,EAAiBoS,EAAYpS,eAG7BsS,EAAc,WAChB,IAAIC,EAAM,SAAS9K,KAAK4K,GAAcA,EAAW3R,MAAQ2R,EAAW3R,KAAK8R,UAAY,IACrF,OAAOD,EAAO,iBAAmBA,EAAO,GAFxB,GAUd4/F,EAAuB//F,EAAYM,SAGnCE,EAAaC,OAAO,IACtBJ,EAAaxS,KAAKD,GAAgB8S,QA7PjB,sBA6PuC,QACvDA,QAAQ,yDAA0D,SAAW,KAI5Es/F,EAASX,EAAgBz/F,EAAKogG,YAAShpG,EACvChJ,EAAS4R,EAAK5R,OACdiyG,EAAargG,EAAKqgG,WAClBC,EAAuBlgG,EAAYkgG,qBACnC/pG,EAAS2J,EAAW3J,OACpBgqG,EAAiBnyG,EAASA,EAAOoyG,iBAAcppG,EAG/CqpG,GAAmBv0G,OAAOyC,sBAC1B+xG,GAAiBN,EAASA,EAAOO,cAAWvpG,EAC5CwpG,IAnEa9mG,EAmEQ5N,OAAOwC,KAnET8uB,EAmEetxB,OAlE7B,SAAS20G,GACd,OAAO/mG,EAAK0jB,EAAUqjF,MAoEtBC,GAAW9/F,GAAUhB,EAAM,YAC3Be,GAAMC,GAAUhB,EAAM,OACtB+oC,GAAU/nC,GAAUhB,EAAM,WAC1B+gG,GAAM//F,GAAUhB,EAAM,OACtBzS,GAAUyT,GAAUhB,EAAM,WAC1BiB,GAAeD,GAAU9U,OAAQ,UAGjC80G,GAAqBt+F,GAASo+F,IAC9BG,GAAgBv+F,GAAS3B,IACzBmgG,GAAoBx+F,GAASqmC,IAC7Bo4D,GAAgBz+F,GAASq+F,IACzBK,GAAoB1+F,GAASnV,IAG7B2T,GAAc9S,EAASA,EAAOL,eAAYqJ,EAC1CiqG,GAAgBngG,GAAcA,GAAYogG,aAAUlqG,EASxD,SAASgK,GAAKC,GACZ,IAAIhL,GAAS,EACT7G,EAAoB,MAAX6R,EAAkB,EAAIA,EAAQ7R,OAG3C,IADAmB,KAAK2Q,UACIjL,EAAQ7G,GAAQ,CACvB,IAAI+R,EAAQF,EAAQhL,GACpB1F,KAAKxC,IAAIoT,EAAM,GAAIA,EAAM,KA+F7B,SAASC,GAAUH,GACjB,IAAIhL,GAAS,EACT7G,EAAoB,MAAX6R,EAAkB,EAAIA,EAAQ7R,OAG3C,IADAmB,KAAK2Q,UACIjL,EAAQ7G,GAAQ,CACvB,IAAI+R,EAAQF,EAAQhL,GACpB1F,KAAKxC,IAAIoT,EAAM,GAAIA,EAAM,KA4G7B,SAASE,GAASJ,GAChB,IAAIhL,GAAS,EACT7G,EAAoB,MAAX6R,EAAkB,EAAIA,EAAQ7R,OAG3C,IADAmB,KAAK2Q,UACIjL,EAAQ7G,GAAQ,CACvB,IAAI+R,EAAQF,EAAQhL,GACpB1F,KAAKxC,IAAIoT,EAAM,GAAIA,EAAM,KA+F7B,SAASggG,GAASphD,GAChB,IAAI9pD,GAAS,EACT7G,EAAmB,MAAV2wD,EAAiB,EAAIA,EAAO3wD,OAGzC,IADAmB,KAAKmS,SAAW,IAAIrB,KACXpL,EAAQ7G,GACfmB,KAAK0qB,IAAI8kC,EAAO9pD,IA2CpB,SAASmrG,GAAMngG,GACb,IAAIwB,EAAOlS,KAAKmS,SAAW,IAAItB,GAAUH,GACzC1Q,KAAKoM,KAAO8F,EAAK9F,KAmGnB,SAAS0kG,GAAcp1G,EAAOq1G,GAC5B,IAAIC,EAAQpsG,GAAQlJ,GAChBu1G,GAASD,GAASE,GAAYx1G,GAC9By1G,GAAUH,IAAUC,GAASjB,GAASt0G,GACtC01G,GAAUJ,IAAUC,IAAUE,GAAUhC,GAAazzG,GACrD21G,EAAcL,GAASC,GAASE,GAAUC,EAC1Cx/F,EAASy/F,EAloBf,SAAmB5wF,EAAG6wF,GAIpB,IAHA,IAAI5rG,GAAS,EACTkM,EAASjN,MAAM8b,KAEV/a,EAAQ+a,GACf7O,EAAOlM,GAAS4rG,EAAS5rG,GAE3B,OAAOkM,EA2nBoB2/F,CAAU71G,EAAMmD,OAAQ8b,QAAU,GACzD9b,EAAS+S,EAAO/S,OAEpB,IAAK,IAAI1B,KAAOzB,GACTq1G,IAAa1zG,EAAeC,KAAK5B,EAAOyB,IACvCk0G,IAEQ,UAAPl0G,GAECg0G,IAAkB,UAAPh0G,GAA0B,UAAPA,IAE9Bi0G,IAAkB,UAAPj0G,GAA0B,cAAPA,GAA8B,cAAPA,IAEtDq0G,GAAQr0G,EAAK0B,KAElB+S,EAAOxT,KAAKjB,GAGhB,OAAOyU,EAWT,SAASb,GAAatH,EAAOtM,GAE3B,IADA,IAAI0B,EAAS4K,EAAM5K,OACZA,KACL,GAAI4yG,GAAGhoG,EAAM5K,GAAQ,GAAI1B,GACvB,OAAO0B,EAGX,OAAQ,EA0BV,SAAS6yG,GAAWh2G,GAClB,OAAa,MAATA,OACe+K,IAAV/K,EAt1BQ,qBARL,gBAg2BJk0G,GAAkBA,KAAkBr0G,OAAOG,GA0arD,SAAmBA,GACjB,IAAIi2G,EAAQt0G,EAAeC,KAAK5B,EAAOk0G,GACnCl+F,EAAMhW,EAAMk0G,GAEhB,IACEl0G,EAAMk0G,QAAkBnpG,EACxB,IAAImrG,GAAW,EACf,MAAO//F,IAET,IAAID,EAAS49F,EAAqBlyG,KAAK5B,GACnCk2G,IACED,EACFj2G,EAAMk0G,GAAkBl+F,SAEjBhW,EAAMk0G,IAGjB,OAAOh+F,EA1bHigG,CAAUn2G,GA4iBhB,SAAwBA,GACtB,OAAO8zG,EAAqBlyG,KAAK5B,GA5iB7BsU,CAAetU,GAUrB,SAASo2G,GAAgBp2G,GACvB,OAAOoX,GAAapX,IAAUg2G,GAAWh2G,IAAUgyG,EAiBrD,SAASqE,GAAYr2G,EAAOsV,EAAOghG,EAASC,EAAYxiD,GACtD,OAAI/zD,IAAUsV,IAGD,MAATtV,GAA0B,MAATsV,IAAmB8B,GAAapX,KAAWoX,GAAa9B,GACpEtV,IAAUA,GAASsV,IAAUA,EAmBxC,SAAyBnT,EAAQmT,EAAOghG,EAASC,EAAYC,EAAWziD,GACtE,IAAI0iD,EAAWvtG,GAAQ/G,GACnBu0G,EAAWxtG,GAAQoM,GACnBqhG,EAASF,EAAWxE,EAAW2E,GAAOz0G,GACtC00G,EAASH,EAAWzE,EAAW2E,GAAOthG,GAKtCwhG,GAHJH,EAASA,GAAU3E,EAAUO,EAAYoE,IAGhBpE,EACrBwE,GAHJF,EAASA,GAAU7E,EAAUO,EAAYsE,IAGhBtE,EACrByE,EAAYL,GAAUE,EAE1B,GAAIG,GAAa1C,GAASnyG,GAAS,CACjC,IAAKmyG,GAASh/F,GACZ,OAAO,EAETmhG,GAAW,EACXK,GAAW,EAEb,GAAIE,IAAcF,EAEhB,OADA/iD,IAAUA,EAAQ,IAAIohD,IACdsB,GAAYhD,GAAatxG,GAC7B80G,GAAY90G,EAAQmT,EAAOghG,EAASC,EAAYC,EAAWziD,GAiKnE,SAAoB5xD,EAAQmT,EAAOU,EAAKsgG,EAASC,EAAYC,EAAWziD,GACtE,OAAQ/9C,GACN,KAAK+8F,EACH,GAAK5wG,EAAO+0G,YAAc5hG,EAAM4hG,YAC3B/0G,EAAOg1G,YAAc7hG,EAAM6hG,WAC9B,OAAO,EAETh1G,EAASA,EAAOi1G,OAChB9hG,EAAQA,EAAM8hG,OAEhB,KAAKtE,EACH,QAAK3wG,EAAO+0G,YAAc5hG,EAAM4hG,aAC3BV,EAAU,IAAIxC,EAAW7xG,GAAS,IAAI6xG,EAAW1+F,KAKxD,KAAK48F,EACL,KAAKC,EACL,KAAKG,EAGH,OAAOyD,IAAI5zG,GAASmT,GAEtB,KAAK88F,EACH,OAAOjwG,EAAOsK,MAAQ6I,EAAM7I,MAAQtK,EAAOy7C,SAAWtoC,EAAMsoC,QAE9D,KAAK60D,EACL,KAAKE,EAIH,OAAOxwG,GAAWmT,EAAQ,GAE5B,KAAK+8F,EACH,IAAIgF,EAAUzD,EAEhB,KAAKlB,EACH,IAAI4E,EAroCiB,EAqoCLhB,EAGhB,GAFAe,IAAYA,EAAUxD,GAElB1xG,EAAOuO,MAAQ4E,EAAM5E,OAAS4mG,EAChC,OAAO,EAGT,IAAIC,EAAUxjD,EAAM7zD,IAAIiC,GACxB,GAAIo1G,EACF,OAAOA,GAAWjiG,EAEpBghG,GA/oCuB,EAkpCvBviD,EAAMjyD,IAAIK,EAAQmT,GAClB,IAAIY,EAAS+gG,GAAYI,EAAQl1G,GAASk1G,EAAQ/hG,GAAQghG,EAASC,EAAYC,EAAWziD,GAE1F,OADAA,EAAK,OAAW5xD,GACT+T,EAET,KAAK08F,EACH,GAAIoC,GACF,OAAOA,GAAcpzG,KAAKO,IAAW6yG,GAAcpzG,KAAK0T,GAG9D,OAAO,EA9NDkiG,CAAWr1G,EAAQmT,EAAOqhG,EAAQL,EAASC,EAAYC,EAAWziD,GAExE,KAj8ByB,EAi8BnBuiD,GAAiC,CACrC,IAAImB,EAAeX,GAAYn1G,EAAeC,KAAKO,EAAQ,eACvDu1G,EAAeX,GAAYp1G,EAAeC,KAAK0T,EAAO,eAE1D,GAAImiG,GAAgBC,EAAc,CAChC,IAAIC,EAAeF,EAAet1G,EAAOnC,QAAUmC,EAC/Cy1G,EAAeF,EAAepiG,EAAMtV,QAAUsV,EAGlD,OADAy+C,IAAUA,EAAQ,IAAIohD,IACfqB,EAAUmB,EAAcC,EAActB,EAASC,EAAYxiD,IAGtE,IAAKijD,EACH,OAAO,EAGT,OADAjjD,IAAUA,EAAQ,IAAIohD,IA6NxB,SAAsBhzG,EAAQmT,EAAOghG,EAASC,EAAYC,EAAWziD,GACnE,IAAIujD,EA9qCqB,EA8qCThB,EACZuB,EAAWC,GAAW31G,GACtB41G,EAAYF,EAAS10G,OAErB60G,EADWF,GAAWxiG,GACDnS,OAEzB,GAAI40G,GAAaC,IAAcV,EAC7B,OAAO,EAET,IAAIttG,EAAQ+tG,EACZ,KAAO/tG,KAAS,CACd,IAAIvI,EAAMo2G,EAAS7tG,GACnB,KAAMstG,EAAY71G,KAAO6T,EAAQ3T,EAAeC,KAAK0T,EAAO7T,IAC1D,OAAO,EAIX,IAAI81G,EAAUxjD,EAAM7zD,IAAIiC,GACxB,GAAIo1G,GAAWxjD,EAAM7zD,IAAIoV,GACvB,OAAOiiG,GAAWjiG,EAEpB,IAAIY,GAAS,EACb69C,EAAMjyD,IAAIK,EAAQmT,GAClBy+C,EAAMjyD,IAAIwT,EAAOnT,GAEjB,IAAI81G,EAAWX,EACf,OAASttG,EAAQ+tG,GAAW,CAE1B,IAAIG,EAAW/1G,EADfV,EAAMo2G,EAAS7tG,IAEXmuG,EAAW7iG,EAAM7T,GAErB,GAAI80G,EACF,IAAI6B,EAAWd,EACXf,EAAW4B,EAAUD,EAAUz2G,EAAK6T,EAAOnT,EAAQ4xD,GACnDwiD,EAAW2B,EAAUC,EAAU12G,EAAKU,EAAQmT,EAAOy+C,GAGzD,UAAmBhpD,IAAbqtG,EACGF,IAAaC,GAAY3B,EAAU0B,EAAUC,EAAU7B,EAASC,EAAYxiD,GAC7EqkD,GACD,CACLliG,GAAS,EACT,MAEF+hG,IAAaA,EAAkB,eAAPx2G,GAE1B,GAAIyU,IAAW+hG,EAAU,CACvB,IAAII,EAAUl2G,EAAOF,YACjBq2G,EAAUhjG,EAAMrT,YAGhBo2G,GAAWC,KACV,gBAAiBn2G,MAAU,gBAAiBmT,IACzB,mBAAX+iG,GAAyBA,aAAmBA,GACjC,mBAAXC,GAAyBA,aAAmBA,IACvDpiG,GAAS,GAKb,OAFA69C,EAAK,OAAW5xD,GAChB4xD,EAAK,OAAWz+C,GACTY,EAzRAqiG,CAAap2G,EAAQmT,EAAOghG,EAASC,EAAYC,EAAWziD,GA3D5DykD,CAAgBx4G,EAAOsV,EAAOghG,EAASC,EAAYF,GAAatiD,IAsEzE,SAASj+C,GAAa9V,GACpB,SAAK+V,GAAS/V,IAwahB,SAAkByN,GAChB,QAASwG,GAAeA,KAAcxG,EAzadgrG,CAASz4G,MAGnBiW,GAAWjW,GAASuU,EAAahB,GAChCmC,KAAKW,GAASrW,IAsB/B,SAAS04G,GAASv2G,GAChB,IAwZF,SAAqBnC,GACnB,IAAI24G,EAAO34G,GAASA,EAAMiC,YACtB6vB,EAAwB,mBAAR6mF,GAAsBA,EAAKj3G,WAAcqS,EAE7D,OAAO/T,IAAU8xB,EA5ZZ8mF,CAAYz2G,GACf,OAAOoyG,GAAWpyG,GAEpB,IAAI+T,EAAS,GACb,IAAK,IAAIzU,KAAO5B,OAAOsC,GACjBR,EAAeC,KAAKO,EAAQV,IAAe,eAAPA,GACtCyU,EAAOxT,KAAKjB,GAGhB,OAAOyU,EAgBT,SAAS+gG,GAAYlpG,EAAOuH,EAAOghG,EAASC,EAAYC,EAAWziD,GACjE,IAAIujD,EAlhCqB,EAkhCThB,EACZuC,EAAY9qG,EAAM5K,OAClB60G,EAAY1iG,EAAMnS,OAEtB,GAAI01G,GAAab,KAAeV,GAAaU,EAAYa,GACvD,OAAO,EAGT,IAAItB,EAAUxjD,EAAM7zD,IAAI6N,GACxB,GAAIwpG,GAAWxjD,EAAM7zD,IAAIoV,GACvB,OAAOiiG,GAAWjiG,EAEpB,IAAItL,GAAS,EACTkM,GAAS,EACT4iG,EA/hCuB,EA+hCfxC,EAAoC,IAAIpB,QAAWnqG,EAM/D,IAJAgpD,EAAMjyD,IAAIiM,EAAOuH,GACjBy+C,EAAMjyD,IAAIwT,EAAOvH,KAGR/D,EAAQ6uG,GAAW,CAC1B,IAAIE,EAAWhrG,EAAM/D,GACjBmuG,EAAW7iG,EAAMtL,GAErB,GAAIusG,EACF,IAAI6B,EAAWd,EACXf,EAAW4B,EAAUY,EAAU/uG,EAAOsL,EAAOvH,EAAOgmD,GACpDwiD,EAAWwC,EAAUZ,EAAUnuG,EAAO+D,EAAOuH,EAAOy+C,GAE1D,QAAiBhpD,IAAbqtG,EAAwB,CAC1B,GAAIA,EACF,SAEFliG,GAAS,EACT,MAGF,GAAI4iG,GACF,IAAKpF,EAAUp+F,GAAO,SAAS6iG,EAAUa,GACnC,GA72Bav3G,EA62BOu3G,GAANF,EA52BXz3G,IAAII,KA62BFs3G,IAAaZ,GAAY3B,EAAUuC,EAAUZ,EAAU7B,EAASC,EAAYxiD,IAC/E,OAAO+kD,EAAKp2G,KAAKs2G,GA/2B/B,IAAyBv3G,KAi3BX,CACNyU,GAAS,EACT,YAEG,GACD6iG,IAAaZ,IACX3B,EAAUuC,EAAUZ,EAAU7B,EAASC,EAAYxiD,GACpD,CACL79C,GAAS,EACT,OAKJ,OAFA69C,EAAK,OAAWhmD,GAChBgmD,EAAK,OAAWz+C,GACTY,EAyKT,SAAS4hG,GAAW31G,GAClB,OApZF,SAAwBA,EAAQ82G,EAAUC,GACxC,IAAIhjG,EAAS+iG,EAAS92G,GACtB,OAAO+G,GAAQ/G,GAAU+T,EAhuB3B,SAAmBnI,EAAO+lD,GAKxB,IAJA,IAAI9pD,GAAS,EACT7G,EAAS2wD,EAAO3wD,OAChBggC,EAASp1B,EAAM5K,SAEV6G,EAAQ7G,GACf4K,EAAMo1B,EAASn5B,GAAS8pD,EAAO9pD,GAEjC,OAAO+D,EAwtB2BorG,CAAUjjG,EAAQgjG,EAAY/2G,IAkZzDi3G,CAAej3G,EAAQE,GAAMg3G,IAWtC,SAAS/iG,GAAWC,EAAK9U,GACvB,IAAI+U,EAAOD,EAAIE,SACf,OAqHF,SAAmBzW,GACjB,IAAIiM,SAAcjM,EAClB,MAAgB,UAARiM,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAVjM,EACU,OAAVA,EAzHE0W,CAAUjV,GACb+U,EAAmB,iBAAP/U,EAAkB,SAAW,QACzC+U,EAAKD,IAWX,SAAS5B,GAAUxS,EAAQV,GACzB,IAAIzB,EAxjCN,SAAkBmC,EAAQV,GACxB,OAAiB,MAAVU,OAAiB4I,EAAY5I,EAAOV,GAujC/B2I,CAASjI,EAAQV,GAC7B,OAAOqU,GAAa9V,GAASA,OAAQ+K,EAp2BvCgK,GAAKrT,UAAUuT,MAvEf,WACE3Q,KAAKmS,SAAW7B,GAAeA,GAAa,MAAQ,GACpDtQ,KAAKoM,KAAO,GAsEdqE,GAAKrT,UAAL,OAzDA,SAAoBD,GAClB,IAAIyU,EAAS5R,KAAKjD,IAAII,WAAe6C,KAAKmS,SAAShV,GAEnD,OADA6C,KAAKoM,MAAQwF,EAAS,EAAI,EACnBA,GAuDTnB,GAAKrT,UAAUxB,IA3Cf,SAAiBuB,GACf,IAAI+U,EAAOlS,KAAKmS,SAChB,GAAI7B,GAAc,CAChB,IAAIsB,EAASM,EAAK/U,GAClB,OAAOyU,IAAWnD,OAAiBhI,EAAYmL,EAEjD,OAAOvU,EAAeC,KAAK4U,EAAM/U,GAAO+U,EAAK/U,QAAOsJ,GAsCtDgK,GAAKrT,UAAUL,IA1Bf,SAAiBI,GACf,IAAI+U,EAAOlS,KAAKmS,SAChB,OAAO7B,QAA8B7J,IAAdyL,EAAK/U,GAAsBE,EAAeC,KAAK4U,EAAM/U,IAyB9EsT,GAAKrT,UAAUI,IAZf,SAAiBL,EAAKzB,GACpB,IAAIwW,EAAOlS,KAAKmS,SAGhB,OAFAnS,KAAKoM,MAAQpM,KAAKjD,IAAII,GAAO,EAAI,EACjC+U,EAAK/U,GAAQmT,SAA0B7J,IAAV/K,EAAuB+S,EAAiB/S,EAC9DsE,MAuHT6Q,GAAUzT,UAAUuT,MApFpB,WACE3Q,KAAKmS,SAAW,GAChBnS,KAAKoM,KAAO,GAmFdyE,GAAUzT,UAAV,OAvEA,SAAyBD,GACvB,IAAI+U,EAAOlS,KAAKmS,SACZzM,EAAQqL,GAAamB,EAAM/U,GAE/B,QAAIuI,EAAQ,KAIRA,GADYwM,EAAKrT,OAAS,EAE5BqT,EAAKG,MAELzM,EAAOtI,KAAK4U,EAAMxM,EAAO,KAEzB1F,KAAKoM,MACA,IA0DTyE,GAAUzT,UAAUxB,IA9CpB,SAAsBuB,GACpB,IAAI+U,EAAOlS,KAAKmS,SACZzM,EAAQqL,GAAamB,EAAM/U,GAE/B,OAAOuI,EAAQ,OAAIe,EAAYyL,EAAKxM,GAAO,IA2C7CmL,GAAUzT,UAAUL,IA/BpB,SAAsBI,GACpB,OAAO4T,GAAa/Q,KAAKmS,SAAUhV,IAAQ,GA+B7C0T,GAAUzT,UAAUI,IAlBpB,SAAsBL,EAAKzB,GACzB,IAAIwW,EAAOlS,KAAKmS,SACZzM,EAAQqL,GAAamB,EAAM/U,GAQ/B,OANIuI,EAAQ,KACR1F,KAAKoM,KACP8F,EAAK9T,KAAK,CAACjB,EAAKzB,KAEhBwW,EAAKxM,GAAO,GAAKhK,EAEZsE,MAyGT8Q,GAAS1T,UAAUuT,MAtEnB,WACE3Q,KAAKoM,KAAO,EACZpM,KAAKmS,SAAW,CACd,KAAQ,IAAI1B,GACZ,IAAO,IAAKL,IAAOS,IACnB,OAAU,IAAIJ,KAkElBK,GAAS1T,UAAT,OArDA,SAAwBD,GACtB,IAAIyU,EAASI,GAAWhS,KAAM7C,GAAjB,OAAgCA,GAE7C,OADA6C,KAAKoM,MAAQwF,EAAS,EAAI,EACnBA,GAmDTd,GAAS1T,UAAUxB,IAvCnB,SAAqBuB,GACnB,OAAO6U,GAAWhS,KAAM7C,GAAKvB,IAAIuB,IAuCnC2T,GAAS1T,UAAUL,IA3BnB,SAAqBI,GACnB,OAAO6U,GAAWhS,KAAM7C,GAAKJ,IAAII,IA2BnC2T,GAAS1T,UAAUI,IAdnB,SAAqBL,EAAKzB,GACxB,IAAIwW,EAAOF,GAAWhS,KAAM7C,GACxBiP,EAAO8F,EAAK9F,KAIhB,OAFA8F,EAAK1U,IAAIL,EAAKzB,GACdsE,KAAKoM,MAAQ8F,EAAK9F,MAAQA,EAAO,EAAI,EAC9BpM,MAyDT4wG,GAASxzG,UAAUstB,IAAMkmF,GAASxzG,UAAUgB,KAnB5C,SAAqB1C,GAEnB,OADAsE,KAAKmS,SAAS3U,IAAI9B,EAAO+S,GAClBzO,MAkBT4wG,GAASxzG,UAAUL,IANnB,SAAqBrB,GACnB,OAAOsE,KAAKmS,SAASpV,IAAIrB,IAqG3Bm1G,GAAMzzG,UAAUuT,MA3EhB,WACE3Q,KAAKmS,SAAW,IAAItB,GACpB7Q,KAAKoM,KAAO,GA0EdykG,GAAMzzG,UAAN,OA9DA,SAAqBD,GACnB,IAAI+U,EAAOlS,KAAKmS,SACZP,EAASM,EAAI,OAAW/U,GAG5B,OADA6C,KAAKoM,KAAO8F,EAAK9F,KACVwF,GA0DTi/F,GAAMzzG,UAAUxB,IA9ChB,SAAkBuB,GAChB,OAAO6C,KAAKmS,SAASvW,IAAIuB,IA8C3B0zG,GAAMzzG,UAAUL,IAlChB,SAAkBI,GAChB,OAAO6C,KAAKmS,SAASpV,IAAII,IAkC3B0zG,GAAMzzG,UAAUI,IArBhB,SAAkBL,EAAKzB,GACrB,IAAIwW,EAAOlS,KAAKmS,SAChB,GAAID,aAAgBrB,GAAW,CAC7B,IAAImkG,EAAQ9iG,EAAKC,SACjB,IAAK/B,IAAQ4kG,EAAMn2G,OAASo2G,IAG1B,OAFAD,EAAM52G,KAAK,CAACjB,EAAKzB,IACjBsE,KAAKoM,OAAS8F,EAAK9F,KACZpM,KAETkS,EAAOlS,KAAKmS,SAAW,IAAIrB,GAASkkG,GAItC,OAFA9iG,EAAK1U,IAAIL,EAAKzB,GACdsE,KAAKoM,KAAO8F,EAAK9F,KACVpM,MA+hBT,IAAI+0G,GAAcjF,GAA+B,SAASjyG,GACxD,OAAc,MAAVA,EACK,IAETA,EAAStC,OAAOsC,GA9sClB,SAAqB4L,EAAO4lG,GAM1B,IALA,IAAI3pG,GAAS,EACT7G,EAAkB,MAAT4K,EAAgB,EAAIA,EAAM5K,OACnCq2G,EAAW,EACXtjG,EAAS,KAEJlM,EAAQ7G,GAAQ,CACvB,IAAInD,EAAQ+N,EAAM/D,GACd2pG,EAAU3zG,EAAOgK,EAAO+D,KAC1BmI,EAAOsjG,KAAcx5G,GAGzB,OAAOkW,EAmsCAujG,CAAYrF,GAAiBjyG,IAAS,SAASu3G,GACpD,OAAOzF,EAAqBryG,KAAKO,EAAQu3G,QAsd7C,WACE,MAAO,IA5cL9C,GAASZ,GAkCb,SAASF,GAAQ91G,EAAOmD,GAEtB,SADAA,EAAmB,MAAVA,EAAiB4uG,EAAmB5uG,KAE1B,iBAATnD,GAAqBgzG,EAASt9F,KAAK1V,KAC1CA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,EAAQmD,EA4D7C,SAASkT,GAAS5I,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAO2G,EAAaxS,KAAK6L,GACzB,MAAO0I,IACT,IACE,OAAQ1I,EAAO,GACf,MAAO0I,KAEX,MAAO,GAmCT,SAAS4/F,GAAG/1G,EAAOsV,GACjB,OAAOtV,IAAUsV,GAAUtV,IAAUA,GAASsV,IAAUA,GA5IrDm/F,IAAYmC,GAAO,IAAInC,GAAS,IAAIkF,YAAY,MAAQ5G,GACxDr+F,IAAOkiG,GAAO,IAAIliG,KAAQ29F,GAC1B31D,IAAWk6D,GAAOl6D,GAAQC,YAAc61D,GACxCkC,IAAOkC,GAAO,IAAIlC,KAAQhC,GAC1BxxG,IAAW01G,GAAO,IAAI11G,KAAY2xG,KACrC+D,GAAS,SAAS52G,GAChB,IAAIkW,EAAS8/F,GAAWh2G,GACpB24G,EAAOziG,GAAUq8F,EAAYvyG,EAAMiC,iBAAc8I,EACjD6uG,EAAajB,EAAOtiG,GAASsiG,GAAQ,GAEzC,GAAIiB,EACF,OAAQA,GACN,KAAKjF,GAAoB,OAAO5B,EAChC,KAAK6B,GAAe,OAAOvC,EAC3B,KAAKwC,GAAmB,OAAOrC,EAC/B,KAAKsC,GAAe,OAAOpC,EAC3B,KAAKqC,GAAmB,OAAOlC,EAGnC,OAAO38F,IA8IX,IAAIs/F,GAAcY,GAAgB,WAAa,OAAOtrG,UAApB,IAAsCsrG,GAAkB,SAASp2G,GACjG,OAAOoX,GAAapX,IAAU2B,EAAeC,KAAK5B,EAAO,YACtDi0G,EAAqBryG,KAAK5B,EAAO,WA0BlCkJ,GAAUD,MAAMC,QAgDpB,IAAIorG,GAAWD,IA4Of,WACE,OAAO,GA1LT,SAASp+F,GAAWjW,GAClB,IAAK+V,GAAS/V,GACZ,OAAO,EAIT,IAAIgW,EAAMggG,GAAWh2G,GACrB,OAAOgW,GAAOhD,GAnmDH,8BAmmDcgD,GAxmDZ,0BAwmD6BA,GA7lD7B,kBA6lDgDA,EA6B/D,SAAS6jG,GAAS75G,GAChB,MAAuB,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GAAS+xG,EA4B7C,SAASh8F,GAAS/V,GAChB,IAAIiM,SAAcjM,EAClB,OAAgB,MAATA,IAA0B,UAARiM,GAA4B,YAARA,GA2B/C,SAASmL,GAAapX,GACpB,OAAgB,MAATA,GAAiC,iBAATA,EAoBjC,IAAIyzG,GAAeD,EAhiDnB,SAAmB/lG,GACjB,OAAO,SAASzN,GACd,OAAOyN,EAAKzN,IA8hDsB85G,CAAUtG,GAnvBhD,SAA0BxzG,GACxB,OAAOoX,GAAapX,IAClB65G,GAAS75G,EAAMmD,WAAa8vG,EAAe+C,GAAWh2G,KA+wB1D,SAASqC,GAAKF,GACZ,OA1NgB,OADGnC,EA2NAmC,IA1NK03G,GAAS75G,EAAMmD,UAAY8S,GAAWjW,GA0NjCo1G,GAAcjzG,GAAUu2G,GAASv2G,GA3NhE,IAAqBnC,EAqQrBqO,EAAOtO,QAlNP,SAAiBC,EAAOsV,GACtB,OAAO+gG,GAAYr2G,EAAOsV,M,6DCpmD5BzV,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ6E,SAAW7E,EAAQyE,aAAezE,EAAQ4I,mBAAgB,EAElE5I,EAAQ4I,cADY,CAAC,WAAY,WAAY,WAAY,sBAAuB,UAAW,4BAA6B,2BAA4B,kBAGpJ5I,EAAQyE,aADW,CAAC,WAAY,UAAW,UAAW,SAAU,SAAU,UAAW,oBAAqB,iBAAkB,WAAY,gBAAiB,aAezJzE,EAAQ6E,SAZO,SAAkBm1G,EAAIj7E,GACnC,IAAI1C,EAAQ,KACZ,OAAO,WACL,IAAImN,EAAUjlC,KACV4S,EAAOpM,UACXgyB,aAAaV,GACbA,EAAQW,YAAW,WACjBg9E,EAAGp3G,MAAM4mC,EAASryB,KACjB4nB,M,iCCjBPj/B,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAO,aAAc,EAErB,IAAIY,EAAaC,EAAwBL,EAAQ,MAE7Cy5G,EAAYz5G,EAAQ,MAEpBM,EAASD,EAAwBL,EAAQ,IAEzCO,EAAaR,EAAuBC,EAAQ,IAE5CQ,EAAUT,EAAuBC,EAAQ,MAEzC05G,EAAW35G,EAAuBC,EAAQ,OAE1CS,EAAiBT,EAAQ,KAE7B,SAASD,EAAuBE,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAE,QAAWA,GAEzF,SAASS,IAA6B,GAAuB,oBAAZC,QAAwB,OAAO,KAAM,IAAIC,EAAQ,IAAID,QAA6F,OAAlFD,EAA2B,WAAsC,OAAOE,GAAiBA,EAE1M,SAASP,EAAwBJ,GAAO,GAAIA,GAAOA,EAAIC,WAAc,OAAOD,EAAO,GAAY,OAARA,GAAiC,WAAjBY,EAAQZ,IAAoC,oBAARA,EAAsB,MAAO,CAAE,QAAWA,GAAS,IAAIW,EAAQF,IAA4B,GAAIE,GAASA,EAAME,IAAIb,GAAQ,OAAOW,EAAMjB,IAAIM,GAAQ,IAAIc,EAAS,GAAQC,EAAwB1B,OAAOC,gBAAkBD,OAAO2B,yBAA0B,IAAK,IAAIC,KAAOjB,EAAO,GAAIX,OAAO6B,UAAUC,eAAeC,KAAKpB,EAAKiB,GAAM,CAAE,IAAII,EAAON,EAAwB1B,OAAO2B,yBAAyBhB,EAAKiB,GAAO,KAAUI,IAASA,EAAK3B,KAAO2B,EAAKC,KAAQjC,OAAOC,eAAewB,EAAQG,EAAKI,GAAgBP,EAAOG,GAAOjB,EAAIiB,GAA4E,OAAhEH,EAAM,QAAcd,EAASW,GAASA,EAAMW,IAAItB,EAAKc,GAAkBA,EAEruB,SAASF,EAAQZ,GAAmV,OAAtOY,EAArD,oBAAXW,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiBxB,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXuB,QAAyBvB,EAAIyB,cAAgBF,QAAUvB,IAAQuB,OAAOL,UAAY,gBAAkBlB,IAAyBA,GAEnX,SAAS0B,EAAQC,EAAQC,GAAkB,IAAIC,EAAOxC,OAAOwC,KAAKF,GAAS,GAAItC,OAAOyC,sBAAuB,CAAE,IAAIC,EAAU1C,OAAOyC,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAO5C,OAAO2B,yBAAyBW,EAAQM,GAAKxC,eAAgBoC,EAAKK,KAAKC,MAAMN,EAAME,GAAY,OAAOF,EAI9U,SAASO,EAAgBpC,EAAKiB,EAAKzB,GAAiK,OAApJyB,KAAOjB,EAAOX,OAAOC,eAAeU,EAAKiB,EAAK,CAAEzB,MAAOA,EAAOC,YAAY,EAAM4C,cAAc,EAAMC,UAAU,IAAkBtC,EAAIiB,GAAOzB,EAAgBQ,EAI3M,SAASuC,EAAkBC,EAAQC,GAAS,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,IAAIE,EAAaH,EAAMC,GAAIE,EAAWnD,WAAamD,EAAWnD,aAAc,EAAOmD,EAAWP,cAAe,EAAU,UAAWO,IAAYA,EAAWN,UAAW,GAAMjD,OAAOC,eAAekD,EAAQI,EAAW3B,IAAK2B,IAM7S,SAASC,EAAgBC,GAAwJ,OAAnJD,EAAkBxD,OAAO0D,eAAiB1D,OAAO2D,eAAiB,SAAyBF,GAAK,OAAOA,EAAEG,WAAa5D,OAAO2D,eAAeF,KAA8BA,GAExM,SAASI,EAAuBC,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIC,eAAe,6DAAgE,OAAOD,EAI/J,SAASE,EAAgBP,EAAGQ,GAA+G,OAA1GD,EAAkBhE,OAAO0D,gBAAkB,SAAyBD,EAAGQ,GAAsB,OAAjBR,EAAEG,UAAYK,EAAUR,IAA6BA,EAAGQ,GAErK,IAAIo2G,EAEJ,SAAUl2G,GAGR,SAASk2G,EAAej3G,GACtB,IAAIgB,EAWJ,OAjCJ,SAAyBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAwB5GC,CAAgBC,KAAM41G,GAEtBj2G,EApBJ,SAAoCN,EAAM/B,GAAQ,OAAIA,GAA2B,WAAlBR,EAAQQ,IAAsC,oBAATA,EAA8C8B,EAAuBC,GAAtC/B,EAoBvH2C,CAA2BD,KAAMjB,EAAgB62G,GAAgBt4G,KAAK0C,KAAMrB,IAEpFjC,EAAewD,aAAaC,SAAQ,SAAUC,GAC5CT,EAAMS,GAAUT,EAAMS,GAAQC,KAAKjB,EAAuBO,OAG5DA,EAAMW,SAAW5D,EAAe4D,SACzBX,EA7BX,IAAsBE,EAAaU,EAAYC,EA8Z7C,OAtZF,SAAmBC,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIZ,UAAU,sDAAyDW,EAASrD,UAAY7B,OAAOoF,OAAOD,GAAcA,EAAWtD,UAAW,CAAEO,YAAa,CAAEjC,MAAO+E,EAAUjC,UAAU,EAAMD,cAAc,KAAemC,GAAYnB,EAAgBkB,EAAUC,GAOjXE,CAAUg1G,EAAgBl2G,GAfNG,EAgCP+1G,GAhCoBr1G,EAgCJ,CAAC,CAC5BpD,IAAK,oBACLzB,MAAO,WACL,IAAImF,EAASb,KAETc,EAAcd,KAAKrB,MACnBoC,EAAYD,EAAYC,UACxBC,EAAeF,EAAYE,aAC3BE,EAAOJ,EAAYI,KACnBC,EAAQL,EAAYK,MACpBC,EAAQN,EAAYM,MACpBC,EAAWP,EAAYO,SACvB3F,EAAQoF,EAAYpF,MACpB4F,EAAeR,EAAYQ,aAC3BC,EAAcT,EAAYS,YAC1BC,EAAaV,EAAYU,WACzBC,EAAcX,EAAYW,YAC1BC,EAAkBZ,EAAYY,gBAC9BC,EAAwBb,EAAYc,aACpCA,OAAyC,IAA1BD,EAAmC,CAAC,EAAG,EAAG,EAAG,GAAKA,EACjEE,EAAkBf,EAAYe,gBAC9BC,EAAShB,EAAYgB,OACrBC,EAAWjB,EAAYiB,SACvBC,EAAclB,EAAYkB,YAC1BC,EAAUnB,EAAYmB,QACtBuI,EAAS1J,EAAY0J,OACzBxK,KAAKkC,OAAS7F,EAAU,QAAY8F,KAAKnC,KAAKoC,WAE1CpB,GACFA,EAAa3E,EAAU,SAGzB,IAAIgG,EAAc9G,OAAOwC,KAAKiC,KAAKrB,MAAM0D,aACrCmD,EAAQ,IAAIkwG,EAAUprG,MAAMtK,KAAKkC,OAAOqI,UAAW,aAAa3H,OAAOxB,GAAQoJ,GACnFxK,KAAKkC,OAAOmrG,IAAI7nG,MAAQA,EACxBxF,KAAK61G,YAAcrwG,EAAMqG,UAAU,GACnC7L,KAAKwF,MAAQA,EAEbxF,KAAKkC,OAAOiB,oBAAmB,GAC/BnD,KAAKkC,OAAOM,SAASS,eAAc,GAEnC,IAAIiB,EAAmBlE,KAAK61G,YAAY1xG,SAEpCnE,KAAKrB,MAAM2D,uBACbtC,KAAKuC,SAAWvC,KAAKM,SAASN,KAAKuC,SAAUvC,KAAKrB,MAAM2D,uBAG1DkD,EAAMrF,SAAQ,SAAU+B,EAAQwD,GAC9B,IAAK,IAAI9G,EAAI,EAAGA,EAAIyD,EAAYxD,OAAQD,IACtCsD,EAAOG,EAAYzD,IAAMiC,EAAOlC,MAAM0D,YAAYA,EAAYzD,IAGhE,IAAIk3G,GAAwB,EAAIH,EAAQ,SAAar0G,EAAcoE,GAC/DqwG,GAAiB,EAAIJ,EAAQ,SAAaj6G,EAAOgK,EAAO,IAC5DxD,EAAO4B,QAAQ6I,eAAe,IAAItQ,EAAWusF,aAC7C1mF,EAAOW,SAAS,aAAaD,OAAOxB,IACpCc,EAAOM,SAASC,gBAAgBb,EAAa,GAAIA,EAAa,GAAIA,EAAa,GAAIA,EAAa,IAChGM,EAAOQ,aAAaC,QAAQ,YAAYC,OAAO1B,IAC/CgB,EAAOY,YAAYzB,GACnBa,EAAOM,SAASS,cAAczB,GAC9BU,EAAOQ,aAAaQ,eAAezB,GACnCS,EAAOiB,mBAAmBzB,GAC1BQ,EAAOkB,GAAG,QAASvC,EAAOwC,SAC1BnB,EAAOkB,GAAG,OAAQvC,EAAOyC,QACzBpB,EAAOkB,GAAG,QAASvC,EAAO4C,SAC1BvB,EAAOkB,GAAG,OAAQvC,EAAO0C,QACzBrB,EAAOkB,GAAG,QAASvC,EAAO2C,SAC1BtB,EAAOkB,GAAG,SAAUvC,EAAO0B,UAC3BL,EAAOQ,aAAagB,UAAUN,GAAG,kBAAmBvC,EAAO8C,mBAC3DzB,EAAOQ,aAAagB,UAAUN,GAAG,eAAgBvC,EAAO+C,gBACxD1B,EAAO4B,QAAQV,GAAG,kBAAmBvC,EAAOkD,UAC5C7B,EAAOa,cAAmC0D,IAA1BqvG,EAAsCC,EAAiBD,EAAuBv0G,GAC9F,IAAIy0G,GAAiB,EAAIL,EAAQ,SAAa3zG,EAAa0D,EAAO,IAC9DuwG,GAAa,EAAIN,EAAQ,SAAa1zG,EAASyD,EAAO,IAC1DxD,EAAOQ,aAAasB,eAAegyG,GAE/BC,GAAcA,EAAWp3G,OAAS,GACpCgC,EAAOoD,cAAcgyG,EAAY/zG,GAGnC,IAAK,IAAIkC,EAAK,EAAGA,EAAK1H,EAAe2H,cAAcxF,OAAQuF,IAAM,CAC/D,IAAIE,EAAS5H,EAAe2H,cAAcD,GAEtC7I,OAAO6B,UAAUC,eAAeC,KAAK4G,EAAkBI,GACzDpC,EAAOqC,UAAUD,EAAQzD,EAAOlC,MAAM2F,IAC7BzD,EAAOlC,MAAM2F,IACtBE,QAAQC,KAAK,2BAA2B7B,OAAO0B,EAAQ,gHAI3DzD,EAAO6D,cAAc7D,EAAOlC,MAAOuD,GAE/ByC,MAAMC,QAAQ7C,IAChBA,EAAS5B,SAAQ,SAAU0E,GACE,iBAAhBA,EAAQC,KACjB5C,EAAOH,SAASgD,QAAQF,EAAQE,QAASF,EAAQC,MAEjD5C,EAAOH,SAASiD,WAAWH,MAK7BhD,GACFK,EAAO+C,mBAAmB,gBAAkBpD,MAI5Cd,IACFf,KAAKoC,UAAUrB,WAAa,IAAMA,GAGhCI,GACFnB,KAAK61G,YAAY10G,QAGnB,IAAI+0G,EAAKl2G,KAAKkC,OAAOmrG,IAAI7nG,MACzB0wG,EAAGloG,eAA0C,UAA3BhO,KAAKrB,MAAMsP,YAA0BioG,EAAGzrG,MAAQyrG,EAAGxrG,QACrEwrG,EAAGhxG,QAAO,GAENpD,GACFA,EAAOo0G,KAGV,CACD/4G,IAAK,qBACLzB,MAAO,SAA4ByJ,GACjC,IAAI6B,EAAShH,KAEToF,EAAWD,EACXE,EAAYrF,KAAKrB,MACjB6G,EAAQxF,KAAKkC,OAAOmrG,IAAI7nG,MA6E5B,GA3EIH,EAAUmF,SAAWpF,EAASoF,QAChChF,EAAMyF,UAAU5F,EAAUmF,QAGxBnF,EAAU4I,cAAgB7I,EAAS6I,aACrCzI,EAAMwI,eAAyC,UAA1B3I,EAAU4I,YAA0BzI,EAAMiF,MAAQjF,EAAMkF,QAG/ElF,EAAMrF,SAAQ,SAAU+B,EAAQwD,GAC1BL,EAAUnE,OAASkE,EAASlE,MAC9BgB,EAAOQ,aAAaC,QAAQ,YAAc0C,EAAUnE,MAGlDmE,EAAUxD,kBAAoBuD,EAASvD,kBACrCwD,EAAUxD,gBACZK,EAAO+C,mBAAmB,gBAAkBI,EAAUxD,iBAEtDK,EAAO+C,mBAAmB,OAI1BI,EAAUhE,WAAa+D,EAAS/D,UAClCa,EAAOY,YAAYuC,EAAUhE,UAG3BgE,EAAU5D,cAAgB2D,EAAS3D,aACrCS,EAAOQ,aAAaQ,eAAemC,EAAU5D,aAG3C4D,EAAU3D,kBAAoB0D,EAAS1D,iBACzCQ,EAAOiB,mBAAmBkC,EAAU3D,iBAGlC2D,EAAU7D,aAAe4D,EAAS5D,YACpCU,EAAOM,SAASS,cAAcoC,EAAU7D,YAG1C,IAAK,IAAI5C,EAAI,EAAGA,EAAIlC,EAAe2H,cAAcxF,OAAQD,IAAK,CAC5D,IAAI0F,EAAS5H,EAAe2H,cAAczF,GAEtCyG,EAAUf,KAAYc,EAASd,IACjCpC,EAAOqC,UAAUD,EAAQe,EAAUf,KAIlC,EAAI7H,EAAO,SAAa4I,EAAUc,WAAYf,EAASe,aAC1Da,EAAOtC,cAAcW,EAAWnD,GAGlC,IAAIi0G,GAAY,EAAIR,EAAQ,SAAatwG,EAAU3J,MAAOgK,EAAO,IAEjE,GAAIxD,EAAO4D,aAAeqwG,EAAW,CAEnCnvG,EAAOjB,QAAS,EAChB,IAAIC,EAAM9D,EAAO4B,QAAQJ,UAAUuC,SACnC/D,EAAOa,SAASozG,EAAW9wG,EAAU9D,aACrCW,EAAO4B,QAAQJ,UAAUwC,SAASF,GAClCgB,EAAOjB,QAAS,EAGlB,IAAIiwG,GAAiB,EAAIL,EAAQ,SAAatwG,EAAUrD,YAAa0D,EAAO,IACxE0wG,GAAiB,EAAIT,EAAQ,SAAavwG,EAASpD,YAAa0D,EAAO,KAEtE,EAAIjJ,EAAO,SAAau5G,EAAgBI,IAC3Cl0G,EAAOQ,aAAasB,eAAegyG,GAGrC,IAAIC,GAAa,EAAIN,EAAQ,SAAatwG,EAAUpD,QAASyD,EAAO,IAChE2wG,GAAa,EAAIV,EAAQ,SAAavwG,EAASnD,QAASyD,EAAO,MAE9D,EAAIjJ,EAAO,SAAaw5G,EAAYI,IAAe1xG,MAAMC,QAAQqxG,IACpEjvG,EAAO/C,cAAcgyG,EAAY/zG,MAIjCmD,EAAUtE,YAAcqE,EAASrE,UAAW,CAC9C,IACIuE,EADiBtF,KAAKoC,UAAUrB,UACKwE,OAAOC,MAAM,KAChCJ,EAASrE,UAAUwE,OAAOC,MAAM,KACtCrF,SAAQ,SAAUsF,GAChC,IAAIC,EAAQJ,EAAoBK,QAAQF,GACxCH,EAAoBM,OAAOF,EAAO,MAEpC1F,KAAKoC,UAAUrB,UAAY,IAAMsE,EAAUtE,UAAY,IAAMuE,EAAoBO,KAAK,KAGpFR,EAAUjE,QAAUgE,EAAShE,OAC/BoE,EAAM3C,SAAS,aAAewC,EAAUjE,OAGtCiE,EAAUlE,QAAUiE,EAASjE,OAC/BnB,KAAK61G,YAAY10G,QAGfkE,EAAUgB,SAAWrG,KAAKrB,MAAM0H,QAAUhB,EAAUiB,QAAUtG,KAAKrB,MAAM2H,OAC3EtG,KAAKkC,OAAOgD,WAGf,CACD/H,IAAK,uBACLzB,MAAO,WACLsE,KAAKkC,OAAOyE,UACZ3G,KAAKkC,OAAS,OAEf,CACD/E,IAAK,WACLzB,MAAO,SAAkBkL,GACvB,GAAI5G,KAAKrB,MAAM4D,WAAavC,KAAK+F,OAAQ,CACvC,IAAIrK,EAAQ,GACZsE,KAAKkC,OAAOmrG,IAAI7nG,MAAMrF,SAAQ,SAAU+B,GACtCxG,EAAM0C,KAAK8D,EAAO4D,eAEpB9F,KAAKrB,MAAM4D,SAAS7G,EAAOkL,MAG9B,CACDzJ,IAAK,oBACLzB,MAAO,SAA2BkL,GAChC,GAAI5G,KAAKrB,MAAMgF,kBAAmB,CAChC,IAAIjI,EAAQ,GACZsE,KAAKkC,OAAOmrG,IAAI7nG,MAAMrF,SAAQ,SAAU+B,GACtCxG,EAAM0C,KAAK8D,EAAO2E,mBAEpB7G,KAAKrB,MAAMgF,kBAAkBjI,EAAOkL,MAGvC,CACDzJ,IAAK,iBACLzB,MAAO,SAAwBkL,GAC7B,GAAI5G,KAAKrB,MAAMiF,eAAgB,CAC7B,IAAIlI,EAAQ,GACZsE,KAAKkC,OAAOmrG,IAAI7nG,MAAMrF,SAAQ,SAAU+B,GACtCxG,EAAM0C,KAAK8D,EAAO2E,mBAEpB7G,KAAKrB,MAAMiF,eAAelI,EAAOkL,MAGpC,CACDzJ,IAAK,UACLzB,MAAO,SAAiBkL,GAClB5G,KAAKrB,MAAM0E,SACbrD,KAAKrB,MAAM0E,QAAQuD,KAGtB,CACDzJ,IAAK,UACLzB,MAAO,SAAiBkL,GAClB5G,KAAKrB,MAAM8E,SACbzD,KAAKrB,MAAM8E,QAAQmD,KAGtB,CACDzJ,IAAK,SACLzB,MAAO,SAAgBkL,GACjB5G,KAAKrB,MAAM2E,QACbtD,KAAKrB,MAAM2E,OAAOsD,KAGrB,CACDzJ,IAAK,SACLzB,MAAO,SAAgBoL,GACjB9G,KAAKrB,MAAM4E,QACbvD,KAAKrB,MAAM4E,OAAOuD,KAGrB,CACD3J,IAAK,UACLzB,MAAO,SAAiBoL,GAClB9G,KAAKrB,MAAM6E,SACbxD,KAAKrB,MAAM6E,QAAQsD,KAGtB,CACD3J,IAAK,WACLzB,MAAO,WACDsE,KAAKrB,MAAMoF,UACb/D,KAAKrB,MAAMoF,SAAS/D,KAAKkC,UAG5B,CACD/E,IAAK,gBACLzB,MAAO,SAAuBiD,EAAOuD,GAGnC,IAFA,IAAIiE,EAAa5K,OAAOwC,KAAKY,EAAMwH,YAE1BY,EAAI,EAAGA,EAAIZ,EAAWtH,OAAQkI,IACrC7E,EAAOqC,UAAU4B,EAAWY,GAAIpI,EAAMwH,WAAWA,EAAWY,OAG/D,CACD5J,IAAK,gBACLzB,MAAO,SAAuBuG,EAASC,GAErC,IAAI+E,EAAiB/E,EAAOQ,aAAawE,YAAW,GAEpD,IAAK,IAAItI,KAAKqI,EACR1L,OAAO6B,UAAUC,eAAeC,KAAK2J,EAAgBrI,IACvDsD,EAAOQ,aAAayE,aAAaF,EAAerI,GAAGwI,IAOvD,IAAK,IAAIC,KAFTJ,EAAiB/E,EAAOQ,aAAawE,YAAW,GAG1C3L,OAAO6B,UAAUC,eAAeC,KAAK2J,EAAgBI,IACvDnF,EAAOQ,aAAayE,aAAaF,EAAeI,GAAKD,IAKzDnF,EAAQ9B,SAAQ,SAAUmH,GACxB,IAAIC,EAAWD,EAAKC,SAChBC,EAAWF,EAAKE,SAChBC,EAASH,EAAKG,OACdC,EAASJ,EAAKI,OACd3G,EAAYuG,EAAKvG,UACjB4G,EAAOL,EAAKK,KACZC,EAAeN,EAAKO,QACpBA,OAA2B,IAAjBD,GAAkCA,EAC5CE,EAAQ,IAAIzL,EAAW0L,MAAMR,EAAUC,EAAUC,EAAQC,GAC7DxF,EAAOQ,aAAasF,UAAUF,EAAO/G,EAAW4G,EAAME,QAGzD,CACD1K,IAAK,YACLzB,MAAO,SAAmBuM,GACxBjI,KAAKoC,UAAY6F,IAElB,CACD9K,IAAK,SACLzB,MAAO,WACL,IAAIwM,EAAelI,KAAKrB,MACpBwJ,EAAOD,EAAaC,KAKpBC,EAzZV,SAAuB1J,GAAU,IAAK,IAAIE,EAAI,EAAGA,EAAI4H,UAAU3H,OAAQD,IAAK,CAAE,IAAIyJ,EAAyB,MAAhB7B,UAAU5H,GAAa4H,UAAU5H,GAAK,GAAQA,EAAI,EAAKhB,EAAQrC,OAAO8M,IAAS,GAAMlI,SAAQ,SAAUhD,GAAOmB,EAAgBI,EAAQvB,EAAKkL,EAAOlL,OAAsB5B,OAAO+M,0BAA6B/M,OAAOgN,iBAAiB7J,EAAQnD,OAAO+M,0BAA0BD,IAAmBzK,EAAQrC,OAAO8M,IAASlI,SAAQ,SAAUhD,GAAO5B,OAAOC,eAAekD,EAAQvB,EAAK5B,OAAO2B,yBAAyBmL,EAAQlL,OAAe,OAAOuB,EAyZxf8J,CAAc,CAC3BlC,MALU4B,EAAa5B,MAMvBD,OALW6B,EAAa7B,QACd6B,EAAaO,OAOzB,OAAOlM,EAAM,QAAYmM,cAAc,MAAO,CAC5CC,IAAK3I,KAAK4I,UACVxB,GAAIe,EACJM,MAAOL,SAzZ+D3J,EAAkBoB,EAAYzC,UAAWmD,GAAiBC,GAAa/B,EAAkBoB,EAAaW,GA8Z3Ko1G,EAhZT,CAiZEr5G,EAAOsM,WAETpN,EAAO,QAAcm6G,EACrBA,EAAe9sG,UAAY,CACzB5H,KAAM1E,EAAU,QAAYuM,OAC5ByB,OAAQhO,EAAU,QAAY0M,OAC9B+E,YAAazR,EAAU,QAAYuM,OACnC5H,MAAO3E,EAAU,QAAYwM,KAC7B5H,MAAO5E,EAAU,QAAYuM,OAC7BZ,KAAM3L,EAAU,QAAYuM,OAC5BhI,UAAWvE,EAAU,QAAYuM,OACjC1C,OAAQ7J,EAAU,QAAYuM,OAC9BzC,MAAO9J,EAAU,QAAYuM,OAC7B1H,SAAU7E,EAAU,QAAYyM,UAAU,CAACzM,EAAU,QAAY0M,OAAQ1M,EAAU,QAAYuM,SAC/FvH,WAAYhF,EAAU,QAAYwM,KAClCzG,SAAU/F,EAAU,QAAY2M,KAChC5F,OAAQ/G,EAAU,QAAY2M,KAC9B3F,QAAShH,EAAU,QAAY2M,KAC/B9F,QAAS7G,EAAU,QAAY2M,KAC/B1F,QAASjH,EAAU,QAAY2M,KAC/B7F,OAAQ9G,EAAU,QAAY2M,KAC9BpF,SAAUvH,EAAU,QAAY2M,KAChCzN,MAAOc,EAAU,QAAY85G,QAAQ95G,EAAU,QAAYuM,QAC3DzH,aAAc9E,EAAU,QAAY85G,QAAQ95G,EAAU,QAAYuM,QAClEzG,qBAAsB9F,EAAU,QAAY0M,OAC5CpH,OAAQtF,EAAU,QAAY2M,KAC9BxF,kBAAmBnH,EAAU,QAAY2M,KACzCvF,eAAgBpH,EAAU,QAAY2M,KACtCnI,aAAcxE,EAAU,QAAY2M,KACpCC,SAAU5M,EAAU,QAAY0M,OAChCG,SAAU7M,EAAU,QAAY0M,OAChCI,SAAU9M,EAAU,QAAYwM,KAChCO,oBAAqB/M,EAAU,QAAYwM,KAC3CQ,QAAShN,EAAU,QAAY0M,OAC/BxH,gBAAiBlF,EAAU,QAAYwM,KACvCzH,YAAa/E,EAAU,QAAY0M,OACnC7G,YAAa7F,EAAU,QAAYqB,OACnCsI,WAAY3J,EAAU,QAAYqB,OAClC4K,MAAOjM,EAAU,QAAYqB,OAC7B+D,aAAcpF,EAAU,QAAYiN,MACpCzH,YAAaxF,EAAU,QAAYiN,MACnCxH,QAASzF,EAAU,QAAYiN,MAC/B5H,gBAAiBrF,EAAU,QAAYuM,OACvCtH,YAAajF,EAAU,QAAYwM,KACnCU,0BAA2BlN,EAAU,QAAYyM,UAAU,CAACzM,EAAU,QAAYwM,KAAMxM,EAAU,QAAYiN,QAC9GE,yBAA0BnN,EAAU,QAAYyM,UAAU,CAACzM,EAAU,QAAYwM,KAAMxM,EAAU,QAAYiN,QAC7G1H,SAAUvF,EAAU,QAAYiN,OAElCmsG,EAAehsG,aAAe,CAC5BzB,KAAM,aACNhH,OAAO,EACP8M,YAAa,SACbzD,OAAQ,EACRtJ,KAAM,GACNE,MAAO,GACPiF,OAAQ,QACRC,MAAO,QACP5K,MAAO,GACP2F,SAAU,GACVG,YAAY,EACZe,SAAU,KACViB,QAAS,KACT1B,OAAQ,KACRiC,SAAU,KACVqF,SAAU,KACVC,SAAU,KACVC,UAAU,EACVC,qBAAqB,EACrB7H,iBAAiB,EACjB8H,QAAS,EACTjI,YAAa,EACbc,YAAa,GACboG,MAAO,GACP7G,aAAc,CAAC,EAAG,EAAG,EAAG,GACxBuE,WAAY,GACZ1E,aAAa,EACbiI,2BAA2B,EAC3BC,0BAA0B","file":"static/js/53.74b93f53.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"split\", {\n  enumerable: true,\n  get: function get() {\n    return _split[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"diff\", {\n  enumerable: true,\n  get: function get() {\n    return _diff[\"default\"];\n  }\n});\nexports[\"default\"] = void 0;\n\nvar _ace = _interopRequireDefault(require(\"./ace.js\"));\n\nvar _split = _interopRequireDefault(require(\"./split.js\"));\n\nvar _diff = _interopRequireDefault(require(\"./diff.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _default = _ace[\"default\"];\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _aceBuilds = _interopRequireWildcard(require(\"ace-builds\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.isequal\"));\n\nvar _editorOptions = require(\"./editorOptions.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ReactAce =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReactAce, _Component);\n\n  function ReactAce(props) {\n    var _this;\n\n    _classCallCheck(this, ReactAce);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactAce).call(this, props));\n\n    _editorOptions.editorEvents.forEach(function (method) {\n      _this[method] = _this[method].bind(_assertThisInitialized(_this));\n    });\n\n    _this.debounce = _editorOptions.debounce;\n    return _this;\n  }\n\n  _createClass(ReactAce, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          onBeforeLoad = _this$props.onBeforeLoad,\n          onValidate = _this$props.onValidate,\n          mode = _this$props.mode,\n          focus = _this$props.focus,\n          theme = _this$props.theme,\n          fontSize = _this$props.fontSize,\n          value = _this$props.value,\n          defaultValue = _this$props.defaultValue,\n          cursorStart = _this$props.cursorStart,\n          showGutter = _this$props.showGutter,\n          wrapEnabled = _this$props.wrapEnabled,\n          showPrintMargin = _this$props.showPrintMargin,\n          _this$props$scrollMar = _this$props.scrollMargin,\n          scrollMargin = _this$props$scrollMar === void 0 ? [0, 0, 0, 0] : _this$props$scrollMar,\n          keyboardHandler = _this$props.keyboardHandler,\n          onLoad = _this$props.onLoad,\n          commands = _this$props.commands,\n          annotations = _this$props.annotations,\n          markers = _this$props.markers;\n      this.editor = _aceBuilds[\"default\"].edit(this.refEditor);\n\n      if (onBeforeLoad) {\n        onBeforeLoad(_aceBuilds[\"default\"]);\n      }\n\n      var editorProps = Object.keys(this.props.editorProps);\n\n      for (var i = 0; i < editorProps.length; i++) {\n        this.editor[editorProps[i]] = this.props.editorProps[editorProps[i]];\n      }\n\n      if (this.props.debounceChangePeriod) {\n        this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);\n      }\n\n      this.editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);\n      this.editor.getSession().setMode(\"ace/mode/\".concat(mode));\n      this.editor.setTheme(\"ace/theme/\".concat(theme));\n      this.editor.setFontSize(fontSize);\n      this.editor.getSession().setValue(!defaultValue ? value : defaultValue, cursorStart);\n      this.editor.navigateFileEnd();\n      this.editor.renderer.setShowGutter(showGutter);\n      this.editor.getSession().setUseWrapMode(wrapEnabled);\n      this.editor.setShowPrintMargin(showPrintMargin);\n      this.editor.on(\"focus\", this.onFocus);\n      this.editor.on(\"blur\", this.onBlur);\n      this.editor.on(\"copy\", this.onCopy);\n      this.editor.on(\"paste\", this.onPaste);\n      this.editor.on(\"change\", this.onChange);\n      this.editor.on(\"input\", this.onInput);\n      this.editor.getSession().selection.on(\"changeSelection\", this.onSelectionChange);\n      this.editor.getSession().selection.on(\"changeCursor\", this.onCursorChange);\n\n      if (onValidate) {\n        this.editor.getSession().on(\"changeAnnotation\", function () {\n          var annotations = _this2.editor.getSession().getAnnotations();\n\n          _this2.props.onValidate(annotations);\n        });\n      }\n\n      this.editor.session.on(\"changeScrollTop\", this.onScroll);\n      this.editor.getSession().setAnnotations(annotations || []);\n\n      if (markers && markers.length > 0) {\n        this.handleMarkers(markers);\n      } // get a list of possible options to avoid 'misspelled option errors'\n\n\n      var availableOptions = this.editor.$options;\n\n      for (var _i = 0; _i < _editorOptions.editorOptions.length; _i++) {\n        var option = _editorOptions.editorOptions[_i];\n\n        if (Object.prototype.hasOwnProperty.call(availableOptions, option)) {\n          this.editor.setOption(option, this.props[option]);\n        } else if (this.props[option]) {\n          console.warn(\"ReactAce: editor option \".concat(option, \" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?\"));\n        }\n      }\n\n      this.handleOptions(this.props);\n\n      if (Array.isArray(commands)) {\n        commands.forEach(function (command) {\n          if (typeof command.exec == \"string\") {\n            _this2.editor.commands.bindKey(command.bindKey, command.exec);\n          } else {\n            _this2.editor.commands.addCommand(command);\n          }\n        });\n      }\n\n      if (keyboardHandler) {\n        this.editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n      }\n\n      if (className) {\n        this.refEditor.className += \" \" + className;\n      }\n\n      if (onLoad) {\n        onLoad(this.editor);\n      }\n\n      this.editor.resize();\n\n      if (focus) {\n        this.editor.focus();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var oldProps = prevProps;\n      var nextProps = this.props;\n\n      for (var i = 0; i < _editorOptions.editorOptions.length; i++) {\n        var option = _editorOptions.editorOptions[i];\n\n        if (nextProps[option] !== oldProps[option]) {\n          this.editor.setOption(option, nextProps[option]);\n        }\n      }\n\n      if (nextProps.className !== oldProps.className) {\n        var appliedClasses = this.refEditor.className;\n        var appliedClassesArray = appliedClasses.trim().split(\" \");\n        var oldClassesArray = oldProps.className.trim().split(\" \");\n        oldClassesArray.forEach(function (oldClass) {\n          var index = appliedClassesArray.indexOf(oldClass);\n          appliedClassesArray.splice(index, 1);\n        });\n        this.refEditor.className = \" \" + nextProps.className + \" \" + appliedClassesArray.join(\" \");\n      } // First process editor value, as it may create a new session (see issue #300)\n\n\n      if (this.editor && this.editor.getValue() !== nextProps.value) {\n        // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n        this.silent = true;\n        var pos = this.editor.session.selection.toJSON();\n        this.editor.setValue(nextProps.value, nextProps.cursorStart);\n        this.editor.session.selection.fromJSON(pos);\n        this.silent = false;\n      }\n\n      if (nextProps.mode !== oldProps.mode) {\n        this.editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n      }\n\n      if (nextProps.theme !== oldProps.theme) {\n        this.editor.setTheme(\"ace/theme/\" + nextProps.theme);\n      }\n\n      if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n        if (nextProps.keyboardHandler) {\n          this.editor.setKeyboardHandler(\"ace/keyboard/\" + nextProps.keyboardHandler);\n        } else {\n          this.editor.setKeyboardHandler(null);\n        }\n      }\n\n      if (nextProps.fontSize !== oldProps.fontSize) {\n        this.editor.setFontSize(nextProps.fontSize);\n      }\n\n      if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n        this.editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n      }\n\n      if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n        this.editor.setShowPrintMargin(nextProps.showPrintMargin);\n      }\n\n      if (nextProps.showGutter !== oldProps.showGutter) {\n        this.editor.renderer.setShowGutter(nextProps.showGutter);\n      }\n\n      if (!(0, _lodash[\"default\"])(nextProps.setOptions, oldProps.setOptions)) {\n        this.handleOptions(nextProps);\n      }\n\n      if (!(0, _lodash[\"default\"])(nextProps.annotations, oldProps.annotations)) {\n        this.editor.getSession().setAnnotations(nextProps.annotations || []);\n      }\n\n      if (!(0, _lodash[\"default\"])(nextProps.markers, oldProps.markers) && Array.isArray(nextProps.markers)) {\n        this.handleMarkers(nextProps.markers);\n      } // this doesn't look like it works at all....\n\n\n      if (!(0, _lodash[\"default\"])(nextProps.scrollMargin, oldProps.scrollMargin)) {\n        this.handleScrollMargins(nextProps.scrollMargin);\n      }\n\n      if (prevProps.height !== this.props.height || prevProps.width !== this.props.width) {\n        this.editor.resize();\n      }\n\n      if (this.props.focus && !prevProps.focus) {\n        this.editor.focus();\n      }\n    }\n  }, {\n    key: \"handleScrollMargins\",\n    value: function handleScrollMargins() {\n      var margins = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0, 0, 0];\n      this.editor.renderer.setScrollMargins(margins[0], margins[1], margins[2], margins[3]);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.editor.destroy();\n      this.editor = null;\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(event) {\n      if (this.props.onChange && !this.silent) {\n        var value = this.editor.getValue();\n        this.props.onChange(value, event);\n      }\n    }\n  }, {\n    key: \"onSelectionChange\",\n    value: function onSelectionChange(event) {\n      if (this.props.onSelectionChange) {\n        var value = this.editor.getSelection();\n        this.props.onSelectionChange(value, event);\n      }\n    }\n  }, {\n    key: \"onCursorChange\",\n    value: function onCursorChange(event) {\n      if (this.props.onCursorChange) {\n        var value = this.editor.getSelection();\n        this.props.onCursorChange(value, event);\n      }\n    }\n  }, {\n    key: \"onInput\",\n    value: function onInput(event) {\n      if (this.props.onInput) {\n        this.props.onInput(event);\n      }\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus(event) {\n      if (this.props.onFocus) {\n        this.props.onFocus(event, this.editor);\n      }\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(event) {\n      if (this.props.onBlur) {\n        this.props.onBlur(event, this.editor);\n      }\n    }\n  }, {\n    key: \"onCopy\",\n    value: function onCopy(text) {\n      if (this.props.onCopy) {\n        this.props.onCopy(text);\n      }\n    }\n  }, {\n    key: \"onPaste\",\n    value: function onPaste(text) {\n      if (this.props.onPaste) {\n        this.props.onPaste(text);\n      }\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll() {\n      if (this.props.onScroll) {\n        this.props.onScroll(this.editor);\n      }\n    }\n  }, {\n    key: \"handleOptions\",\n    value: function handleOptions(props) {\n      var setOptions = Object.keys(props.setOptions);\n\n      for (var y = 0; y < setOptions.length; y++) {\n        this.editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n      }\n    }\n  }, {\n    key: \"handleMarkers\",\n    value: function handleMarkers(markers) {\n      var _this3 = this;\n\n      // remove foreground markers\n      var currentMarkers = this.editor.getSession().getMarkers(true);\n\n      for (var i in currentMarkers) {\n        if (Object.prototype.hasOwnProperty.call(currentMarkers, i)) {\n          this.editor.getSession().removeMarker(currentMarkers[i].id);\n        }\n      } // remove background markers\n\n\n      currentMarkers = this.editor.getSession().getMarkers(false);\n\n      for (var _i2 in currentMarkers) {\n        if (Object.prototype.hasOwnProperty.call(currentMarkers, _i2)) {\n          this.editor.getSession().removeMarker(currentMarkers[_i2].id);\n        }\n      } // add new markers\n\n\n      markers.forEach(function (_ref) {\n        var startRow = _ref.startRow,\n            startCol = _ref.startCol,\n            endRow = _ref.endRow,\n            endCol = _ref.endCol,\n            className = _ref.className,\n            type = _ref.type,\n            _ref$inFront = _ref.inFront,\n            inFront = _ref$inFront === void 0 ? false : _ref$inFront;\n        var range = new _aceBuilds.Range(startRow, startCol, endRow, endCol);\n\n        _this3.editor.getSession().addMarker(range, className, type, inFront);\n      });\n    }\n  }, {\n    key: \"updateRef\",\n    value: function updateRef(item) {\n      this.refEditor = item;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          name = _this$props2.name,\n          width = _this$props2.width,\n          height = _this$props2.height,\n          style = _this$props2.style;\n\n      var divStyle = _objectSpread({\n        width: width,\n        height: height\n      }, style);\n\n      return _react[\"default\"].createElement(\"div\", {\n        ref: this.updateRef,\n        id: name,\n        style: divStyle\n      });\n    }\n  }]);\n\n  return ReactAce;\n}(_react.Component);\n\nexports[\"default\"] = ReactAce;\nReactAce.propTypes = {\n  mode: _propTypes[\"default\"].string,\n  focus: _propTypes[\"default\"].bool,\n  theme: _propTypes[\"default\"].string,\n  name: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].string,\n  height: _propTypes[\"default\"].string,\n  width: _propTypes[\"default\"].string,\n  fontSize: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n  showGutter: _propTypes[\"default\"].bool,\n  onChange: _propTypes[\"default\"].func,\n  onCopy: _propTypes[\"default\"].func,\n  onPaste: _propTypes[\"default\"].func,\n  onFocus: _propTypes[\"default\"].func,\n  onInput: _propTypes[\"default\"].func,\n  onBlur: _propTypes[\"default\"].func,\n  onScroll: _propTypes[\"default\"].func,\n  value: _propTypes[\"default\"].string,\n  defaultValue: _propTypes[\"default\"].string,\n  onLoad: _propTypes[\"default\"].func,\n  onSelectionChange: _propTypes[\"default\"].func,\n  onCursorChange: _propTypes[\"default\"].func,\n  onBeforeLoad: _propTypes[\"default\"].func,\n  onValidate: _propTypes[\"default\"].func,\n  minLines: _propTypes[\"default\"].number,\n  maxLines: _propTypes[\"default\"].number,\n  readOnly: _propTypes[\"default\"].bool,\n  highlightActiveLine: _propTypes[\"default\"].bool,\n  tabSize: _propTypes[\"default\"].number,\n  showPrintMargin: _propTypes[\"default\"].bool,\n  cursorStart: _propTypes[\"default\"].number,\n  debounceChangePeriod: _propTypes[\"default\"].number,\n  editorProps: _propTypes[\"default\"].object,\n  setOptions: _propTypes[\"default\"].object,\n  style: _propTypes[\"default\"].object,\n  scrollMargin: _propTypes[\"default\"].array,\n  annotations: _propTypes[\"default\"].array,\n  markers: _propTypes[\"default\"].array,\n  keyboardHandler: _propTypes[\"default\"].string,\n  wrapEnabled: _propTypes[\"default\"].bool,\n  enableBasicAutocompletion: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].bool, _propTypes[\"default\"].array]),\n  enableLiveAutocompletion: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].bool, _propTypes[\"default\"].array]),\n  commands: _propTypes[\"default\"].array\n};\nReactAce.defaultProps = {\n  name: \"ace-editor\",\n  focus: false,\n  mode: \"\",\n  theme: \"\",\n  height: \"500px\",\n  width: \"500px\",\n  value: \"\",\n  fontSize: 12,\n  showGutter: true,\n  onChange: null,\n  onPaste: null,\n  onLoad: null,\n  onScroll: null,\n  minLines: null,\n  maxLines: null,\n  readOnly: false,\n  highlightActiveLine: true,\n  showPrintMargin: true,\n  tabSize: 4,\n  cursorStart: 1,\n  editorProps: {},\n  style: {},\n  scrollMargin: [0, 0, 0, 0],\n  setOptions: {},\n  wrapEnabled: false,\n  enableBasicAutocompletion: false,\n  enableLiveAutocompletion: false\n};","ace.define(\"ace/split\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/editor\",\"ace/virtual_renderer\",\"ace/edit_session\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Editor = require(\"./editor\").Editor;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nvar EditSession = require(\"./edit_session\").EditSession;\n\n\nvar Split = function(container, theme, splits) {\n    this.BELOW = 1;\n    this.BESIDE = 0;\n\n    this.$container = container;\n    this.$theme = theme;\n    this.$splits = 0;\n    this.$editorCSS = \"\";\n    this.$editors = [];\n    this.$orientation = this.BESIDE;\n\n    this.setSplits(splits || 1);\n    this.$cEditor = this.$editors[0];\n\n\n    this.on(\"focus\", function(editor) {\n        this.$cEditor = editor;\n    }.bind(this));\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createEditor = function() {\n        var el = document.createElement(\"div\");\n        el.className = this.$editorCSS;\n        el.style.cssText = \"position: absolute; top:0px; bottom:0px\";\n        this.$container.appendChild(el);\n        var editor = new Editor(new Renderer(el, this.$theme));\n\n        editor.on(\"focus\", function() {\n            this._emit(\"focus\", editor);\n        }.bind(this));\n\n        this.$editors.push(editor);\n        editor.setFontSize(this.$fontSize);\n        return editor;\n    };\n\n    this.setSplits = function(splits) {\n        var editor;\n        if (splits < 1) {\n            throw \"The number of splits have to be > 0!\";\n        }\n\n        if (splits == this.$splits) {\n            return;\n        } else if (splits > this.$splits) {\n            while (this.$splits < this.$editors.length && this.$splits < splits) {\n                editor = this.$editors[this.$splits];\n                this.$container.appendChild(editor.container);\n                editor.setFontSize(this.$fontSize);\n                this.$splits ++;\n            }\n            while (this.$splits < splits) {\n                this.$createEditor();\n                this.$splits ++;\n            }\n        } else {\n            while (this.$splits > splits) {\n                editor = this.$editors[this.$splits - 1];\n                this.$container.removeChild(editor.container);\n                this.$splits --;\n            }\n        }\n        this.resize();\n    };\n    this.getSplits = function() {\n        return this.$splits;\n    };\n    this.getEditor = function(idx) {\n        return this.$editors[idx];\n    };\n    this.getCurrentEditor = function() {\n        return this.$cEditor;\n    };\n    this.focus = function() {\n        this.$cEditor.focus();\n    };\n    this.blur = function() {\n        this.$cEditor.blur();\n    };\n    this.setTheme = function(theme) {\n        this.$editors.forEach(function(editor) {\n            editor.setTheme(theme);\n        });\n    };\n    this.setKeyboardHandler = function(keybinding) {\n        this.$editors.forEach(function(editor) {\n            editor.setKeyboardHandler(keybinding);\n        });\n    };\n    this.forEach = function(callback, scope) {\n        this.$editors.forEach(callback, scope);\n    };\n\n\n    this.$fontSize = \"\";\n    this.setFontSize = function(size) {\n        this.$fontSize = size;\n        this.forEach(function(editor) {\n           editor.setFontSize(size);\n        });\n    };\n\n    this.$cloneSession = function(session) {\n        var s = new EditSession(session.getDocument(), session.getMode());\n\n        var undoManager = session.getUndoManager();\n        s.setUndoManager(undoManager);\n        s.setTabSize(session.getTabSize());\n        s.setUseSoftTabs(session.getUseSoftTabs());\n        s.setOverwrite(session.getOverwrite());\n        s.setBreakpoints(session.getBreakpoints());\n        s.setUseWrapMode(session.getUseWrapMode());\n        s.setUseWorker(session.getUseWorker());\n        s.setWrapLimitRange(session.$wrapLimitRange.min,\n                            session.$wrapLimitRange.max);\n        s.$foldData = session.$cloneFoldData();\n\n        return s;\n    };\n    this.setSession = function(session, idx) {\n        var editor;\n        if (idx == null) {\n            editor = this.$cEditor;\n        } else {\n            editor = this.$editors[idx];\n        }\n        var isUsed = this.$editors.some(function(editor) {\n           return editor.session === session;\n        });\n\n        if (isUsed) {\n            session = this.$cloneSession(session);\n        }\n        editor.setSession(session);\n        return session;\n    };\n    this.getOrientation = function() {\n        return this.$orientation;\n    };\n    this.setOrientation = function(orientation) {\n        if (this.$orientation == orientation) {\n            return;\n        }\n        this.$orientation = orientation;\n        this.resize();\n    };\n    this.resize = function() {\n        var width = this.$container.clientWidth;\n        var height = this.$container.clientHeight;\n        var editor;\n\n        if (this.$orientation == this.BESIDE) {\n            var editorWidth = width / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = editorWidth + \"px\";\n                editor.container.style.top = \"0px\";\n                editor.container.style.left = i * editorWidth + \"px\";\n                editor.container.style.height = height + \"px\";\n                editor.resize();\n            }\n        } else {\n            var editorHeight = height / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = width + \"px\";\n                editor.container.style.top = i * editorHeight + \"px\";\n                editor.container.style.left = \"0px\";\n                editor.container.style.height = editorHeight + \"px\";\n                editor.resize();\n            }\n        }\n    };\n\n}).call(Split.prototype);\n\nexports.Split = Split;\n});\n\nace.define(\"ace/ext/split\",[\"require\",\"exports\",\"module\",\"ace/split\"], function(require, exports, module) {\n\"use strict\";\nmodule.exports = require(\"../split\");\n\n});                (function() {\n                    ace.require([\"ace/ext/split\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _split = _interopRequireDefault(require(\"./split.js\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _diffMatchPatch = _interopRequireDefault(require(\"diff-match-patch\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar DiffComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DiffComponent, _Component);\n\n  function DiffComponent() {\n    _classCallCheck(this, DiffComponent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DiffComponent).apply(this, arguments));\n  }\n\n  _createClass(DiffComponent, [{\n    key: \"diff\",\n    value: function diff() {\n      var dmp = new _diffMatchPatch[\"default\"]();\n      var lhString = this.props.value[0];\n      var rhString = this.props.value[1];\n\n      if (lhString.length === 0 && rhString.length === 0) {\n        return [];\n      }\n\n      var diff = dmp.diff_main(lhString, rhString);\n      dmp.diff_cleanupSemantic(diff);\n      var diffedLines = this.generateDiffedLines(diff);\n      var codeEditorSettings = this.setCodeMarkers(diffedLines);\n      return codeEditorSettings;\n    }\n  }, {\n    key: \"generateDiffedLines\",\n    value: function generateDiffedLines(diff) {\n      var C = {\n        DIFF_EQUAL: 0,\n        DIFF_DELETE: -1,\n        DIFF_INSERT: 1\n      };\n      var diffedLines = {\n        left: [],\n        right: []\n      };\n      var cursor = {\n        left: 1,\n        right: 1\n      };\n      diff.forEach(function (chunk) {\n        var chunkType = chunk[0];\n        var text = chunk[1];\n        var lines = text.split(\"\\n\").length - 1; // diff-match-patch sometimes returns empty strings at random\n\n        if (text.length === 0) {\n          return;\n        }\n\n        var firstChar = text[0];\n        var lastChar = text[text.length - 1];\n        var linesToHighlight = 0;\n\n        switch (chunkType) {\n          case C.DIFF_EQUAL:\n            cursor.left += lines;\n            cursor.right += lines;\n            break;\n\n          case C.DIFF_DELETE:\n            // If the deletion starts with a newline, push the cursor down to that line\n            if (firstChar === \"\\n\") {\n              cursor.left++;\n              lines--;\n            }\n\n            linesToHighlight = lines; // If the deletion does not include a newline, highlight the same line on the right\n\n            if (linesToHighlight === 0) {\n              diffedLines.right.push({\n                startLine: cursor.right,\n                endLine: cursor.right\n              });\n            } // If the last character is a newline, we don't want to highlight that line\n\n\n            if (lastChar === \"\\n\") {\n              linesToHighlight -= 1;\n            }\n\n            diffedLines.left.push({\n              startLine: cursor.left,\n              endLine: cursor.left + linesToHighlight\n            });\n            cursor.left += lines;\n            break;\n\n          case C.DIFF_INSERT:\n            // If the insertion starts with a newline, push the cursor down to that line\n            if (firstChar === \"\\n\") {\n              cursor.right++;\n              lines--;\n            }\n\n            linesToHighlight = lines; // If the insertion does not include a newline, highlight the same line on the left\n\n            if (linesToHighlight === 0) {\n              diffedLines.left.push({\n                startLine: cursor.left,\n                endLine: cursor.left\n              });\n            } // If the last character is a newline, we don't want to highlight that line\n\n\n            if (lastChar === \"\\n\") {\n              linesToHighlight -= 1;\n            }\n\n            diffedLines.right.push({\n              startLine: cursor.right,\n              endLine: cursor.right + linesToHighlight\n            });\n            cursor.right += lines;\n            break;\n\n          default:\n            throw new Error(\"Diff type was not defined.\");\n        }\n      });\n      return diffedLines;\n    } // Receives a collection of line numbers and iterates through them to highlight appropriately\n    // Returns an object that tells the render() method how to display the code editors\n\n  }, {\n    key: \"setCodeMarkers\",\n    value: function setCodeMarkers() {\n      var diffedLines = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        left: [],\n        right: []\n      };\n      var codeEditorSettings = [];\n      var newMarkerSet = {\n        left: [],\n        right: []\n      };\n\n      for (var i = 0; i < diffedLines.left.length; i++) {\n        var markerObj = {\n          startRow: diffedLines.left[i].startLine - 1,\n          endRow: diffedLines.left[i].endLine,\n          type: \"text\",\n          className: \"codeMarker\"\n        };\n        newMarkerSet.left.push(markerObj);\n      }\n\n      for (var _i = 0; _i < diffedLines.right.length; _i++) {\n        var _markerObj = {\n          startRow: diffedLines.right[_i].startLine - 1,\n          endRow: diffedLines.right[_i].endLine,\n          type: \"text\",\n          className: \"codeMarker\"\n        };\n        newMarkerSet.right.push(_markerObj);\n      }\n\n      codeEditorSettings[0] = newMarkerSet.left;\n      codeEditorSettings[1] = newMarkerSet.right;\n      return codeEditorSettings;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var markers = this.diff();\n      return _react[\"default\"].createElement(_split[\"default\"], {\n        name: this.props.name,\n        className: this.props.className,\n        focus: this.props.focus,\n        orientation: this.props.orientation,\n        splits: this.props.splits,\n        mode: this.props.mode,\n        theme: this.props.theme,\n        height: this.props.height,\n        width: this.props.width,\n        fontSize: this.props.fontSize,\n        showGutter: this.props.showGutter,\n        onChange: this.props.onChange,\n        onPaste: this.props.onPaste,\n        onLoad: this.props.onLoad,\n        onScroll: this.props.onScroll,\n        minLines: this.props.minLines,\n        maxLines: this.props.maxLines,\n        readOnly: this.props.readOnly,\n        highlightActiveLine: this.props.highlightActiveLine,\n        showPrintMargin: this.props.showPrintMargin,\n        tabSize: this.props.tabSize,\n        cursorStart: this.props.cursorStart,\n        editorProps: this.props.editorProps,\n        style: this.props.style,\n        scrollMargin: this.props.scrollMargin,\n        setOptions: this.props.setOptions,\n        wrapEnabled: this.props.wrapEnabled,\n        enableBasicAutocompletion: this.props.enableBasicAutocompletion,\n        enableLiveAutocompletion: this.props.enableLiveAutocompletion,\n        value: this.props.value,\n        markers: markers\n      });\n    }\n  }]);\n\n  return DiffComponent;\n}(_react.Component);\n\nexports[\"default\"] = DiffComponent;\nDiffComponent.propTypes = {\n  cursorStart: _propTypes[\"default\"].number,\n  editorProps: _propTypes[\"default\"].object,\n  enableBasicAutocompletion: _propTypes[\"default\"].bool,\n  enableLiveAutocompletion: _propTypes[\"default\"].bool,\n  focus: _propTypes[\"default\"].bool,\n  fontSize: _propTypes[\"default\"].number,\n  height: _propTypes[\"default\"].string,\n  highlightActiveLine: _propTypes[\"default\"].bool,\n  maxLines: _propTypes[\"default\"].func,\n  minLines: _propTypes[\"default\"].func,\n  mode: _propTypes[\"default\"].string,\n  name: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].string,\n  onLoad: _propTypes[\"default\"].func,\n  onPaste: _propTypes[\"default\"].func,\n  onScroll: _propTypes[\"default\"].func,\n  onChange: _propTypes[\"default\"].func,\n  orientation: _propTypes[\"default\"].string,\n  readOnly: _propTypes[\"default\"].bool,\n  scrollMargin: _propTypes[\"default\"].array,\n  setOptions: _propTypes[\"default\"].object,\n  showGutter: _propTypes[\"default\"].bool,\n  showPrintMargin: _propTypes[\"default\"].bool,\n  splits: _propTypes[\"default\"].number,\n  style: _propTypes[\"default\"].object,\n  tabSize: _propTypes[\"default\"].number,\n  theme: _propTypes[\"default\"].string,\n  value: _propTypes[\"default\"].array,\n  width: _propTypes[\"default\"].string,\n  wrapEnabled: _propTypes[\"default\"].bool\n};\nDiffComponent.defaultProps = {\n  cursorStart: 1,\n  editorProps: {},\n  enableBasicAutocompletion: false,\n  enableLiveAutocompletion: false,\n  focus: false,\n  fontSize: 12,\n  height: \"500px\",\n  highlightActiveLine: true,\n  maxLines: null,\n  minLines: null,\n  mode: \"\",\n  name: \"ace-editor\",\n  onLoad: null,\n  onScroll: null,\n  onPaste: null,\n  onChange: null,\n  orientation: \"beside\",\n  readOnly: false,\n  scrollMargin: [0, 0, 0, 0],\n  setOptions: {},\n  showGutter: true,\n  showPrintMargin: true,\n  splits: 2,\n  style: {},\n  tabSize: 4,\n  theme: \"github\",\n  value: [\"\", \"\"],\n  width: \"500px\",\n  wrapEnabled: true\n};","/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function() {\n\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n\n//  DIFF FUNCTIONS\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function(op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\n    opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\n    deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)),\n             new diff_match_patch.Diff(DIFF_EQUAL, shorttext),\n             new diff_match_patch.Diff(DIFF_INSERT,\n                 longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n            new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)],\n                          diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert,\n                       count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff =\n              this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop();  // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if ((new Date()).getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n          new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\n    deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\n          (lineHash[line] !== undefined)) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\n};\n\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) ==\n        text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\n                                               shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\n                                               shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && (lastEquality.length <=\n          Math.max(length_insertions1, length_deletions1)) &&\n          (lastEquality.length <= Math.max(length_insertions2,\n                                           length_deletions2))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0;  // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\n        diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 ||\n            overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] =\n              deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 ||\n            overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] =\n              insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] =\n              deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 &&\n        char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 &&\n        char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 &&\n        char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 &&\n        char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 &&\n        one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 &&\n        two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\n            diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\n          (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && ((pre_ins && pre_del && post_ins && post_del) ||\n                           ((lastEquality.length < this.Diff_EditCost / 2) &&\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;  // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;  // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ?\n              equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n                    text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {  // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\n    var data = diffs[x][1];  // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\n  var diffs = [];\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\n  var pointer = 0;  // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] =\n              new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n        // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\n                          tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer +\n        ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n\n//  MATCH FUNCTIONS\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + (proximity / dmp.Match_Distance);\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold =\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1);\n  best_loc = -1;\n\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {  // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n      } else {  // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n  }\n  return s;\n};\n\n\n//  PATCH FUNCTIONS\n\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\n         this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding,\n                             patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1,\n                              patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\n      typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */(a);\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\n      typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\n      typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\n      opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return [];  // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\n  var char_count1 = 0;  // Number of characters into the text1 string.\n  var char_count2 = 0;  // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\n                         postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) +\n                         postpatch_text.substring(char_count2 +\n                             diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin &&\n            patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] =\n          new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\n                                  expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text,\n            text1.substring(text1.length - this.Match_MaxBits),\n            expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) +\n               this.diff_text2(patches[x].diffs) +\n               text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits &&\n            this.diff_levenshtein(diffs) / text1.length >\n            this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {  // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] +\n                     text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\n              text = text.substring(0, start_loc + index2) +\n                     text.substring(start_loc + this.diff_xIndex(diffs,\n                         index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength;  // Should be 0.\n    patch.start2 -= paddingLength;  // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 &&\n             patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\n                   patch.diffs[0][0] == DIFF_EQUAL &&\n                   diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0,\n              patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] =\n                bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext =\n          precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs)\n                            .substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 &&\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function(patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function(textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function() {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function() {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = (this.start1 + 1) + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = (this.start2 + 1) + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports['diff_match_patch'] = diff_match_patch;\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nif (typeof Element != \"undefined\" && !Element.prototype.remove) {\n    Object.defineProperty(Element.prototype, \"remove\", {\n        enumerable: false,\n        writable: true,\n        configurable: true,\n        value: function() { this.parentNode && this.parentNode.removeChild(this); }\n    });\n}\n\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\n\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n    ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1])\n    : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]); // for ie\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\n\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n\nif (exports.isIOS) exports.isMac = true;\n\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"./useragent\"); \nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    \n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    \n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function(n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            } else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            } else if (n === \"ref\") {\n                if (refs) refs[val] = el;\n            } else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.removeChildren = function(element) {\n    element.innerHTML = \"\";\n};\n\nexports.createTextNode = function(textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\n\nexports.createFragment = function(element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id)\n                return true;\n    }\n};\n\nexports.importCssString = function importCssString(cssText, id, target) {\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    } else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    \n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    \n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    \n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    exports.buildDom([\"link\", {rel: \"stylesheet\", href: uri}], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\n\nif (typeof document == \"undefined\") {\n    exports.importCssString = function() {};\n}\n\nexports.computedStyle = function(element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\n\nexports.setStyle = function(styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\n\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\n\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform  !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\n\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function(element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) +\"px)\";\n    };\n} else {\n    exports.translate = function(element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8, \n            \"control\": 1\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n          219: '[', 220: '\\\\',221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {            \n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\n\nvar pressedKeys = null;\nvar ts = 0;\n\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function() {}, { \n            get passive() { \n                activeListenerOptions = {passive: false};\n            }\n        });\n    } catch(e) {}\n}\n\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\n\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function() {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\n\nvar addListener = exports.addListener = function(elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\n\nvar removeListener = exports.removeListener = function(elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    \n    return onMouseUp;\n};\n\nexports.addMouseWheelListener = function(el, callback, destroyer) {\n    if (\"onmousewheel\" in el) {\n        addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        }, destroyer);\n    } else if (\"onwheel\" in el) {\n        addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        }, destroyer);\n    } else {\n        addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        }, destroyer);\n    }\n};\n\nexports.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer; \n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);\n\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        \n        e._clicks = clicks;\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function(el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\n\nvar getModifierHash = function(e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    \n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\n\nexports.addCommandKeyListener = function(el, callback, destroyer) {\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        }, destroyer);\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        }, destroyer);\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        }, destroyer);\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        }, destroyer);\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        }, destroyer);\n\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\n\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        \n        var listener = function(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        \n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\n\nexports.$idleBlocked = false;\nexports.onIdle = function(cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        } else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\n\nexports.$idleBlockId = null;\nexports.blockIdle = function(delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n        \n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function() {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\n\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    \n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar $cancelT;\nmodule.exports = { \n    lineMode: false,\n    pasteCancelled: function() {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function() {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE =  useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\n\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\n\nvar TextInput = function(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    \n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    \n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function(e) {\n        if (ignoreFocusEvents) return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function(e) {\n        if (ignoreFocusEvents) return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            } catch(e) {}\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function() {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        } catch(e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function(p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function() {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function() {\n        text.blur();\n    };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    \n    host.on(\"beforeEndOperation\", function() {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    \n    var resetSelection = isIOS\n    ? function(value) {\n        if (!isFocused || (copied && !value) || sendingText) return;\n        if (!value) \n            value = \"\";\n        var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n        if (newValue != text.value)\n            text.value = lastValue = newValue;\n        \n        var selectionStart = 4;\n        var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n\n        if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        }\n        lastSelectionStart = selectionStart;\n        lastSelectionEnd = selectionEnd;\n    }\n    : function() {\n        if (inComposition || sendingText)\n            return;\n        if (!isFocused && !afterContextMenu)\n            return;\n        inComposition = true;\n        \n        var selectionStart = 0;\n        var selectionEnd = 0;\n        var line = \"\";\n\n        if (host.session) {\n            var selection = host.selection;\n            var range = selection.getRange();\n            var row = selection.cursor.row;\n            selectionStart = range.start.column;\n            selectionEnd = range.end.column;\n            line = host.session.getLine(row);\n\n            if (range.start.row != row) {\n                var prevLine = host.session.getLine(row - 1);\n                selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                selectionEnd += prevLine.length + 1;\n                line = prevLine + \"\\n\" + line;\n            }\n            else if (range.end.row != row) {\n                var nextLine = host.session.getLine(row + 1);\n                selectionEnd = range.end.row > row  + 1 ? nextLine.length : selectionEnd;\n                selectionEnd += line.length + 1;\n                line = line + \"\\n\" + nextLine;\n            }\n            else if (isMobile && row > 0) {\n                line = \"\\n\" + line;\n                selectionEnd += 1;\n                selectionStart += 1;\n            }\n\n            if (line.length > MAX_LINE_LENGTH) {\n                if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                    line = line.slice(0, MAX_LINE_LENGTH);\n                } else {\n                    line = \"\\n\";\n                    if (selectionStart == selectionEnd) {\n                        selectionStart = selectionEnd = 0;\n                    }\n                    else {\n                        selectionStart = 0;\n                        selectionEnd = 1;\n                    }\n                }\n            }\n        }\n\n        var newValue = line + \"\\n\\n\";\n        if (newValue != lastValue) {\n            text.value = lastValue = newValue;\n            lastSelectionStart = lastSelectionEnd = newValue.length;\n        }\n        if (afterContextMenu) {\n            lastSelectionStart = text.selectionStart;\n            lastSelectionEnd = text.selectionEnd;\n        }\n        if (\n            lastSelectionEnd != selectionEnd \n            || lastSelectionStart != selectionStart \n            || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n        ) {\n            try {\n                text.setSelectionRange(selectionStart, selectionEnd);\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n            } catch(e){}\n        }\n        inComposition = false;\n    };\n    this.resetSelection = resetSelection;\n\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n\n    var onSelect = function(e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb;};\n    this.getInputHandler = function() {return inputHandler;};\n    var afterContextMenu = false;\n    \n    var sendText = function(value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        } else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n        \n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            \n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n        \n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1  && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i-1;\n            restoreEnd -= i-1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            } \n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            \n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            } else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            \n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\") return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\") return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (\n            data.length > MAX_LINE_LENGTH + 100 \n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd\n        ) {\n            resetSelection();\n        }\n    };\n    \n    var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            } else {\n                return clipboardData.getData(mime);\n            }\n        } catch(e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n\n    var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        } else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    \n    var onCut = function(e) {\n        doCopy(e, true);\n    };\n    \n    var onCopy = function(e) {\n        doCopy(e, false);\n    };\n    \n    var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) \n            return;\n        \n        inComposition = {};\n\n        if (commandMode)\n            return;\n        \n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        \n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        \n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        \n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        \n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e) onInput();\n    };\n    \n\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    \n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n\n    this.getElement = function() {\n        return text;\n    };\n    this.setCommandMode = function(value) {\n       commandMode = value;\n       text.readOnly = false;\n    };\n    \n    this.setReadOnly = function(readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n\n    this.setCopyWithEmptySelection = function(value) {\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        this.moveToMouse(e, true);\n    };\n    \n    this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight -2;\n        var move = function(e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        host.renderer.$isMousePressed = true;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n\n    var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    \n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n \n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout) clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function(e) {\n            if (document.activeElement !== text) return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed) return;\n\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            \n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            } else if (selectionStart == 1) {\n                key = KEYS.home;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            } else if (\n                selectionStart < lastSelectionStart\n                || (\n                    selectionStart == lastSelectionStart \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.left;\n            } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            } else if (\n                selectionEnd > lastSelectionEnd\n                || (\n                    selectionEnd == lastSelectionEnd \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.right;\n            }\n            \n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function() {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n};\n\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function(_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent) return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        } else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        \n        var editor = this.editor;\n        \n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        \n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        \n        var direction = Math.abs(vx / vy);\n        \n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n            \n        if (canScroll) {\n            prevScroll.allowed = t;\n        } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        \n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n    \n    this.destroy = function() {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage.scrollTop = 0;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\n\nexports.addTouchListeners = function(el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    \n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function() {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(\n                dom.buildDom(isOpen ? [\"span\",\n                    !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                    clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                    hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Pallete\"]\n                ] : [\"span\"]),\n                contextMenu.firstChild\n            );\n        };\n        var handleClick = function(e) {\n            var action = e.target.getAttribute(\"action\");\n\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function(e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function(e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu) createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        } else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        } else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function(e) {\n        if (!pressed) return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        \n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        \n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        \n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        } else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            \n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function(x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            \n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            \n            var diff1 = weightedDistance(\n                e.clientX - rect.left - cursorPos.left + offsetLeft,\n                e.clientY - rect.top - cursorPos.top + offsetTop\n            );\n            var diff2 = weightedDistance(\n                e.clientX - rect.left - anchorPos.left + offsetLeft,\n                e.clientY - rect.top - anchorPos.top + offsetTop\n            );\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n                \n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer) clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        } else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        } else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        } else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\") return;\n\n        var touchObj = touches[0];\n\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY)) wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX)) wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function() {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01) vX = 0;\n            if (Math.abs(vY) < 0.01) vY = 0;\n            if (animationSteps < 20) vX = 0.9 * vX;\n            if (animationSteps < 20) vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function(url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function(resolve) {\n            callback = resolve;\n        });\n    }\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"no use strict\";\n\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function(key) {\n                return !options[key].hidden;\n            });\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\n\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function() { throw e; });\n}\n\nvar AppConfig = function() {\n    this.$defaultOptions = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function(obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = {forwardTo: opt};\n\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n\n        return this;\n    };\n\n    this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n\n    this.setDefaultValue = function(path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n\n    this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    \n    this.warn = warn;\n    this.reportError = reportError;\n    \n}).call(AppConfig.prototype);\n\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"], function(require, exports, module) {\n\"no use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\n\nmodule.exports = exports = new AppConfig();\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\n\nexports.$modes = {};\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = require(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        require([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    \n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n    reportErrorIfPathIsNotConfigured();\n};\n\nvar reportErrorIfPathIsNotConfigured = function() {\n    if (\n        !options.basePath && !options.workerPath \n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length\n    ) {\n        console.error(\n            \"Unable to infer path to ace from script src,\",\n            \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\",\n            \"or with webpack use ace/webpack-resolver\"\n        );\n        reportErrorIfPathIsNotConfigured = function() {};\n    }\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    options.packaged = packaged || require.packaged || module.packaged || (global.define && define.packaged);\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n}\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\nexports.version = \"1.4.12\";\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\n\nvar MouseHandler = function(editor) {\n    var _self = this;\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function(e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n\n    editor.on(\"mousemove\", function(e){\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        } else {\n            renderer.setCursorStyle(\"\");\n        }\n    }, editor);\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n    \n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            if (!e) return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        var onOperationEnd = function(e) {\n            if (!self.releaseMouse) return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({command: {name: \"mouse\"}});\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function() {\n        var stop = function(e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    this.destroy = function() {\n        if (this.releaseMouse) this.releaseMouse();\n    };\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},\n    dragEnabled: {initialValue: true},\n    focusTimeout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n        \n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil  = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {editor: editor};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    \n    this.getStatusText = function() {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function(h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        \n        if (!success && hashId == -1) {\n            toExecute = {command: \"insertstring\"};\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        \n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        \n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false,  hasUBAT_B = false,  hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\n\nvar impTab_LTR = [\t[\t0,\t\t3,\t\t0,\t\t1,\t\t0,\t\t0,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t1,\t\t2,\t\t2,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t0x11,\t\t2,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t1,\t\t0\t],\t[\t0,\t\t3,\t\t0x15,\t\t0x15,\t\t4,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t2,\t\t0\t]\n];\n\nvar impTab_RTL = [\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t1,\t\t0\t],\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t1,\t\t3,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t0x21,\t\t3,\t\t1,\t\t1\t]\n];\n\nvar LTR = 0, RTL = 1;\n\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\n\nvar UnicodeTBL00 = [\nBN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,\nWS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,\nEN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,\nBN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nCS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,\nET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON\n];\n\nvar UnicodeTBL20 = [\nWS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R\t,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,\nET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS\n];\n\nfunction _computeLevels(chars, levels, len, charTypes) {\n\tvar impTab = dir ? impTab_RTL : impTab_LTR\n\t\t, prevState = null, newClass = null, newLevel = null, newState = 0\n\t\t, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n\n\tif (!charTypes) {\n\t\tfor (i = 0, charTypes = []; i < len; i++) {\n\t\t\tcharTypes[i] = _getCharacterType(chars[i]);\n\t\t}\n\t}\n\thiLevel = dir;\n\tlastArabic = false;\n\thasUBAT_AL = false;\n\thasUBAT_B = false;\n\thasUBAT_S = false;\n\tfor (ix = 0; ix < len; ix++){\n\t\tprevState = newState;\n\t\tclasses[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n\t\tnewState = impTab[prevState][newClass];\n\t\taction = newState & 0xF0;\n\t\tnewState &= 0x0F;\n\t\tlevels[ix] = newLevel = impTab[newState][5];\n\t\tif (action > 0){\n\t\t\tif (action == 0x10){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = 1;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t} else {\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tcond = impTab[newState][6];\n\t\tif (cond){\n\t\t\tif(condPos == -1){\n\t\t\t\tcondPos = ix;\n\t\t\t}\n\t\t}else{\n\t\t\tif (condPos > -1){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = newLevel;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tif (charTypes[ix] == B){\n\t\t\tlevels[ix] = 0;\n\t\t}\n\t\thiLevel |= newLevel;\n\t}\n\tif (hasUBAT_S){\n\t\tfor(i = 0; i < len; i++){\n\t\t\tif(charTypes[i] == S){\n\t\t\t\tlevels[i] = dir;\n\t\t\t\tfor(var j = i - 1; j >= 0; j--){\n\t\t\t\t\tif(charTypes[j] == WS){\n\t\t\t\t\t\tlevels[j] = dir;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _invertLevel(lev, levels, _array) {\n\tif (hiLevel < lev){\n\t\treturn;\n\t}\n\tif (lev == 1 && dir == RTL && !hasUBAT_B){\n\t\t_array.reverse();\n\t\treturn;\n\t}\n\tvar len = _array.length, start = 0, end, lo, hi, tmp;\n\twhile(start < len){\n\t\tif (levels[start] >= lev){\n\t\t\tend = start + 1;\n\t\twhile(end < len && levels[end] >= lev){\n\t\t\tend++;\n\t\t}\n\t\tfor(lo = start, hi = end - 1 ; lo < hi; lo++, hi--){\n\t\t\ttmp = _array[lo];\n\t\t\t_array[lo] = _array[hi];\n\t\t\t_array[hi] = tmp;\n\t\t}\n\t\tstart = end;\n\t}\n\tstart++;\n\t}\n}\n\nfunction _getCharClass(chars, types, classes, ix) {\t\t\t\n\tvar cType = types[ix], wType, nType, len, i;\n\tswitch(cType){\n\t\tcase L:\n\t\tcase R:\n\t\t\tlastArabic = false;\n\t\tcase ON:\n\t\tcase AN:\n\t\t\treturn cType;\n\t\tcase EN:\n\t\t\treturn lastArabic ? AN : EN;\n\t\tcase AL:\n\t\t\tlastArabic = true;\n\t\t\thasUBAT_AL = true;\n\t\t\treturn R;\n\t\tcase WS:\n\t\t\treturn ON;\n\t\tcase CS:\n\t\t\tif (ix < 1 || (ix + 1) >= types.length ||\n\t\t\t\t((wType = classes[ix - 1]) != EN && wType != AN) ||\n\t\t\t\t((nType = types[ix + 1]) != EN && nType != AN)){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\tif (lastArabic){nType = AN;}\n\t\t\treturn nType == wType ? nType : ON;\n\t\tcase ES:\n\t\t\twType = ix > 0 ? classes[ix - 1] : B;\n\t\t\tif (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase ET:\n\t\t\tif (ix > 0 && classes[ix - 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\tif (lastArabic){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\ti = ix + 1;\n\t\t\tlen = types.length;\n\t\t\twhile (i < len && types[i] == ET){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len && types[i] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase NSM:\n\t\t\tlen = types.length;\n\t\t\ti = ix + 1;\n\t\t\twhile (i < len && types[i] == NSM){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len){\n\t\t\t\tvar c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n\t\t\t\t\n\t\t\t\twType = types[i];\n\t\t\t\tif (rtlCandidate && (wType == R || wType == AL)){\n\t\t\t\t\treturn R;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ix < 1 || (wType = types[ix - 1]) == B){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\treturn classes[ix - 1];\n\t\tcase B:\n\t\t\tlastArabic = false;\n\t\t\thasUBAT_B = true;\n\t\t\treturn dir;\n\t\tcase S:\n\t\t\thasUBAT_S = true;\n\t\t\treturn ON;\n\t\tcase LRE:\n\t\tcase RLE:\n\t\tcase LRO:\n\t\tcase RLO:\n\t\tcase PDF:\n\t\t\tlastArabic = false;\n\t\tcase BN:\n\t\t\treturn ON;\n\t}\n}\n\nfunction _getCharacterType( ch ) {\t\t\n\tvar uc = ch.charCodeAt(0), hi = uc >> 8;\n\t\n\tif (hi == 0) {\t\t\n\t\treturn ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n\t} else if (hi == 5) {\n\t\treturn (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n\t} else if (hi == 6) {\n\t\tif (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n\t\t\treturn NSM;\n\t\telse if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n\t\t\treturn AN;\n\t\telse if (uc == 0x066A)\n\t\t\treturn ET;\n\t\telse if (/[\\u06f0-\\u06f9]/.test(ch))\n\t\t\treturn EN;\t\t\t\n\t\telse\n\t\t\treturn AL;\n\t} else if (hi == 0x20 && uc <= 0x205F) {\n\t\treturn UnicodeTBL20[uc & 0xFF];\n\t} else if (hi == 0xFE) {\n\t\treturn (uc >= 0xFE70 ? AL : ON);\n\t}\t\t\n\treturn ON;\t\n}\n\nfunction _isArabicDiacritics( ch ) {\n\treturn (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\n\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function(text, textCharTypes, isRtl) {\n\tif (text.length < 2)\n\t\treturn {};\n\t\t\n\tvar chars = text.split(\"\"), logicalFromVisual = new Array(chars.length),\n\t\tbidiLevels = new Array(chars.length), levels = []; \n\n\tdir = isRtl ? RTL : LTR;\n\n\t_computeLevels(chars, levels, chars.length, textCharTypes);\n\n\tfor (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++);\n\n\t_invertLevel(2, levels, logicalFromVisual);\n\t_invertLevel(1, levels, logicalFromVisual);\n\n\tfor (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n\t\tif (textCharTypes[i] === AN) {\n\t\t\tlevels[i] = exports.AN;\n\t\t} else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE) \n\t\t\t|| textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n\t\t\tlevels[i] = exports.ON_R;\n\t\t} else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n\t\t\tlevels[i - 1] = levels[i] = exports.R_H;\n\t\t\ti++;\n\t\t}\n\t}\n\tif (chars[chars.length - 1] === exports.DOT)\n\t\tlevels[chars.length - 1] = exports.B;\n\t\t\t\t\n\tif (chars[0] === '\\u202B')\n\t\tlevels[0] = exports.RLE;\n\t\t\t\t\n\tfor (var i = 0; i < logicalFromVisual.length; i++) {\n\t\tbidiLevels[i] = levels[logicalFromVisual[i]];\n\t}\n\n\treturn {'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels};\n};\nexports.hasBidiCharacters = function(text, textCharTypes){\n\tvar ret = false;\n\tfor (var i = 0; i < text.length; i++){\n\t\ttextCharTypes[i] = _getCharacterType(text.charAt(i));\n\t\tif (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n\t\t\tret = true;\n\t}\n\treturn ret;\n};\t\nexports.getVisualFromLogicalIdx = function(logIdx, rowMap) {\n\tfor (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n\t\tif (rowMap.logicalFromVisual[i] == logIdx)\n\t\t\treturn i;\n\t}\n\treturn 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function(session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n\n(function() {\n    this.isBidiRow = function(screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n\n    this.onChange = function(delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        } \n        else {\n            this.currentRow = null;\n        }\n    };\n\n    this.getDocumentRow = function() {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n\n        return docRow;\n    };\n\n    this.getSplitIndex = function() {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        } else {\n            splitIndex = this.currentRow;\n        }\n\n        return splitIndex;\n    };\n\n    this.updateRowLine = function(docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n            \n        var isLastRow = (docRow === this.session.getLength() - 1),\n            endOfLine = isLastRow ? this.EOF : this.EOL;\n\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n\n                if(splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                            this.line.substring(splits[splits.length - 1]);\n                } else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n            }\n            if (splitIndex == splits.length)\n                this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n        } else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function(ch, i){\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    \n    this.updateBidiMap = function() {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n             this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        } else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function() {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function(fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n\n        this.currentRow = null;\n    };\n\n    this.setShowInvisibles = function(showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n\n    this.setEolChar = function(eolChar) {\n        this.EOL = eolChar; \n    };\n\n    this.setContentWidth = function(width) {\n        this.contentWidth = width;\n    };\n\n    this.isRtlLine = function(row) {\n        if (this.$isRtl) return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir; \n    };\n\n    this.setRtlDirection = function(editor, isRtlDir) {\n        var cursor = editor.getCursorPosition(); \n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({column: 0, row: row}, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function(col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap),\n            levels = this.bidiMap.bidiLevels, left = 0;\n\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n            \n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n\n        return left;\n    };\n    this.getSelections = function(startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0,\n            selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n                isSelected = false, isSelectedPrev = false, selectionStart = 0;\n            \n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            } else if (!isSelected && isSelectedPrev) {\n                selections.push({left: selectionStart, width: offset - selectionStart});\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({left: selectionStart, width: offset - selectionStart});\n        }\n\n        if(this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function(posX) {\n        if(this.isRtlDir)\n            posX -= this.rtlLineOffset;\n\n        var logicalIdx = 0, posX = Math.max(posX, 0),\n            offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels,\n                charWidth = this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n           posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n    \n        while(posX > offset + charWidth/2) {\n            offset += charWidth;\n            if(visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n    \n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)){\n            if(posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n\n        } else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)){\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                    : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n\n        } else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n                || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))){\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        } else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n\n        return (logicalIdx + this.wrapIndent);\n    };\n\n}).call(BidiHandler.prototype);\n\nexports.BidiHandler = BidiHandler;\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n\n    var self = this;\n    this.cursor.on(\"change\", function(e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.anchor.on(\"change\", function() {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        );\n    };\n    this.isMultiLine = function() {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.getAnchor = \n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        \n        return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        var start = reverse ? range.end : range.start;\n        var end = reverse ? range.start : range.end;\n        this.$setSelection(start.row, start.column, end.row, end.column);\n    };\n\n    this.$setSelection = function(anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length-1 == tabSize;\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            } else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            } else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        var offsetX;\n\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                } else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        \n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        \n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            \n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function(func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        } catch(e) {\n            return Range.fromPoints(start, start);\n        } finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", { \n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        \n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\") src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n        \n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    } else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    \n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n    \n    this.reportError = config.reportError;\n    \n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function(x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; ) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase(); \n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken; }\n            : function(value) {return keywords[value] || defaultToken; };\n    };\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n    this.getCurrentTokenPosition = function() {\n        return {row: this.$row, column: this.getCurrentTokenColumn()};\n    };\n    this.getCurrentTokenRange = function() {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n    \n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {};\nvar defaultQuotes = {'\"' : '\"', \"'\" : \"'\"};\n\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar getWrapped = function(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n                0,\n                selection.start.column + 1,\n                rowDiff,\n                selection.end.column + (rowDiff ? 0 : 1)\n            ]\n    };\n};\n\nvar CstyleBehaviour = function(options) {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) \n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            } else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                \n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                \n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                \n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                } else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote &&  (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1,1]\n                };\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar wordChars = [48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2];\n\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\n\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar config = require(\"../config\");\n\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n};\n\n(function() {\n    this.$defaultBehaviour = new CstyleBehaviour();\n\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            }(this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n            \n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n           position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n       throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n\nexports.applyDelta = function(docLines, delta, doNotValidate) {\n    \n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n    }\n};\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n            \n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    \n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n            \n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        \n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({row: 0, column: 0}, textOrLines);\n    } else {\n        this.insert({row: 0, column:0}, textOrLines);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    } else {\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function(position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        \n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        \n        return this.clonePos(end);\n    };\n    \n    this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    };\n    \n    this.clonePos = function(pos) {\n        return {row: pos.row, column: pos.column};\n    };\n    \n    this.pos = function(row, column) {\n        return {row: row, column: column};\n    };\n    \n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({row: row, column: column}, lines);\n    };    \n    this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        \n        return this.clonePos(end);\n    };\n    this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n        \n        return this.clonePos(start);\n    };\n    this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); \n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        \n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        \n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        \n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    \n    this.$safeApplyDelta = function(delta) {\n        var docLength = this.$lines.length;\n        if (\n            delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength\n        ) {\n            this.applyDelta(delta);\n        }\n    };\n    \n    this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row; \n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function(delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: index + lines[l-1].length + newlineLength};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        \n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (endLine == -1)\n            endLine = currentLine;\n        \n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.$updateOnChange = function(delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            cmp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n\n    this.split = function(row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        \n        if (!pos || pos.kind == \"inside\")\n            return null;\n            \n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        \n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n    this.$bias = 1;\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        \n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n    \n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    } else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        } else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                \n                if (r.start.row > endRow)\n                    break;\n                    \n                if (r.end.row < endRow\n                    && (\n                        startRow < r.end.row \n                        || startRow == r.end.row && start.column < r.end.column\n                    )\n                ) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                \n                if (r.start.row < endRow\n                    && (\n                        startRow < r.start.row \n                        || startRow == r.start.row && start.column < r.start.column\n                    )\n                ) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)  j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            } else if (end >= first){\n                if (start >= first) // fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        \n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function(subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null) expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        } else {\n            this.expandFolds(folds);\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    } else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            \n            if (test && !test(row)) continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    \n    this.foldToLevel = function(level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    \n    this.foldAllComments = function() {\n        var session = this;\n        this.foldAll(null, null, null, function(row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function(e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\n\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n    this.getMatchingBracketRanges = function(pos) {\n        var line = this.getLine(pos.row);\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        }\n\n        if (!match)\n            return null;\n\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n\n        return [startRange, endRange];\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    };\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\nEditSession.$uid = 0;\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            \n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        \n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        \n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        } else {\n            this.$syncInformUndoManager = function() {};\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        hasUndo: function() {},\n        hasRedo: function() {},\n        reset: function() {},\n        add: function() {},\n        addSelection: function() {},\n        startNewGroup: function() {},\n        addSession: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function() {\n        return this.$navigateWithinSoftTabs;\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            } else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n            \n        var oldMode = this.$mode;\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.on(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", {oldMode: oldMode, mode: mode});\n        }\n    };\n\n    this.$stopWorker = function() {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n\n    this.$startWorker = function() {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        } catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function(firstRow, lastRow){\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            } else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n\n        var range, point;\n\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start) continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                } else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            \n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            } else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.doc.insertInLine({row: row, column: 0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        \n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        \n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2) len -= 1;\n            }\n\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        \n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n\n    this.getRowWrapIndent = function(screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        } else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        \n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n        if (!this.$enableVarChar) return;\n        this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            \n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                } else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            \n            return [screenColumn, column];\n        };\n    };\n    \n    this.destroy = function() {\n        if (this.bgTokenizer) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer = null;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        this.selection.detach();\n    };\n\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    }\n\n}).call(EditSession.prototype);\n\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function() {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true \n    },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: {initialValue: false},\n    foldStyle: {\n        set: function(val) {this.setFoldStyle(val);},\n        handlesSet: true\n    },\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val);},\n        get: function() {return this.doc.getNewLineMode();},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val); },\n        get: function() { return this.$modeId; },\n        handlesSet: true\n    }\n});\n\nexports.EditSession = EditSession;\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)\n            ) {\n                firstRange = null;\n                return false;\n            }\n            \n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        return re;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        \n        if (backwards) {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        \n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function(row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0) return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1) return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset) return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function(row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length) break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function(row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row,last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length) return false;\n                    }\n                }\n            };\n        }\n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\n\nexports.Search = Search;\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\n\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\n\nMultiHashHandler.prototype = HashHandler.prototype;\n\n(function() {\n    \n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            } else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n\n    this.bindKey = function(key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({exec: command, bindKey: key, name: command.name || key});\n        \n        key.split(\"|\").forEach(function(keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function(keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    \n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position \n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function(keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        } else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        } else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            \n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function(keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x;});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        if (keyCode < 0) return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        \n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return {command: \"null\"};\n            }\n        }\n        \n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return {command: command};\n    };\n    \n    this.getStatusText = function(editor, data) {\n        return data.$keyChain || \"\";\n    };\n\n}).call(HashHandler.prototype);\n\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, MultiHashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--; ) {\n                if (this.exec(command[i], editor, args)) return true;\n            }\n            return false;\n        }\n\n        if (typeof command === \"string\")\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    description: \"Select all\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    description: \"Center selection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    description: \"Go to line...\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor, line) {\n        if (typeof line === \"number\" && !isNaN(line))\n            editor.gotoLine(line);\n        editor.prompt({ $type: \"gotoLine\" });\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    description: \"Fold all\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldAllComments\",\n    description: \"Fold all comments\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAllComments(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    description: \"Fold other\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    description: \"Unfold all\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    description: \"Find next\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    description: \"Find previous\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    description: \"Select or find next\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    description: \"Select or find previous\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    description: \"Find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor);});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    description: \"Overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    description: \"Select to start\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    description: \"Go to start\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    description: \"Select up\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    description: \"Go line up\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    description: \"Select to end\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    description: \"Go to end\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    description: \"Select down\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    description: \"Go line down\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    description: \"Select word left\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    description: \"Go to word left\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    description: \"Select to line start\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    description: \"Go to line start\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    description: \"Select left\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    description: \"Go to left\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    description: \"Select word right\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    description: \"Go to word right\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    description: \"Select to line end\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    description: \"Go to line end\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    description: \"Select right\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    description: \"Go to right\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    description: \"Select page down\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    description: \"Page down\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    description: \"Go to page down\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    description: \"Select page up\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    description: \"Page up\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    description: \"Go to page up\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    description: \"Scroll up\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    description: \"Scroll down\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    description: \"Select line start\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    description: \"Select line end\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    description: \"Toggle recording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    description: \"Replay macro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    description: \"Jump to matching\",\n    bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    description: \"Select to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"expandToMatching\",\n    description: \"Expand to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function(editor) { editor.jumpToMatching(true, true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"passKeysToBrowser\",\n    description: \"Pass keys to browser\",\n    bindKey: bindKey(null, null),\n    exec: function() {},\n    passEvent: true,\n    readOnly: true\n}, {\n    name: \"copy\",\n    description: \"Copy\",\n    exec: function(editor) {\n    },\n    readOnly: true\n},\n{\n    name: \"cut\",\n    description: \"Cut\",\n    exec: function(editor) {\n        var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n        var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n        editor._emit(\"cut\", range);\n\n        if (!range.isEmpty())\n            editor.session.remove(range);\n        editor.clearSelection();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"paste\",\n    description: \"Paste\",\n    exec: function(editor, args) {\n        editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removeline\",\n    description: \"Remove line\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    description: \"Duplicate selection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    description: \"Sort lines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    description: \"Toggle comment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    description: \"Toggle block comment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    description: \"Modify number up\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    description: \"Modify number down\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    description: \"Replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true);});\n    }\n}, {\n    name: \"undo\",\n    description: \"Undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    description: \"Redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    description: \"Copy lines up\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    description: \"Move lines up\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    description: \"Copy lines down\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    description: \"Move lines down\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    description: \"Delete\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    description: \"Backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    description: \"Cut or delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    description: \"Remove to line start\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    description: \"Remove to line end\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestarthard\",\n    description: \"Remove to line start hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.start.column = 0;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineendhard\",\n    description: \"Remove to line end hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.end.column = Number.MAX_VALUE;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    description: \"Remove word left\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    description: \"Remove word right\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    description: \"Outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    description: \"Indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    description: \"Block outdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    description: \"Block indent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    description: \"Insert string\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    description: \"Insert text\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    description: \"Split line\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    description: \"Transpose letters\",\n    bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    description: \"To uppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    description: \"To lowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"autoindent\",\n    description: \"Auto Indent\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) { editor.autoIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"animate\"\n}, {\n    name: \"expandtoline\",\n    description: \"Expand to line\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n\n        range.start.column = range.end.column = 0;\n        range.end.row++;\n        editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"joinlines\",\n    description: \"Join lines\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var isBackwards = editor.selection.isBackwards();\n        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n        var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n        var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n            if (curLine.length !== 0) {\n                curLine = \" \" + curLine;\n            }\n            insertLine += curLine;\n        }\n\n        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n            insertLine += editor.session.doc.getNewLineCharacter();\n        }\n\n        editor.clearSelection();\n        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n        if (selectedCount > 0) {\n            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n        } else {\n            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n        }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"invertSelection\",\n    description: \"Invert selection\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var endRow = editor.session.doc.getLength() - 1;\n        var endCol = editor.session.doc.getLine(endRow).length;\n        var ranges = editor.selection.rangeList.ranges;\n        var newRanges = [];\n        if (ranges.length < 1) {\n            ranges = [editor.selection.getRange()];\n        }\n\n        for (var i = 0; i < ranges.length; i++) {\n            if (i == (ranges.length - 1)) {\n                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                }\n            }\n\n            if (i === 0) {\n                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                }\n            } else {\n                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));\n            }\n        }\n\n        editor.exitMultiSelectMode();\n        editor.clearSelection();\n\n        for(var i = 0; i < newRanges.length; i++) {\n            editor.selection.addRange(newRanges[i], false);\n        }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n}, {\n    name: \"addLineAfter\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        editor.navigateLineEnd();\n        editor.insert(\"\\n\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"addLineBefore\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        var cursor = editor.getCursorPosition();\n        editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n        editor.insert(\"\\n\");\n        if (cursor.row === 0) editor.navigateUp();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"openCommandPallete\",\n    description: \"Open command pallete\",\n    bindKey: bindKey(\"F1\", \"F1\"),\n    exec: function(editor) {\n        editor.prompt({ $type: \"commands\" });\n    },\n    readOnly: true\n}, {\n    name: \"modeSelect\",\n    description: \"Change language mode...\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        editor.prompt({ $type: \"modes\" });\n    },\n    readOnly: true\n}];\n\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function(editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/clipboard\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\n\nvar clipboard = require(\"./clipboard\");\nvar Editor = function(renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n\n    this.keyBinding = new KeyBinding(this);\n\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        if (this.session && this.session.bgTokenizer)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\n\nEditor.$uid = 0;\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        \n        this.on(\"changeSelection\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n\n    this.endOperation = function(e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp) return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n        if (this.curOp) this.endOperation();\n        this.curOp = {};\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.onCursorChange();\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        } else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        this.curOp = null;\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n        \n        if (session && session.bgTokenizer)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function(id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var ranges = session.getMatchingBracketRanges(self.getCursorPosition());\n            if (!ranges && session.$mode.getMatching) \n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges)\n                return;\n\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            } else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function(range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n        }, 50);\n    };\n    this.$highlightTags = function() {\n        if (this.$highlightTagPending)\n            return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function() {\n            self.$highlightTagPending = false;\n            \n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            \n            var pos = self.getCursorPosition();\n            var iterator = new TokenIterator(self.session, pos.row, pos.column);\n            var token = iterator.getCurrentToken();\n            \n            if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            if (token.type.indexOf(\"tag-open\") !== -1) {\n                token = iterator.stepForward();\n                if (!token)\n                    return;\n            }\n            \n            var tag = token.value;\n            var currentTag = token.value;\n            var depth = 0;\n            var prevToken = iterator.stepBackward();\n            \n            if (prevToken.value === '<'){\n                do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            currentTag = token.value;\n                            if (tag === currentTag) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (tag === currentTag && token.value === '/>') { // self closing tag\n                            depth--;\n                        }\n                    }\n                    \n                } while (token && depth >= 0);\n            } else {\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            if (tag === token.value) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (token.value === '/>') { // self closing tag\n                            var stepCount = 0;\n                            var tmpToken = prevToken;\n                            while (tmpToken) {\n                                if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                                    depth--;\n                                    break;\n                                } else if (tmpToken.value === '<') {\n                                    break;\n                                }\n                                tmpToken = iterator.stepBackward();\n                                stepCount++;\n                            }\n                            for (var i = 0; i < stepCount; i++) {\n                                iterator.stepForward();\n                            }\n                        }\n                    }\n                } while (prevToken && depth <= 0);\n                iterator.stepForward();\n            }\n            \n            if (!token) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn();\n            var range = new Range(row, column, row, column+token.value.length);\n            var sbm = session.$backMarkers[session.$tagHighlight];\n            if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n            }\n            \n            if (!session.$tagHighlight)\n                session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            if (!_self.isFocused())\n                _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function(e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function(e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n    };\n    this.onDocumentChange = function(delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        \n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        \n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        \n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine= false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = {text: text};\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : \"\";\n        return e.text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text, event) {\n        var e = {text: text, event: event};\n        this.commands.exec(\"paste\", this, e);\n    };\n    \n    this.$handlePaste = function(e) {\n        if (typeof e == \"string\") \n            e = {text: e};\n        this._signal(\"paste\", e);\n        var text = e.text;\n\n        var lineMode = text == clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        } else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function(range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        } else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n    \n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n    \n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n    \n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n\n    this.execCommand = function(command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n                session.insert({row: cursor.row+1, column: 0}, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n\n    this.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n\n        var startRow, endRow;\n        if (this.selection.isEmpty()) {\n            startRow = 0;\n            endRow = session.doc.getLength() - 1;\n        } else {\n            var selectedRange = this.getSelectionRange();\n\n            startRow = selectedRange.start.row;\n            endRow = selectedRange.end.row;\n        }\n\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var line, currIndent, range;\n        var tab = session.getTabString();\n\n        for (var row = startRow; row <= endRow; row++) {\n            if (row > 0) {\n                prevLineState = session.getState(row - 1);\n                prevLine = session.getLine(row - 1);\n                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n            }\n\n            line = session.getLine(row);\n            currIndent = mode.$getIndent(line);\n            if (lineIndent !== currIndent) {\n                if (currIndent.length > 0) {\n                    range = new Range(row, 0, row, currIndent.length);\n                    session.remove(range);\n                }\n                if (lineIndent.length > 0) {\n                    session.insert({row: row, column: 0}, lineIndent);\n                }\n            }\n\n            mode.autoOutdent(prevLineState, session, row);\n        }\n    };\n\n\n    this.onTextInput = function(text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        \n        this.startOperation({command: { name: \"insertstring\" }});\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    \n    this.applyComposition = function(text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        } else {\n            this.toggleWord();\n        }\n    };\n\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0) delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function(dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1) moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            \n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1) rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy) diff = 0;\n                totalDiff += diff;\n            }\n            \n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function(range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n\n        if (!token) return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        \n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                        break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                \n                if (prevToken.value === '<') {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                \n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n\n            if (!found) {\n                prevToken = token;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1,\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1\n                );\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (token && token.type.indexOf('tag-name') !== -1) \n                var tag = token.value;\n            else\n                return;\n\n            range = new Range(\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2,\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2\n            );\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                found = false;\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (prevToken) {\n                        if (prevToken.type.indexOf('tag-close') !== -1) {\n                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                        }\n\n                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth[tag]++;\n                            }\n                            else if (prevToken.value === '</') {\n                                depth[tag]--;\n                            }\n                            \n                            if (depth[tag] === 0)\n                                found = true;\n                        }\n                    }\n                } while (prevToken && !found);\n            }\n            if (token && token.type.indexOf('tag-name')) {\n                pos = range.start;\n                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    pos = range.end;\n            }\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                } else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                } else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function(el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())\n            ) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function(message, options, callback) {\n        var editor = this;\n        config.loadModule(\"./ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function(value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    enableAutoIndent: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val);}\n    },\n    keyboardHandler: {\n        set: function(val) { this.setKeyboardHandler(val); },\n        get: function() { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function(val) { this.session.setValue(val); },\n        get: function() { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function(val) { this.setSession(val); },\n        get: function() { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    \n    showLineNumbers: {\n        set: function(show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function(value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function(message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function() {\n                    var value = this.session && (this.renderer.$composition || this.getValue());\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    } else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    } else if (!value && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\n\nvar relativeNumberRenderer = {\n    getText: function(session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function(session, lastLineNumber, config) {\n        return Math.max(\n            lastLineNumber.toString().length,\n            (config.lastRow + 1).toString().length,\n            2\n        ) * config.characterWidth;\n    },\n    update: function(e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function(editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function(editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\n\nexports.Editor = Editor;\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar UndoManager = function() {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.reset();\n};\n\n(function() {\n    \n    this.addSession = function(session) {\n        this.$session = session;\n    };\n    this.add = function(delta, allowMerge, session) {\n        if (this.$fromUndo) return;\n        if (delta == this.$lastDelta) return;\n        if (!this.$keepRedoStack) this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    \n    this.addSelection = function(selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    \n    this.startNewGroup = function() {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    \n    this.markIgnored = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    \n    this.getSelection = function(rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    \n    this.getRevision = function() {\n        return this.$rev;\n    };\n    \n    this.getDeltas = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i+1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    \n    this.getChangedRanges = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    \n    this.getChangedLines = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    this.undo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        \n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        \n        if (!session)\n            session = this.$session;\n        \n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        \n        this.$fromUndo = true;\n        \n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        \n        this.$fromUndo = false;\n\n        return undoSelectionRange;\n    };\n    this.redo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        \n        if (!session)\n            session = this.$session;\n        \n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function(x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        \n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        \n        return redoSelectionRange;\n    };\n    \n    this.$syncRev = function() {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function() {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function(rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function() {\n        return this.$rev === this.mark;\n    };\n    \n    this.toJSON = function() {\n        \n    };\n    \n    this.fromJSON = function() {\n        \n    };\n    \n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    \n    this.$prettyPrint = function(delta) {\n        if (delta) return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\n\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--; ) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while(i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\n\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\n\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert) end = start;\n\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\n\n\n\nfunction clonePos(pos) {\n    return {row: pos.row,column: pos.column};\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    } else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        } else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column \n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\n\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--; ) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }                \n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore = \n    ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        } else {\n            shift(d1, c1, 1);\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        } else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        } else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    } else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        } else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        } else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\n    \nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);    \n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    \n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col)   ; \n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\n\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                } else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1); \n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\n\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Lines = function(element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    \n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n\n(function() {\n    \n    this.moveContainer = function(config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };    \n    \n    this.pageChanged = function(oldConfig, newConfig) {\n        return (\n            Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight)\n        );\n    };\n    \n    this.computeLineTop = function(row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    \n    this.computeLineHeight = function(row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    \n    this.getLength = function() {\n        return this.cells.length;\n    };\n    \n    this.get = function(index) {\n        return this.cells[index];\n    };\n    \n    this.shift = function() {\n        this.$cacheCell(this.cells.shift());\n    };\n    \n    this.pop = function() {\n        this.$cacheCell(this.cells.pop());\n    };\n    \n    this.push = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        } else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    \n    this.unshift = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        } else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    \n    this.last = function() {\n        if (this.cells.length)\n            return this.cells[this.cells.length-1];\n        else\n            return null;\n    };\n    \n    this.$cacheCell = function(cell) {\n        if (!cell)\n            return;\n            \n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    \n    this.createCell = function(row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            \n            this.element.appendChild(element);\n            \n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        \n        return cell;\n    };\n    \n}).call(Lines.prototype);\n\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    \n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        this.config = config;\n        \n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n            \n        this.oldLastRow = lastRow;\n        this.config = config;\n        \n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n            \n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        \n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                    \n                break;\n            }\n\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            } else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$updateGutterWidth = function(config) {\n        var session = this.session;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        \n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        \n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width = \n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    \n    this.$updateCursorRow = function() {\n        if (!this.$highlightGutterLine)\n            return;\n            \n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        \n        this.$cursorRow = position.row;\n    };\n    \n    this.updateLineHighlight = function() {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    \n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n        \n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        \n        this.$lines.moveContainer(config);\n\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        \n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldLastRow > lastRow)\n            for (var row=this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        \n        this.updateLineHighlight();\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$renderLines = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n\n            row++;\n        }\n        return fragment;\n    };\n    \n    this.$renderCell = function(cell, config, fold, row) {\n        var element = cell.element;\n        \n        var session = this.session;\n        \n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n\n        var firstLineNumber = session.$firstLineNumber;\n        \n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        \n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart &&  this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        \n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        } else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        \n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n            \n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        \n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        \n        cell.text = text;\n        return cell;\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function(highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return 0;},\n            getText: function() {return \"\";}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    \n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    \n    return element;\n}\n\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n    \n    this.elt = function(className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        } else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n\n    this.update = function(config) {\n        if (!config) return;\n\n        this.config = config;\n\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i !=-1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0; \n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, \n                clazz + (row == start  ? \" ace_start\" : \"\") + \" ace_br\"\n                    + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end),\n                layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n           var range1 = range.clone();\n           range1.end.row = range1.start.row;\n           range1.end.column = this.session.getLine(range1.start.row).length;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        } else {\n            this.elt(\n                clazz + \" ace_br1 ace_start\",\n                \"height:\"+ height+ \"px;\"+ \"right:0;\"+ \"top:\"+top+ \"px;left:\"+ left+ \"px;\" + (extraStyle || \"\")\n            );\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n           var range1 = range.clone();\n           range1.start.row = range1.end.row;\n           range1.start.column = 0;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        } else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n\n            this.elt(\n                clazz + \" ace_br12\",\n                \"height:\"+ height+ \"px;\"+\n                \"width:\"+ width+ \"px;\"+\n                \"top:\"+ top+ \"px;\"+\n                \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n            );\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        \n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n        this.elt(\n            clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"),\n            \"height:\"+ height+ \"px;\"+\n            \"right:0;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"width:\"+ width+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ left+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n\n        selections.forEach(function(selection) {\n            this.elt(\n                clazz,\n                \"height:\" + height + \"px;\" +\n                \"width:\" + selection.width + (extraLength || 0) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\")\n            );\n        }, this);\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.dom = dom; \n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n\n    this.$updateEolChar = function() {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        } else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showTabs) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_tab\";\n                span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                tabStr.push(span);\n            } else {\n                tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n            var spaceContent = this.showSpaces\n                ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                : lang.stringRepeat(\" \", this.tabSize);\n\n            var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n            var tabContent = this.showTabs \n                ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                : spaceContent;\n\n            var span = this.dom.createElement(\"span\");\n            span.className = className + spaceClass;\n            span.textContent = spaceContent;\n            this.$tabStrings[\" \"] = span;\n            \n            var span = this.dom.createElement(\"span\");\n            span.className = className + tabClass;\n            span.textContent = tabContent;\n            this.$tabStrings[\"\\t\"] = span;\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        \n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(\n                    lineElement, row, row == foldStart ? foldLine : false\n                );\n\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n            \n        this.$lines.moveContainer(config);\n        \n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var line = this.$lines.createCell(row, config, this.session);\n            \n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            } else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.$lines.moveContainer(config);\n        \n        this.config = config;\n\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n            \n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        \n        var valueFragment = this.dom.createFragment(this.element);\n\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            \n            if (!self.showSpaces && simpleSpace)\n                continue;\n\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n\n            i = m.index + m[0].length;\n            \n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n                \n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            } else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                } else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            } else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            } else if (cjkSpace) {\n                screenColumn += 1;\n                \n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            } else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        \n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n                \n            span.className = classes;\n            span.appendChild(valueFragment);\n            \n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        \n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols/this.tabSize;\n            for (var i=0; i<count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            for (var i=0; i<cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$createLineElement = function(parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        \n        return lineEl;\n    };\n\n    this.$renderWrappedLine = function(parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        \n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn, token, value\n                    );\n                }\n            }\n        }\n        \n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n\n    this.$renderSimpleLine = function(parent, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(parent, value);\n        if (value)\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    \n    this.$renderOverflowMessage = function(parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token,\n            value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n            \n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        \n        parent.appendChild(overflowEl);        \n    };\n    this.$renderLine = function(parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            } else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        } else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            \n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {};\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n\n(function() {\n    \n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n\n    this.$startCssAnimation = function() {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n\n        setTimeout(function() {\n            dom.addCssClass(this.element, \"ace_animate-blinking\");\n        }.bind(this));\n    };\n    \n    this.$stopCssAnimation = function() {\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        } else {\n            var blink = function(){\n                this.timeoutId = setTimeout(function() {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n    \n            this.intervalId = setInterval(function() {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.isCursorInView = function(pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            \n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                } else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            } else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    \n    this.drawCursor = null;\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight = \n    this.setScrollHeight = function(height) {\n        this.scrollHeight = height;\n        if (height > MAX_SCROLL_H) {\n            this.coeff = MAX_SCROLL_H / height;\n            height = MAX_SCROLL_H;\n        } else if (this.coeff != 1) {\n            this.coeff = 1;\n        }\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function(ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        \n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0) return;\n            _self.schedule();\n        } else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n\n(function() {\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n\n    this.clear = function(change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 256;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    \n    \n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        } else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function(size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n    \n    this.$addObserver = function() {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function(e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        \n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n\n    this.$measureSizes = function(node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n    \n    this.$getZoom = function getZoom(element) {\n        if (!element || !element.parentElement) return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function() {\n        var t = function(t, l) {\n            return [\"div\", {\n                style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n            }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function(clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        \n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        \n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return  add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n    \n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \"\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\npadding: 0;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\ncontain: style size layout;\\\nfont-variant-ligatures: no-common-ligatures;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncontain: style size layout;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\ncontain: strict;\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ncontain: strict;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: transparent;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\n}\\\n.ace_composition_placeholder { color: transparent }\\\n.ace_composition_marker { \\\nborder-bottom: 1px solid;\\\nposition: absolute;\\\nborder-radius: 0;\\\nmargin-top: 1px;\\\n}\\\n[ace_nocontext=true] {\\\ntransform: none!important;\\\nfilter: none!important;\\\nclip-path: none!important;\\\nmask : none!important;\\\ncontain: none!important;\\\nperspective: none!important;\\\nmix-blend-mode: initial!important;\\\nz-index: auto;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\nheight: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\nposition: absolute;\\\nheight: 1000000px;\\\nwidth: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\\ncontain: style size layout;\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_hidpi .ace_text-layer,\\\n.ace_hidpi .ace_gutter-layer,\\\n.ace_hidpi .ace_content,\\\n.ace_hidpi .ace_gutter {\\\ncontain: strict;\\\nwill-change: transform;\\\n}\\\n.ace_hidpi .ace_text-layer > .ace_line, \\\n.ace_hidpi .ace_text-layer > .ace_line_group {\\\ncontain: strict;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\\nopacity: 0;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_animate-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: step-end;\\\nanimation-name: blink-ace-animate;\\\nanimation-iteration-count: infinite;\\\n}\\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: ease-in-out;\\\nanimation-name: blink-ace-animate-smooth;\\\n}\\\n@keyframes blink-ace-animate {\\\nfrom, to { opacity: 1; }\\\n60% { opacity: 0; }\\\n}\\\n@keyframes blink-ace-animate-smooth {\\\nfrom, to { opacity: 1; }\\\n45% { opacity: 1; }\\\n60% { opacity: 0; }\\\n85% { opacity: 0; }\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_error_bracket {\\\nposition: absolute;\\\nborder-bottom: 1px solid #DE5555;\\\nborder-radius: 0;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_inline_button {\\\nborder: 1px solid lightgray;\\\ndisplay: inline-block;\\\nmargin: -1px 8px;\\\npadding: 0 5px;\\\npointer-events: auto;\\\ncursor: pointer;\\\n}\\\n.ace_inline_button:hover {\\\nborder-color: gray;\\\nbackground: rgba(200,200,200,0.2);\\\ndisplay: inline-block;\\\npointer-events: auto;\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_mobile-menu {\\\nposition: absolute;\\\nline-height: 1.5;\\\nborder-radius: 4px;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\nbackground: white;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #dcdcdc;\\\ncolor: black;\\\n}\\\n.ace_dark > .ace_mobile-menu {\\\nbackground: #333;\\\ncolor: #ccc;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #444;\\\n}\\\n.ace_mobile-button {\\\npadding: 2px;\\\ncursor: pointer;\\\noverflow: hidden;\\\n}\\\n.ace_mobile-button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_mobile-button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_placeholder {\\\nfont-family: arial;\\\ntransform: scale(0.9);\\\ntransform-origin: left;\\\nwhite-space: pre;\\\nopacity: 0.7;\\\nmargin: 0 10px;\\\n}\";\n\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\n\ndom.importCssString(editorCss, \"ace_editor.css\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI) dom.addCssClass(this.container, \"ace_hidpi\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    \n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        \n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            \n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function(width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (this.$isMousePressed) return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        \n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        \n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft += this.gutterWidth + this.margin.left;\n\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    \n    this.setMargin = function(top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\", changes);\n        \n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            \n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            \n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            \n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\", changes);\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, \n            Math.max((this.$minLines || 1) * this.lineHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        \n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            \n            this._signal(\"autosize\");\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        \n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        \n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height : this.$size.scrollerHeight\n        };\n\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        if (!this.$changedLines) return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n            \n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset && scrollTop + topMargin > top + this.lineHeight)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top -  this.lineHeight)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (!_self.session) \n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        \n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX:  offsetX};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n             ? this.session.$bidiHandler.getPosLeft(pos.column)\n             : Math.round(pos.column * this.characterWidth));\n        \n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        \n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function(text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n        \n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    \n    this.addToken = function(text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = {type: type, value: text};\n        var tokens = session.getTokens(row);\n        if (column == null) {\n            tokens.push(newToken);\n        } else {\n            var l = 0;\n            for (var i =0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n    \n                    tokens.splice(i, 1, {type: token.type, value: before},  newToken,  {type: token.type, value: after});\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n\n    this.removeExtraToken = function(row, column) {\n        this.updateLines(row, row);\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    \n    this.attachToShadowRoot = function() {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function() {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function(val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val); },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {\n    },\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        \n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if (this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if (!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n            \n        var range = delta;\n        if (range.start.row !== range.end.row) return;\n        if (range.start.row !== this.pos.row) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        \n        this.updateAnchors(delta);\n        \n        if (inMainRange)\n            this.length += lengthDiff;\n\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            } else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        \n        this.$updating = false;\n        this.updateMarkers();\n    };\n    \n    this.updateAnchors = function(delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    \n    this.updateMarkers = function() {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function(pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column+_self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating || !this.session) return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function() {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    \n    if (ctrl && useragent.isMac)\n        button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    \n    if (button !== 0)\n        return;\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    \n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    } else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        } else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    \n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        editor.inVirtualSelectionMode = true;\n        \n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                } else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n\n    } else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;        \n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function() {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            \n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        } else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        \n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);            \n        else\n            selection.moveToPosition(pos);\n        \n        screenCursor = {row: -1, column: -1};\n\n        var onMouseSelectionEnd = function(e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    description: \"Add cursor above\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelow\",\n    description: \"Add cursor below\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    description: \"Add cursor above (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    description: \"Add cursor below (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreBefore\",\n    description: \"Select more before\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreAfter\",\n    description: \"Select more after\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextBefore\",\n    description: \"Select next before\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextAfter\",\n    description: \"Select next after\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"toggleSplitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) {\n        if (editor.multiSelect.rangeCount > 1)\n            editor.multiSelect.joinSelections();\n        else\n            editor.multiSelect.splitIntoLines();\n    },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readOnly: true\n}, {\n    name: \"splitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    readOnly: true\n}, {\n    name: \"alignCursors\",\n    description: \"Align cursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"},\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"findAll\",\n    description: \"Find all\",\n    exec: function(editor) { editor.findAll(); },\n    bindKey: {win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    description: \"Single selection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode;}\n}];\n\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module) {\n\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            } else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    \n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn, startOffsetX),\n                this.session.screenToDocumentPosition(row, endColumn, endOffsetX)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        \n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    \n    this.$checkMultiselectChange = function(e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row \n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }    \n        this.$search.set(options);\n        \n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        \n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function(dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function(r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        \n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            sameRowRanges.forEach(function(r) {\n                sel.substractPoint(r.cursor);\n            });\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    if (!editor.textInput) return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    }, editor);\n\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function(val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\nexports.$id = \"ace/theme/textmate\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"./lib/dom\");\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.$onChangeEditor = function(e) {\n        this.attach(e.editor);\n    };\n    \n    this.attach = function(editor) {\n        if (editor  && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function(e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnFold = function(e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            } else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    \n    this.updateOnChange = function(delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        \n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.$registerLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n            \n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    \n    this.addLineWidget = function(w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        \n        if (!this.editor) return w;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            \n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        \n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n            \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            } else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.getWidgetsAtRow = function(row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.session != this.session) continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            \n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            \n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\n\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\n\nexports.config = require(\"./config\");\nexports.require = require;\n\nif (typeof define === \"function\")\n    exports.define = define;\nexports.edit = function(el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n\n    var doc = exports.createEditSession(value);\n\n    var editor = new Editor(new Renderer(el), doc, options);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        ","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.debounce = exports.editorEvents = exports.editorOptions = void 0;\nvar editorOptions = ['minLines', 'maxLines', 'readOnly', 'highlightActiveLine', 'tabSize', 'enableBasicAutocompletion', 'enableLiveAutocompletion', 'enableSnippets'];\nexports.editorOptions = editorOptions;\nvar editorEvents = ['onChange', 'onFocus', 'onInput', 'onBlur', 'onCopy', 'onPaste', 'onSelectionChange', 'onCursorChange', 'onScroll', 'handleOptions', 'updateRef'];\nexports.editorEvents = editorEvents;\n\nvar debounce = function debounce(fn, delay) {\n  var timer = null;\n  return function () {\n    var context = this,\n        args = arguments;\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(context, args);\n    }, delay);\n  };\n};\n\nexports.debounce = debounce;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _aceBuilds = _interopRequireWildcard(require(\"ace-builds\"));\n\nvar _extSplit = require(\"ace-builds/src-noconflict/ext-split\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.isequal\"));\n\nvar _lodash2 = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _editorOptions = require(\"./editorOptions.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar SplitComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SplitComponent, _Component);\n\n  function SplitComponent(props) {\n    var _this;\n\n    _classCallCheck(this, SplitComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SplitComponent).call(this, props));\n\n    _editorOptions.editorEvents.forEach(function (method) {\n      _this[method] = _this[method].bind(_assertThisInitialized(_this));\n    });\n\n    _this.debounce = _editorOptions.debounce;\n    return _this;\n  }\n\n  _createClass(SplitComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          onBeforeLoad = _this$props.onBeforeLoad,\n          mode = _this$props.mode,\n          focus = _this$props.focus,\n          theme = _this$props.theme,\n          fontSize = _this$props.fontSize,\n          value = _this$props.value,\n          defaultValue = _this$props.defaultValue,\n          cursorStart = _this$props.cursorStart,\n          showGutter = _this$props.showGutter,\n          wrapEnabled = _this$props.wrapEnabled,\n          showPrintMargin = _this$props.showPrintMargin,\n          _this$props$scrollMar = _this$props.scrollMargin,\n          scrollMargin = _this$props$scrollMar === void 0 ? [0, 0, 0, 0] : _this$props$scrollMar,\n          keyboardHandler = _this$props.keyboardHandler,\n          onLoad = _this$props.onLoad,\n          commands = _this$props.commands,\n          annotations = _this$props.annotations,\n          markers = _this$props.markers,\n          splits = _this$props.splits;\n      this.editor = _aceBuilds[\"default\"].edit(this.refEditor);\n\n      if (onBeforeLoad) {\n        onBeforeLoad(_aceBuilds[\"default\"]);\n      }\n\n      var editorProps = Object.keys(this.props.editorProps);\n      var split = new _extSplit.Split(this.editor.container, \"ace/theme/\".concat(theme), splits);\n      this.editor.env.split = split;\n      this.splitEditor = split.getEditor(0);\n      this.split = split; // in a split scenario we don't want a print margin for the entire application\n\n      this.editor.setShowPrintMargin(false);\n      this.editor.renderer.setShowGutter(false); // get a list of possible options to avoid 'misspelled option errors'\n\n      var availableOptions = this.splitEditor.$options;\n\n      if (this.props.debounceChangePeriod) {\n        this.onChange = this.debounce(this.onChange, this.props.debounceChangePeriod);\n      }\n\n      split.forEach(function (editor, index) {\n        for (var i = 0; i < editorProps.length; i++) {\n          editor[editorProps[i]] = _this2.props.editorProps[editorProps[i]];\n        }\n\n        var defaultValueForEditor = (0, _lodash2[\"default\"])(defaultValue, index);\n        var valueForEditor = (0, _lodash2[\"default\"])(value, index, \"\");\n        editor.session.setUndoManager(new _aceBuilds.UndoManager());\n        editor.setTheme(\"ace/theme/\".concat(theme));\n        editor.renderer.setScrollMargin(scrollMargin[0], scrollMargin[1], scrollMargin[2], scrollMargin[3]);\n        editor.getSession().setMode(\"ace/mode/\".concat(mode));\n        editor.setFontSize(fontSize);\n        editor.renderer.setShowGutter(showGutter);\n        editor.getSession().setUseWrapMode(wrapEnabled);\n        editor.setShowPrintMargin(showPrintMargin);\n        editor.on(\"focus\", _this2.onFocus);\n        editor.on(\"blur\", _this2.onBlur);\n        editor.on(\"input\", _this2.onInput);\n        editor.on(\"copy\", _this2.onCopy);\n        editor.on(\"paste\", _this2.onPaste);\n        editor.on(\"change\", _this2.onChange);\n        editor.getSession().selection.on(\"changeSelection\", _this2.onSelectionChange);\n        editor.getSession().selection.on(\"changeCursor\", _this2.onCursorChange);\n        editor.session.on(\"changeScrollTop\", _this2.onScroll);\n        editor.setValue(defaultValueForEditor === undefined ? valueForEditor : defaultValueForEditor, cursorStart);\n        var newAnnotations = (0, _lodash2[\"default\"])(annotations, index, []);\n        var newMarkers = (0, _lodash2[\"default\"])(markers, index, []);\n        editor.getSession().setAnnotations(newAnnotations);\n\n        if (newMarkers && newMarkers.length > 0) {\n          _this2.handleMarkers(newMarkers, editor);\n        }\n\n        for (var _i = 0; _i < _editorOptions.editorOptions.length; _i++) {\n          var option = _editorOptions.editorOptions[_i];\n\n          if (Object.prototype.hasOwnProperty.call(availableOptions, option)) {\n            editor.setOption(option, _this2.props[option]);\n          } else if (_this2.props[option]) {\n            console.warn(\"ReaceAce: editor option \".concat(option, \" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?\"));\n          }\n        }\n\n        _this2.handleOptions(_this2.props, editor);\n\n        if (Array.isArray(commands)) {\n          commands.forEach(function (command) {\n            if (typeof command.exec == \"string\") {\n              editor.commands.bindKey(command.bindKey, command.exec);\n            } else {\n              editor.commands.addCommand(command);\n            }\n          });\n        }\n\n        if (keyboardHandler) {\n          editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n        }\n      });\n\n      if (className) {\n        this.refEditor.className += \" \" + className;\n      }\n\n      if (focus) {\n        this.splitEditor.focus();\n      }\n\n      var sp = this.editor.env.split;\n      sp.setOrientation(this.props.orientation === \"below\" ? sp.BELOW : sp.BESIDE);\n      sp.resize(true);\n\n      if (onLoad) {\n        onLoad(sp);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      var oldProps = prevProps;\n      var nextProps = this.props;\n      var split = this.editor.env.split;\n\n      if (nextProps.splits !== oldProps.splits) {\n        split.setSplits(nextProps.splits);\n      }\n\n      if (nextProps.orientation !== oldProps.orientation) {\n        split.setOrientation(nextProps.orientation === \"below\" ? split.BELOW : split.BESIDE);\n      }\n\n      split.forEach(function (editor, index) {\n        if (nextProps.mode !== oldProps.mode) {\n          editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n        }\n\n        if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n          if (nextProps.keyboardHandler) {\n            editor.setKeyboardHandler(\"ace/keyboard/\" + nextProps.keyboardHandler);\n          } else {\n            editor.setKeyboardHandler(null);\n          }\n        }\n\n        if (nextProps.fontSize !== oldProps.fontSize) {\n          editor.setFontSize(nextProps.fontSize);\n        }\n\n        if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n          editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n        }\n\n        if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n          editor.setShowPrintMargin(nextProps.showPrintMargin);\n        }\n\n        if (nextProps.showGutter !== oldProps.showGutter) {\n          editor.renderer.setShowGutter(nextProps.showGutter);\n        }\n\n        for (var i = 0; i < _editorOptions.editorOptions.length; i++) {\n          var option = _editorOptions.editorOptions[i];\n\n          if (nextProps[option] !== oldProps[option]) {\n            editor.setOption(option, nextProps[option]);\n          }\n        }\n\n        if (!(0, _lodash[\"default\"])(nextProps.setOptions, oldProps.setOptions)) {\n          _this3.handleOptions(nextProps, editor);\n        }\n\n        var nextValue = (0, _lodash2[\"default\"])(nextProps.value, index, \"\");\n\n        if (editor.getValue() !== nextValue) {\n          // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n          _this3.silent = true;\n          var pos = editor.session.selection.toJSON();\n          editor.setValue(nextValue, nextProps.cursorStart);\n          editor.session.selection.fromJSON(pos);\n          _this3.silent = false;\n        }\n\n        var newAnnotations = (0, _lodash2[\"default\"])(nextProps.annotations, index, []);\n        var oldAnnotations = (0, _lodash2[\"default\"])(oldProps.annotations, index, []);\n\n        if (!(0, _lodash[\"default\"])(newAnnotations, oldAnnotations)) {\n          editor.getSession().setAnnotations(newAnnotations);\n        }\n\n        var newMarkers = (0, _lodash2[\"default\"])(nextProps.markers, index, []);\n        var oldMarkers = (0, _lodash2[\"default\"])(oldProps.markers, index, []);\n\n        if (!(0, _lodash[\"default\"])(newMarkers, oldMarkers) && Array.isArray(newMarkers)) {\n          _this3.handleMarkers(newMarkers, editor);\n        }\n      });\n\n      if (nextProps.className !== oldProps.className) {\n        var appliedClasses = this.refEditor.className;\n        var appliedClassesArray = appliedClasses.trim().split(\" \");\n        var oldClassesArray = oldProps.className.trim().split(\" \");\n        oldClassesArray.forEach(function (oldClass) {\n          var index = appliedClassesArray.indexOf(oldClass);\n          appliedClassesArray.splice(index, 1);\n        });\n        this.refEditor.className = \" \" + nextProps.className + \" \" + appliedClassesArray.join(\" \");\n      }\n\n      if (nextProps.theme !== oldProps.theme) {\n        split.setTheme(\"ace/theme/\" + nextProps.theme);\n      }\n\n      if (nextProps.focus && !oldProps.focus) {\n        this.splitEditor.focus();\n      }\n\n      if (nextProps.height !== this.props.height || nextProps.width !== this.props.width) {\n        this.editor.resize();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.editor.destroy();\n      this.editor = null;\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(event) {\n      if (this.props.onChange && !this.silent) {\n        var value = [];\n        this.editor.env.split.forEach(function (editor) {\n          value.push(editor.getValue());\n        });\n        this.props.onChange(value, event);\n      }\n    }\n  }, {\n    key: \"onSelectionChange\",\n    value: function onSelectionChange(event) {\n      if (this.props.onSelectionChange) {\n        var value = [];\n        this.editor.env.split.forEach(function (editor) {\n          value.push(editor.getSelection());\n        });\n        this.props.onSelectionChange(value, event);\n      }\n    }\n  }, {\n    key: \"onCursorChange\",\n    value: function onCursorChange(event) {\n      if (this.props.onCursorChange) {\n        var value = [];\n        this.editor.env.split.forEach(function (editor) {\n          value.push(editor.getSelection());\n        });\n        this.props.onCursorChange(value, event);\n      }\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus(event) {\n      if (this.props.onFocus) {\n        this.props.onFocus(event);\n      }\n    }\n  }, {\n    key: \"onInput\",\n    value: function onInput(event) {\n      if (this.props.onInput) {\n        this.props.onInput(event);\n      }\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(event) {\n      if (this.props.onBlur) {\n        this.props.onBlur(event);\n      }\n    }\n  }, {\n    key: \"onCopy\",\n    value: function onCopy(text) {\n      if (this.props.onCopy) {\n        this.props.onCopy(text);\n      }\n    }\n  }, {\n    key: \"onPaste\",\n    value: function onPaste(text) {\n      if (this.props.onPaste) {\n        this.props.onPaste(text);\n      }\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll() {\n      if (this.props.onScroll) {\n        this.props.onScroll(this.editor);\n      }\n    }\n  }, {\n    key: \"handleOptions\",\n    value: function handleOptions(props, editor) {\n      var setOptions = Object.keys(props.setOptions);\n\n      for (var y = 0; y < setOptions.length; y++) {\n        editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n      }\n    }\n  }, {\n    key: \"handleMarkers\",\n    value: function handleMarkers(markers, editor) {\n      // remove foreground markers\n      var currentMarkers = editor.getSession().getMarkers(true);\n\n      for (var i in currentMarkers) {\n        if (Object.prototype.hasOwnProperty.call(currentMarkers, i)) {\n          editor.getSession().removeMarker(currentMarkers[i].id);\n        }\n      } // remove background markers\n\n\n      currentMarkers = editor.getSession().getMarkers(false);\n\n      for (var _i2 in currentMarkers) {\n        if (Object.prototype.hasOwnProperty.call(currentMarkers, _i2)) {\n          editor.getSession().removeMarker(currentMarkers[_i2].id);\n        }\n      } // add new markers\n\n\n      markers.forEach(function (_ref) {\n        var startRow = _ref.startRow,\n            startCol = _ref.startCol,\n            endRow = _ref.endRow,\n            endCol = _ref.endCol,\n            className = _ref.className,\n            type = _ref.type,\n            _ref$inFront = _ref.inFront,\n            inFront = _ref$inFront === void 0 ? false : _ref$inFront;\n        var range = new _aceBuilds.Range(startRow, startCol, endRow, endCol);\n        editor.getSession().addMarker(range, className, type, inFront);\n      });\n    }\n  }, {\n    key: \"updateRef\",\n    value: function updateRef(item) {\n      this.refEditor = item;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          name = _this$props2.name,\n          width = _this$props2.width,\n          height = _this$props2.height,\n          style = _this$props2.style;\n\n      var divStyle = _objectSpread({\n        width: width,\n        height: height\n      }, style);\n\n      return _react[\"default\"].createElement(\"div\", {\n        ref: this.updateRef,\n        id: name,\n        style: divStyle\n      });\n    }\n  }]);\n\n  return SplitComponent;\n}(_react.Component);\n\nexports[\"default\"] = SplitComponent;\nSplitComponent.propTypes = {\n  mode: _propTypes[\"default\"].string,\n  splits: _propTypes[\"default\"].number,\n  orientation: _propTypes[\"default\"].string,\n  focus: _propTypes[\"default\"].bool,\n  theme: _propTypes[\"default\"].string,\n  name: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].string,\n  height: _propTypes[\"default\"].string,\n  width: _propTypes[\"default\"].string,\n  fontSize: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].number, _propTypes[\"default\"].string]),\n  showGutter: _propTypes[\"default\"].bool,\n  onChange: _propTypes[\"default\"].func,\n  onCopy: _propTypes[\"default\"].func,\n  onPaste: _propTypes[\"default\"].func,\n  onFocus: _propTypes[\"default\"].func,\n  onInput: _propTypes[\"default\"].func,\n  onBlur: _propTypes[\"default\"].func,\n  onScroll: _propTypes[\"default\"].func,\n  value: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].string),\n  defaultValue: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].string),\n  debounceChangePeriod: _propTypes[\"default\"].number,\n  onLoad: _propTypes[\"default\"].func,\n  onSelectionChange: _propTypes[\"default\"].func,\n  onCursorChange: _propTypes[\"default\"].func,\n  onBeforeLoad: _propTypes[\"default\"].func,\n  minLines: _propTypes[\"default\"].number,\n  maxLines: _propTypes[\"default\"].number,\n  readOnly: _propTypes[\"default\"].bool,\n  highlightActiveLine: _propTypes[\"default\"].bool,\n  tabSize: _propTypes[\"default\"].number,\n  showPrintMargin: _propTypes[\"default\"].bool,\n  cursorStart: _propTypes[\"default\"].number,\n  editorProps: _propTypes[\"default\"].object,\n  setOptions: _propTypes[\"default\"].object,\n  style: _propTypes[\"default\"].object,\n  scrollMargin: _propTypes[\"default\"].array,\n  annotations: _propTypes[\"default\"].array,\n  markers: _propTypes[\"default\"].array,\n  keyboardHandler: _propTypes[\"default\"].string,\n  wrapEnabled: _propTypes[\"default\"].bool,\n  enableBasicAutocompletion: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].bool, _propTypes[\"default\"].array]),\n  enableLiveAutocompletion: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].bool, _propTypes[\"default\"].array]),\n  commands: _propTypes[\"default\"].array\n};\nSplitComponent.defaultProps = {\n  name: \"ace-editor\",\n  focus: false,\n  orientation: \"beside\",\n  splits: 2,\n  mode: \"\",\n  theme: \"\",\n  height: \"500px\",\n  width: \"500px\",\n  value: [],\n  fontSize: 12,\n  showGutter: true,\n  onChange: null,\n  onPaste: null,\n  onLoad: null,\n  onScroll: null,\n  minLines: null,\n  maxLines: null,\n  readOnly: false,\n  highlightActiveLine: true,\n  showPrintMargin: true,\n  tabSize: 4,\n  cursorStart: 1,\n  editorProps: {},\n  style: {},\n  scrollMargin: [0, 0, 0, 0],\n  setOptions: {},\n  wrapEnabled: false,\n  enableBasicAutocompletion: false,\n  enableLiveAutocompletion: false\n};"],"sourceRoot":""}