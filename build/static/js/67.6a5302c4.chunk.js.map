{"version":3,"sources":["views/admin/academicYear/AcademicYearEdit/components/PageHeader/PageHeader.js","views/admin/academicYear/AcademicYearEdit/AcademicYearEdit.js","components/admin/Breadcrumbs/Breadcrumbs.js","components/common/AsteriskIcon/AsteriskIcon.js","api/common/academicYear.js"],"names":["PageHeader","headerTitle","className","toUpperCase","AcademicYearEdit","values","handleChange","resetForm","errors","t","useTranslation","history","useHistory","location","useLocation","useState","id","setId","isUpdatePage","setIsUpdatePage","ma","ten","initialValues","setInitialValues","color","isOpen","messages","notification","isLoading","setIsLoading","useEffect","a","parsed","queryString","parse","window","search","updateForm","academicYearApi","getById","res","response","status","String","message","toast","error","handleEditOnClick","isValid","body","putById","success","data","includes","post","push","RoutesString","ADMIN_ACADEMIC_YEAR_EDIT","handleDeleteOnClick","e","preventDefault","deleteById","ADMIN_ACADEMIC_YEAR_LIST","LoadingBar","Breadcrumbs","currentItem","items","href","title","enableReinitialize","validationSchema","Yup","shape","required","i18n","matches","dirty","handleReset","setFieldValue","Form","Notification","FormGroup","Label","for","AsteriskIcon","InputGroup","InputGroupAddon","addonType","InputGroupText","Input","type","name","placeholder","value","onChange","invalid","readOnly","FormText","Button","disabled","onClick","active","to","WELCOME","map","style","getAll","filter","query","stringify","limit","page","url","axiosClient","get","getList","pageable","sorter","sortBy","sortType","searchKey","JSON","put","delete"],"mappings":"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","file":"static/js/67.6a5302c4.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport \"./PageHeader.css\";\r\n\r\nexport default function PageHeader({ headerTitle }) {\r\n  return (\r\n    <div className=\"page-header\">\r\n      <div className=\"d-flex flex-wrap justify-content-between\">\r\n        <h1>{headerTitle.toUpperCase()}</h1>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport i18n from \"i18n/i18n\";\r\nimport queryString from \"query-string\";\r\nimport { Formik, withFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"./AcademicYearEdit.css\";\r\n\r\nimport Breadcrumbs from \"components/admin/Breadcrumbs/Breadcrumbs\";\r\nimport PageHeader from \"./components/PageHeader/PageHeader\";\r\nimport academicYearApi from \"api/common/academicYear\";\r\nimport {\r\n  FaCode,\r\n  FaExchangeAlt,\r\n  FaPlus,\r\n  FaSync,\r\n  FaTextWidth,\r\n  FaTrash,\r\n  FaUserAlt,\r\n  FaUsersCog,\r\n} from \"react-icons/fa\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  FormGroup,\r\n  FormText,\r\n  Input,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText,\r\n  Label,\r\n} from \"reactstrap\";\r\nimport AsteriskIcon from \"components/common/AsteriskIcon/AsteriskIcon\";\r\nimport Notification from \"components/common/Notification/Notification\";\r\nimport LoadingBar from \"components/common/LoadingBar/LoadingBar\";\r\nimport { RoutesString } from \"pages/routesString\";\r\n\r\nconst AcademicYearEdit = function ({\r\n  values,\r\n  handleChange,\r\n  resetForm,\r\n  errors,\r\n}) {\r\n  const { t } = useTranslation();\r\n\r\n  const history = useHistory();\r\n\r\n  const location = useLocation();\r\n\r\n  const [id, setId] = useState(null);\r\n  const [isUpdatePage, setIsUpdatePage] = useState(false);\r\n  const [initialValues, setInitialValues] = useState({\r\n    ma: \"\",\r\n    ten: \"\",\r\n  });\r\n  const [notification, setNotification] = useState({\r\n    color: \"danger\",\r\n    isOpen: false,\r\n    messages: [],\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(async () => {\r\n    const parsed = queryString.parse(window.location.search);\r\n    if (parsed.id) {\r\n      setId(parsed.id);\r\n      setIsUpdatePage(true);\r\n      updateForm(parsed.id);\r\n    }\r\n  }, [location]);\r\n\r\n  const updateForm = async function (id) {\r\n    setIsLoading(true);\r\n    try {\r\n      const res = await academicYearApi.getById(id);\r\n      setInitialValues({\r\n        ma: res.ma,\r\n        ten: res.ten,\r\n      });\r\n    } catch (err) {\r\n      if (err.response) {\r\n        if (err?.response?.status === 403 || String(err?.response?.message) === 'NOT_OWNER') {\r\n          toast.error(t(\"RESPONSE_MESSAGE403\"));\r\n        }\r\n        else if (err?.response?.status === 401) {\r\n          toast.error(t(\"RESPONSE_MESSAGE401\"));\r\n        } else if (err?.response?.status === 400) {\r\n          toast.error(t(\"RESPONSE_MESSAGE400\"));\r\n        } else if (err?.response?.status === 409) {\r\n          toast.error(t(\"RESPONSE_MESSAGE409\"));\r\n        } else if (err?.response?.status === 404) {\r\n          toast.error(t(\"RESPONSE_MESSAGE404\"));\r\n        } else {\r\n          toast.error(t(\"RESPONSE_MESSAGE500\"));\r\n        }\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEditOnClick = async function (values, isValid) {\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n    if (isUpdatePage) {\r\n      const body = {\r\n        ...values,\r\n      };\r\n      try {\r\n        const res = await academicYearApi.putById(id, body);\r\n        // if (res.status === 200) {\r\n        //   setNotification({\r\n        //     color: \"success\",\r\n        //     isOpen: true,\r\n        //     messages: [res.message],\r\n        //   });\r\n        //   updateForm(id);\r\n        // }\r\n        toast.success(t(\"admin.UPDATE_SUCCESS\"));\r\n        updateForm(id);\r\n      } catch (err) {\r\n        // setNotification({\r\n        //   color: \"danger\",\r\n        //   isOpen: true,\r\n        //   messages: [err.toString()],\r\n        // });\r\n        if (err?.response) {\r\n          if (err?.response?.status === 403 || String(err?.response?.message) === 'NOT_OWNER') {\r\n            toast.error(t(\"RESPONSE_MESSAGE403\"));\r\n          }\r\n          else if (err?.response?.status === 401) {\r\n            toast.error(t(\"RESPONSE_MESSAGE401\"));\r\n          } else if (err?.response?.status === 400) {\r\n            toast.error(t(\"RESPONSE_MESSAGE400\"));\r\n          } else if (err?.response?.status === 409) {\r\n            toast.error(t(\"RESPONSE_MESSAGE409\"));\r\n          } else if (err?.response?.status === 404) {\r\n            toast.error(t(\"RESPONSE_MESSAGE404\"));\r\n          } else {\r\n            if (String(err?.response?.data?.error)?.includes(\"ER_DUP_ENTRY\")) {\r\n              toast.error(t(\"ER_DUP_ENTRY\"));\r\n            } else if (String(err?.response?.data?.error)?.includes(\"ID_NOT_FOUND\")) {\r\n              toast.error(t(\"RESPONSE_MESSAGE404\"));\r\n            } else {\r\n              toast.error(t(\"RESPONSE_MESSAGE500\"));\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      const body = {\r\n        ...values,\r\n      };\r\n      try {\r\n        const res = await academicYearApi.post(body);\r\n        if (res) {\r\n          toast.success(t(\"admin.ADD_SUCCESS\"));\r\n        } else {\r\n          toast.error(t(\"RESPONSE_MESSAGE500\"));\r\n        }\r\n        history.push(`${RoutesString.ADMIN_ACADEMIC_YEAR_EDIT}?id=${res.id}`);\r\n      } catch (err) {\r\n        if (err?.response) {\r\n          if (err?.response?.status === 403 || String(err?.response?.message) === 'NOT_OWNER') {\r\n            toast.error(t(\"RESPONSE_MESSAGE403\"));\r\n          }\r\n          else if (err?.response?.status === 401) {\r\n            toast.error(t(\"RESPONSE_MESSAGE401\"));\r\n          } else if (err?.response?.status === 400) {\r\n            toast.error(t(\"RESPONSE_MESSAGE400\"));\r\n          } else if (err?.response?.status === 409) {\r\n            toast.error(t(\"RESPONSE_MESSAGE409\"));\r\n          } else if (err?.response?.status === 404) {\r\n            toast.error(t(\"RESPONSE_MESSAGE404\"));\r\n          } else {\r\n            if (String(err?.response?.data?.error)?.includes(\"ER_DUP_ENTRY\")) {\r\n              toast.error(t(\"ER_DUP_ENTRY\"));\r\n            } else if (String(err?.response?.data?.error)?.includes(\"ID_NOT_FOUND\")) {\r\n              toast.error(t(\"RESPONSE_MESSAGE404\"));\r\n            } else {\r\n              toast.error(t(\"RESPONSE_MESSAGE500\"));\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n\r\n\r\n  const handleDeleteOnClick = async function (e) {\r\n    e.preventDefault();\r\n    // resetForm();\r\n    try {\r\n      const res = await academicYearApi.deleteById(id);\r\n      if (res) {\r\n        toast.success(t(\"admin.common.DELETED\"));\r\n        history.push(RoutesString.ADMIN_ACADEMIC_YEAR_LIST)\r\n      } else {\r\n        toast.error(t(\"DELETE_ERROR\") + \": \" + t(\"RESPONSE_MESSAGE500\"));\r\n      }\r\n    } catch (err) {\r\n      if (err.response) {\r\n        if (err?.response?.status === 403 || String(err?.response?.message) === 'NOT_OWNER') {\r\n          toast.error(t(\"RESPONSE_MESSAGE403\"));\r\n        }\r\n        else if (err?.response?.status === 401) {\r\n          toast.error(t(\"RESPONSE_MESSAGE401\"));\r\n        } else if (err?.response?.status === 400) {\r\n          toast.error(t(\"DELETE_ERROR\") + \": \" + t(\"RESPONSE_MESSAGE400\"));\r\n        } else if (err?.response?.status === 409) {\r\n          toast.error(t(\"DELETE_ERROR\") + \": \" + t(\"RESPONSE_MESSAGE409\"));\r\n        } else if (err?.response?.status === 404) {\r\n          toast.error(t(\"DELETE_ERROR\") + \": \" + t(\"RESPONSE_MESSAGE404\"));\r\n        } else {\r\n          if (String(err?.response?.data?.error)?.includes(\"ID_NOT_FOUND\")) {\r\n            toast.error(t(\"RESPONSE_MESSAGE404\"));\r\n          } else {\r\n            toast.error(t(\"DELETE_ERROR\") + \": \" + t(\"RESPONSE_MESSAGE500\"));\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      {isLoading && <LoadingBar />}\r\n      <Breadcrumbs\r\n        currentItem={\r\n          isUpdatePage\r\n            ? t(\"admin.academic_year_edit.UPDATE\")\r\n            : t(\"admin.academic_year_edit.ADD\")\r\n        }\r\n        items={[\r\n          {\r\n            href: RoutesString.ADMIN_ACADEMIC_YEAR_LIST,\r\n            title: t(\"admin.academic_year_list.LIST\"),\r\n          },\r\n        ]}\r\n      />\r\n\r\n      <PageHeader\r\n        headerTitle={\r\n          isUpdatePage\r\n            ? t(\"admin.academic_year_edit.UPDATE\")\r\n            : t(\"admin.academic_year_edit.ADD\")\r\n        }\r\n      />\r\n\r\n      <div className=\"page-content\">\r\n        <Formik\r\n          initialValues={initialValues}\r\n          enableReinitialize={true}\r\n          validationSchema={Yup.object().shape({\r\n            ma: Yup.string().required(i18n.t(\"REQUIRED_FIELD_WARNING\")),\r\n            ten: Yup.string().required(i18n.t(\"REQUIRED_FIELD_WARNING\")).matches(/^((19|20)\\d{2})[-]((19|20)\\d{2})$/g, `${i18n.t('RESPONSE_MESSAGE400')} 19xx-20xx`)\r\n          })}\r\n        >\r\n          {({\r\n            values,\r\n            errors,\r\n            dirty,\r\n            isValid,\r\n            handleChange,\r\n            handleReset,\r\n            setFieldValue,\r\n          }) => (\r\n            <Form>\r\n              <Notification\r\n                color={notification.color}\r\n                isOpen={notification.isOpen}\r\n                messages={notification.messages}\r\n              />\r\n              <FormGroup className=\"row\">\r\n                <Label for=\"value\" className=\"col-lg-3\">\r\n                  {t(\"admin.academic_year_edit.CODE\")} <AsteriskIcon />\r\n                </Label>\r\n                <div className=\"col-lg-6\">\r\n                  <InputGroup>\r\n                    <InputGroupAddon addonType=\"prepend\">\r\n                      <InputGroupText>\r\n                        <FaCode />\r\n                      </InputGroupText>\r\n                    </InputGroupAddon>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"ma\"\r\n                      placeholder={t(\r\n                        \"admin.academic_year_edit.CODE_PLACEHOLDER\"\r\n                      )}\r\n                      value={values.ma}\r\n                      onChange={handleChange}\r\n                      invalid={errors.ma}\r\n                      readOnly={isUpdatePage}\r\n                    />\r\n                  </InputGroup>\r\n                  {errors.ma && <FormText color=\"danger\">{errors.ma}</FormText>}\r\n                </div>\r\n              </FormGroup>{\" \"}\r\n              <br />\r\n              <FormGroup className=\"row\">\r\n                <Label for=\"name\" className=\"col-lg-3\">\r\n                  {t(\"admin.academic_year_edit.NAME\")} <AsteriskIcon />\r\n                </Label>\r\n                <div className=\"col-lg-6\">\r\n                  <InputGroup>\r\n                    <InputGroupAddon addonType=\"prepend\">\r\n                      <InputGroupText>\r\n                        <FaTextWidth />\r\n                      </InputGroupText>\r\n                    </InputGroupAddon>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"ten\"\r\n                      placeholder={t(\r\n                        \"admin.academic_year_edit.NAME_PLACEHOLDER\"\r\n                      )}\r\n                      value={values.ten}\r\n                      onChange={handleChange}\r\n                      invalid={errors.ten}\r\n                    />\r\n                  </InputGroup>\r\n                  {errors.ten && (\r\n                    <FormText color=\"danger\">{errors.ten}</FormText>\r\n                  )}\r\n                </div>\r\n              </FormGroup>{\" \"}\r\n              <br />\r\n              <FormGroup>\r\n                <Button\r\n                  color=\"success\"\r\n                  disabled={isUpdatePage ? !isValid : !(isValid && dirty)}\r\n                  onClick={() =>\r\n                    handleEditOnClick(\r\n                      values,\r\n                      isUpdatePage ? isValid : isValid && dirty\r\n                    )\r\n                  }\r\n                >\r\n                  {isUpdatePage ? (\r\n                    <>\r\n                      <FaExchangeAlt /> {t(\"admin.common.UPDATE\")}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <FaPlus /> {t(\"admin.common.ADD\")}\r\n                    </>\r\n                  )}\r\n                </Button>\r\n                &emsp;\r\n                {isUpdatePage && (\r\n                  <>\r\n                    <Button onClick={handleReset}>\r\n                      <FaSync /> {t(\"admin.common.REFRESH\")}\r\n                    </Button>\r\n                    &emsp;\r\n                    <Button color=\"danger\" onClick={handleDeleteOnClick}>\r\n                      <FaTrash /> {t(\"admin.common.DELETE\")}\r\n                    </Button>\r\n                  </>\r\n                )}\r\n              </FormGroup>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AcademicYearEdit;\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Breadcrumb, BreadcrumbItem } from \"reactstrap\";\nimport { FaHome } from \"react-icons/fa\";\n\nimport { RoutesString } from \"pages/routesString\";\n\nexport default function Breadcrumbs({ items, currentItem }) {\n  return (\n    <Breadcrumb>\n      <BreadcrumbItem active={!currentItem}>\n        <Link to={RoutesString.WELCOME}>\n          <FaHome />\n        </Link>\n      </BreadcrumbItem>\n      {items &&\n        items.map(({ href, title }) => {\n          return (\n            <BreadcrumbItem>\n              <Link to={href}>{title}</Link>\n            </BreadcrumbItem>\n          );\n        })}\n      {currentItem && <BreadcrumbItem active>{currentItem}</BreadcrumbItem>}\n    </Breadcrumb>\n  );\n}\n","import React from \"react\";\n\nexport default function AsteriskIcon() {\n  return <span style={{ color: \"red\" }}>(*)</span>;\n}\n","import axiosClient from \"./axiosClient\";\r\nimport queryString from \"query-string\";\r\n\r\nexport default {\r\n  getAll: function (filter={}) {\r\n    const query = queryString.stringify({limit:-1,page:0, ...filter });\r\n    const url = `nam-hoc?${query}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  getList: function (pageable) {\r\n    let url = `nam-hoc?page=${pageable.page - 1}`;\r\n    if (pageable.limit) {\r\n      url += `&limit=${pageable.limit}`;\r\n    }\r\n    if (pageable.sorter.sortBy && pageable.sorter.sortType) {\r\n      url += `&sortBy=${pageable.sorter.sortBy}&sortType=${pageable.sorter.sortType}`;\r\n    }\r\n    if (pageable.searchKey) {\r\n      url += `&searchKey=${pageable.searchKey}`;\r\n    }\r\n    return axiosClient.get(url);\r\n  },\r\n  getById: function (id) {\r\n    const url = `nam-hoc/${id}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  post: function (body) {\r\n    const url = `nam-hoc`;\r\n    return axiosClient.post(url, JSON.stringify(body));\r\n  },\r\n  putById: function (id, body) {\r\n    const url = `nam-hoc/${id}`;\r\n    return axiosClient.put(url, JSON.stringify(body));\r\n  },\r\n  deleteById: function (id) {\r\n    const url = `nam-hoc/${id}`;\r\n    return axiosClient.delete(url);\r\n  },\r\n};\r\n"],"sourceRoot":""}