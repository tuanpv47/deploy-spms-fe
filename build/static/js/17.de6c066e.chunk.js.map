{"version":3,"sources":["views/admin/FlowCreateCTDT/Navigation.js","api/common/cloneTemplate.api.js","views/admin/FlowCreateCTDT/CauTrucChuongTrinh/CauTrucChuongTrinh.js","views/admin/FlowCreateCTDT/component/CreateNewSubject.js","views/admin/FlowCreateCTDT/component/TablesSelectionNoiDung.js","views/admin/FlowCreateCTDT/NoiDungChuongTrinh/NoiDungChuongTrinh.js","components/common/InputSelectSearchable/InputSelectSearchable.js","views/admin/FlowCreateCTDT/component/CreateNewKhoiKienThuc.js","views/admin/FlowCreateCTDT/NoiDungChuongTrinh/ModalCreateLoaiKhoiKienThuc.js","views/admin/FlowCreateCTDT/NoiDungChuongTrinh/NoiDungChuongTrinhWrapper.js","views/admin/FlowCreateCTDT/KeHoachGiangDay/KeHoachGiangDay.js","views/admin/FlowCreateCTDT/KeHoachGiangDay/KeHoachGiangDayWrapper.js","views/admin/FlowCreateCTDT/Done/DonePage.js","views/admin/FlowCreateCTDT/Step1/Step1_Wrapper.js","views/admin/FlowCreateCTDT/ChuanDauRa/ChuanDauRa.js","views/admin/FlowCreateCTDT/Wrapper-v2.js","components/admin/ConfirmModal/ConfirmModal.js","../node_modules/react-select/dist/react-select.esm.js","api/common/subMajor.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","views/admin/FlowCreateCTDT/utils.js","api/common/trainingMajor.js","api/common/standardOutput.js","views/admin/FlowCreateCTDT/component/EditableCell.js","views/admin/FlowCreateCTDT/component/styled.js","views/admin/FlowCreateCTDT/component/TablesSelection.js","views/admin/FlowCreateCTDT/component/SelectableCell.js","views/admin/FlowCreateCTDT/component/IndeterminateCheckbox.js","../node_modules/react-select/async/dist/react-select.esm.js","views/admin/FlowCreateCTDT/component/DisableEditCell.js","components/common/StepProgressBar/StepProgressBar.js","views/admin/FlowCreateCTDT/contantsCTDT.js","components/common/ChuanDauRaList/ChuanDauRaList.js","views/admin/FlowCreateCTDT/component/InputSelection.js","views/admin/FlowCreateCTDT/component/TablesInputSelection.js"],"names":["Navigation","props","steps","React","useMemo","label","i18n","t","name","order","className","style","activeStep","current","display","justifyContent","margin","Button","onClick","prev","disabled","next","size","marginRight","getTemplateKKT","a","idCTNDT","idCTNDTClone","url","CONFIG","API","INDEX","replace","axiosClient","get","postTemplateKKT","data","post","getTemplateKHGD","postTemplateKHGD","getChuanDauRa","postChuanDauRa","getCloneDataV2","results","isError","console","log","postCloneDataV2","checkContentExist","fakeData","response","status","String","message","includes","khoiKienThucEnum","value","CauTrucChuongTrinh","columns","Header","accessor","width","isInputSelect","options","isValidate","useState","total","setTotal","dataContainer","setDataContainer","setData","isLoading","setIsLoading","isOpenModal","setIsOpenModal","isOpenDeleteModel","setIsOpenDeleteModel","selectedRowIndex","setSelectedRowIndex","useEffect","stateData","getState","khoiKienThuc","toast","error","tongSoTinChi","reduce","Number","tongTinChi","checkKKTNotNull","length","kkt","ten","Loading","color","cloneData","push","chiTietNganh","maKKT","tinChiTuChon","tinChiBatBuoc","tinChiTuChonTuDo","ghiChu","loaiKhoiKienThuc","TablesInputSelection","updateMyData","rowIndex","columnId","newData","map","row","index","isPagination","handleSelectedRow","listSelectedRowId","converListSelectedRowId","id","isFooterSum","modal","toggle","headerTitle","bodyContent","handleOkButtonOnClick","setState","handleCancelButtonOnClick","filter","isModalDelete","CreateNewSubject","optionSelected","setOptionSelected","setSearch","loadOptions","inputValue","callback","monHocApi","getAll","searchKey","transformData","contents","useTranslation","Modal","isOpen","ModalHeader","ModalBody","Label","cacheOptions","defaultOptions","onChange","selected","onInputChange","newValue","ModalFooter","titleOk","titleCancel","defaultColumn","Cell","EditableCell","Select","SelectableCell","DisableCell","DisableEditCell","TablesSelectionNoiDung","skipPageReset","moveToSubject","restProps","useTable","usePagination","useRowState","useBlockLayout","useRowSelect","hooks","visibleColumns","getToggleAllRowsSelectedProps","IndeterminateCheckbox","getToggleRowSelectedProps","getTableProps","getTableBodyProps","headerGroups","prepareRow","rows","footerGroups","state","selectedRowIds","Object","keys","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","i","getRowProps","cells","cell","ComponentChild","isSelect","isDisable","isDropdown","getCellProps","padding","textAlign","marginLeft","DropdownMoveTo","setIsOpen","Dropdown","direction","prevState","DropdownToggle","DropdownMenu","listGomNhom","lkkt","gomNhom","gn","DropdownItem","gomNhomSrc","llktDesc","gomNhomDesc","original","loaiNhom","renderList","NoiDungChuongTrinh","subjects","modifyData","defaultSubjects","modifyDataContainer","isOpenDeleteModal","setIsOpenDeleteModal","isOpenAddSubjectModal","setIsOpenAddSubjectModal","objLodash","valueUpdate","lodash","handleSaveData","success","checkSubjectIsExist","subID","chiTietGomNhom","ctgn","idMH","marginTop","listRemoved","newSubject","InputSelectSearchable","isClearable","isSearchable","classNamePrefix","CreateKhoiKienThuc","item","listKhoiKienThuc","khoiKienThucSelected","setKhoiKienThucSelected","setLoaiKhoiKienThuc","maGN","soTCBB","tieuDe","stt","gomNhomList","setGomNhomList","handleOnChangeTieuDeGomNhom","e","target","inputIndex","split","cloneGomNhomList","handleOnChangeSoTinChiGomNhom","FormGroup","selectedOption","Input","placeholder","LOAI_HP","handleChangeLoaiNhom","type","cloneGomNhom","tongTinChiLKK","cur","loaiKhoiKienThucSubmit","maLoaiKhoiKienThuc","noidung","submit","toggleCreateKKT","ModalCreateLoaiKhoiKienThuc","isOpenCreateKKT","addNewKhoiKienThuc","extractGroups","list","NoiDungChuongTrinhWrapper","setIsOpenCreateKKT","setDefaultSubjects","listGroup","setListGroup","kktIndex","lkktIndex","gomNhomIndex","dataClone","keHoachGiangDay","keHoachRemoved","kh","newChiTietKeHoach","chiTietKeHoach","ctkh","find","monHoc","old","unGroup","limit","handleNoiDungSubmit","deleteGroups","itemIndex","arrDeleted","isDeletedGomNhom","splice","newKeHoach","lkktDesc","findIndex","loaiKKT","class","addGomNhom","gomNhomItem","border","changeTypeGroup","changeTieuDe","typeGroup","listSubject","KeHoachGiangDay","isEnableButton","TablesSelection","newListSubject","transformDataSubject","subject","tenTiengViet","tenHocKy","extractSubjects","ModalAddNewSubject","hocKy","setHocKy","setSubject","optionsHocKy","optionsListSubjects","KeHoachGiangDayWrapper","modalAddNewSubject","setModalAddNewSubject","listSubjects","setListSubjects","addNewSubject","hocKySelected","subjectSelected","checkIsExistNoiDung","handleKeHoachSubmit","deleteSemester","hkIndex","maKeHoach","nganhDaoTao","sTT","hk","editValueData","background","DonePage","history","useHistory","isProcessing","setIsProcessing","filePdf","setFilePdf","onCreateDataClone","step1_state","chuanDauRa","params","payload","cloneTemplateApi","info","setTimeout","RoutesString","ADMIN_VIEW_CHI_TIET_NGANH_DAO_TAO","onHandlePreviewPdf","chuanDauRaNganhDaoTao","cauTrucChuongTrinh","axios","EXPORT_PDF","method","responseType","JSON","stringify","then","file","Blob","fileURL","URL","createObjectURL","catch","finally","LoadingBar","src","height","Step1_Init","listChuongTrinhDaoTao","setListChuongTrinhDaoTao","listNganhDaoTao","setListNganhDaoTao","listKhoaTuyen","setListKhoaTuyen","listIdCTNDTClone","setListIdCTNDTClone","chuongTrinhDaoTaoSelected","setChuongTrinhDaoTaoSelected","nganhDaoTaoSelected","setNganhDaoTaoSelected","khoaTuyen","setKhoaTuyen","chiTietNganhDaoTao","setChiTietNganhDaoTao","chiTietNganhDaoTaoClone","setChiTietNganhDaoTaoClone","setIdCTNDTClone","modeCreate","setModeCreate","chuongTrinhDaoTaoService","chuongTrinhDaoTao","maCTDT","getChiTietNganhDaoTaoClone","getNganhDaoTao","getChiTietNganhDaoTao","nganhDaoTaoService","getWithFilter","maNganhDaoTao","chiTietNganhDaoTaoService","chiTietNDT","khoa","chiTietNDTClone","handleOnSubmit","getDataClone","resp","prepareData","Form","checked","ChuanDauRa","isOpenConfirmSubmit","setIsOpenConfirmSubmit","optionsOutputStandard","setOptionsOutputStandard","standardOutput","formatResults","handleSubmit","ChuanDauRaList","values","handleSetData","optionsDefaultOutputStandard","disableEdit","ConfirmModal","FlowCreateCTDTWrapperV2","useSidebar","stateSideBar","actionSideBar","config","navigation","component","location","isOpenSideBar","setIsOpenSideBar","title","Step1_Wrapper","Component","manageState","tableName","query","queryString","page","getList","pageable","sorter","sortBy","sortType","getById","body","putById","put","deleteById","delete","checkIsExist","idNganhDaoTao","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","F","s","n","done","_e","f","TypeError","err","normalCompletion","didErr","step","_e2","validateOnlyNumber","text","test","removeItemOnce","arr","checkExistInArray","array","children","isExist","initialValue","setValue","onBlur","Styles","styled","div","forwardRef","ref","indeterminate","rest","defaultRef","useRef","resolvedRef","defaultProps","filterOption","Async","SelectComponent","_class","_temp","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","this","call","select","lastRequest","mounted","handleInputChange","actionMeta","_this$props","loadedInputValue","loadedOptions","passEmptyOptions","optionsCache","request","_objectSpread2","_defineProperty","undefined","prevDefaultOptions","prevCacheOptions","_createClass","key","_this2","focus","blur","loader","_this3","_this$props2","isLoadingProp","_objectWithoutProperties","_this$state","createElement","_extends","_ref","newCacheOptionsState","newDefaultOptionsState","makeAsyncSelect","StepsForm","maxWidth","activeStepProps","statusStep","module","exports","isModeEdit","setIsModeEdit","isOpenModalAdd","setIsOpenModalAdd","pathStandardOutputSelected","setPathStandardOutputSelected","isCollapse","setIsCollapse","onHandEditItem","pathObject","confirmHandleAddItem","handleAddItem","handleDeleteItem","pathParentObject","indexItem","parent","newParent","togglers","document","querySelectorAll","setAttribute","renderSubList","listChuanDauRa","pathFieldUpdated","chuanIndex","cursor","ma","toggler","ModalAddNewOutputStandard","search","formatData","InputSelect"],"mappings":"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","file":"static/js/17.de6c066e.chunk.js","sourcesContent":["import StepsForm from \"components/common/StepProgressBar/StepProgressBar\";\r\nimport i18n from \"i18n/i18n\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Row, Col, Button } from \"reactstrap\";\r\nconst Navigation = (props) => {\r\n    const steps = React.useMemo(() => [\r\n        {\r\n            label: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.STEP_STATUS_BAR.CHOOSE_MAJOR')}`,\r\n            name: 'step1',\r\n            order: 1\r\n        },\r\n        // {\r\n        //     label: 'Chọn ngành đào tạo sao chép',\r\n        //     name: 'step2',\r\n        //     order: 2\r\n        // },\r\n        {\r\n            label: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.STEP_STATUS_BAR.STANDARD_OUTPUT')}`,\r\n            name: 'step2',\r\n            order: 2\r\n        },\r\n        {\r\n            label: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.STEP_STATUS_BAR.STRUCT_PROGRAM')}`,\r\n            name: 'step3',\r\n            order: 3\r\n        },\r\n        {\r\n            label: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.STEP_STATUS_BAR.CONTENT_PROGRAM')}`,\r\n            name: 'step4',\r\n            order: 4\r\n        },\r\n        {\r\n            label: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.STEP_STATUS_BAR.PLAN_PRAGRAM')}`,\r\n            name: 'step5',\r\n            order: 5\r\n        },\r\n        {\r\n            label: 'Preview',\r\n            name: 'step6',\r\n            order: 6\r\n        }\r\n    ], []);\r\n    return (\r\n        <div\r\n            className=\"nav_row\"\r\n            style={{\r\n                // display: \"flex\",\r\n                // justifyContent: \"space-between\",\r\n                // padding: \"5px 0px 5px 10px\",\r\n            }}\r\n        >\r\n            <div>\r\n                <StepsForm steps={steps} activeStep={props?.current} />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', margin: '10px 0' }}>\r\n\r\n                <Button onClick={props.prev} disabled={props?.current === 1}>&laquo; {i18n.t(\"PREVIOUS\")}</Button>\r\n\r\n                <Button onClick={props.next} disabled={props?.current === props.size} style={{ marginRight: '10px' }}>{i18n.t(\"NEXT\")} &raquo;</Button>\r\n\r\n            </div>\r\n            {/* <div className=\"nav_col\">\r\n                {props.current !== 1 && (\r\n                    <Button\r\n                        type=\"primary\"\r\n                        onClick={props.prev}\r\n                        style={{ marginRight: 10 }}\r\n                        disabled={props.current === 1}\r\n                    >\r\n                        Previous\r\n                    </Button>\r\n                )}\r\n            </div> */}\r\n            {/* {props.current === 1 ? null : (\r\n                <div className=\"nav_col\">\r\n                    <Button\r\n                        type=\"primary\"\r\n                        onClick={props.next}\r\n                        disabled={props.current === props.size}\r\n                        onClick={onClickNextStep}\r\n                    >\r\n                        Submit\r\n                    </Button>\r\n                </div>\r\n            )} */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navigation;\r\n","import axiosClient from \"api/common/axiosClient\";\r\nimport CONFIG from \"config/config\";\r\nimport queryString from \"query-string\";\r\n\r\nexport default {\r\n    getTemplateKKT: async function ({ idCTNDT, idCTNDTClone }) {\r\n        try {\r\n            const url = `${CONFIG.API.INDEX}clone/chi-tiet-nganh-dao-tao/:idCTNDT/:idCTNDTClone/khoi-kien-thuc-chi-tiet`\r\n                .replace(\":idCTNDT\", idCTNDT)\r\n                .replace(\":idCTNDTClone\", idCTNDTClone);\r\n            return await axiosClient.get(url);\r\n            // eslint-disable-next-line\r\n        } catch (error) {}\r\n    },\r\n    postTemplateKKT: async ({ idCTNDT, idCTNDTClone }, data) => {\r\n        const url = `${CONFIG.API.INDEX}clone/chi-tiet-nganh-dao-tao/:idCTNDT/:idCTNDTClone/khoi-kien-thuc-chi-tiet`\r\n            .replace(\":idCTNDT\", idCTNDT)\r\n            .replace(\":idCTNDTClone\", idCTNDTClone);\r\n        return await axiosClient.post(url, data);\r\n    },\r\n    getTemplateKHGD: async ({ idCTNDT, idCTNDTClone }) => {\r\n        const url = `${CONFIG.API.INDEX}clone/chi-tiet-nganh-dao-tao/:idCTNDT/:idCTNDTClone/ke-hoach-giang-day`\r\n            .replace(\":idCTNDT\", idCTNDT)\r\n            .replace(\":idCTNDTClone\", idCTNDTClone);\r\n        return await axiosClient.get(url);\r\n    },\r\n    postTemplateKHGD: async ({ idCTNDT, idCTNDTClone }, data) => {\r\n        const url = `${CONFIG.API.INDEX}clone/chi-tiet-nganh-dao-tao/:idCTNDT/:idCTNDTClone/ke-hoach-giang-day`\r\n            .replace(\":idCTNDT\", idCTNDT)\r\n            .replace(\":idCTNDTClone\", idCTNDTClone);\r\n        return await axiosClient.post(url, data);\r\n    },\r\n    getChuanDauRa: async ({ idCTNDT, idCTNDTClone }) => {\r\n        const url = `${CONFIG.API.INDEX}clone/chi-tiet-nganh-dao-tao/:idCTNDT/:idCTNDTClone/chuan-dau-ra-nganh-dao-tao`\r\n            .replace(\":idCTNDT\", idCTNDT)\r\n            .replace(\":idCTNDTClone\", idCTNDTClone);\r\n        return await axiosClient.get(url);\r\n    },\r\n    postChuanDauRa: async ({ idCTNDT, idCTNDTClone }, data) => {\r\n        const url = `${CONFIG.API.INDEX}clone/chi-tiet-nganh-dao-tao/:idCTNDT/:idCTNDTClone/chuan-dau-ra-nganh-dao-tao`\r\n            .replace(\":idCTNDT\", idCTNDT)\r\n            .replace(\":idCTNDTClone\", idCTNDTClone);\r\n        return await axiosClient.post(url, data);\r\n    },\r\n    getCloneDataV2: async ({ idCTNDT, idCTNDTClone }) => {\r\n        try {\r\n            const url = `${CONFIG.API.INDEX}clone/chi-tiet-nganh-dao-tao/:idCTNDT/:idCTNDTClone`\r\n                .replace(\":idCTNDT\", idCTNDT)\r\n                .replace(\":idCTNDTClone\", idCTNDTClone);\r\n            const results = await axiosClient.get(url);\r\n            return {isError: false, data: results};\r\n        } catch (error) {\r\n            // eslint-disable-next-line\r\n            console.log(error)\r\n            return {isError: true}\r\n        }\r\n    },\r\n    postCloneDataV2: async ({ idCTNDT }, data) => {\r\n        try {\r\n            const url = `${CONFIG.API.INDEX}clone/chi-tiet-nganh-dao-tao/:idCTNDT`\r\n            .replace(\":idCTNDT\", idCTNDT)\r\n            const results = await axiosClient.post(url, data);\r\n            return results;\r\n        } catch (error) {\r\n            // eslint-disable-next-line\r\n            console.log(error)\r\n            return false;\r\n        }\r\n    },\r\n    checkContentExist: async ({ idCTNDT }) => {\r\n        try {\r\n            const url = `${CONFIG.API.INDEX}clone/chi-tiet-nganh-dao-tao/:idCTNDT`\r\n            .replace(\":idCTNDT\", idCTNDT)\r\n            const fakeData = {\r\n                \"chuanDauRa\": [\r\n                    \r\n                  ],\r\n                  \"khoiKienThuc\": [\r\n                    \r\n                  ],\r\n                  \"keHoachGiangDay\": [\r\n                    \r\n                  ]\r\n            }\r\n            const results = await axiosClient.post(url, fakeData);\r\n            console.log(`results`, results) // eslint-disable-line\r\n            return false;\r\n        } catch (error) {\r\n            if(error?.response?.status === 400 && String(error?.response?.data?.message)?.includes(\"NOT_EMPTY\")){\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n};\r\n","import i18n from \"i18n/i18n\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"reactstrap\";\r\nimport Styles from \"../component/styled\";\r\nimport cloneTemplateAPI from \"api/common/cloneTemplate.api\";\r\nimport ConfirmSubmit from \"../../../../components/admin/ConfirmModal/ConfirmModal\";\r\nimport TablesSelection from \"../component/TablesSelection\";\r\n\r\nimport \"./CauTrucChuongTrinh.css\";\r\nimport Loading from \"components/common/loading/Loading\";\r\nimport TablesInputSelection from \"../component/TablesInputSelection\";\r\n\r\nconst emptyKhoiKienThuc = (chiTietNganh) => {\r\n    return {\r\n        // id: 1,\r\n        chiTietNganh: chiTietNganh,\r\n        maKKT: \"\",\r\n        ten: \"\",\r\n        tinChiTuChon: 0,\r\n        tinChiBatBuoc: 0,\r\n        tinChiTuChonTuDo: 0,\r\n        ghiChu: \"\",\r\n        tongTinChi: 0,\r\n        loaiKhoiKienThuc: [],\r\n    };\r\n};\r\n\r\nconst khoiKienThucEnum = [\r\n    {\r\n        label: \"Giáo dục đại cương\",\r\n        value: \"Giáo dục đại cương\"\r\n    },\r\n    {\r\n        label: \"Cơ sở ngành\",\r\n        value: \"Cơ sở ngành\"\r\n    },\r\n    {\r\n        label: \"Ngành\",\r\n        value: \"Ngành\"\r\n    },\r\n    {\r\n        label: \"Tốt nghiệp\",\r\n        value: \"Tốt nghiệp\"\r\n    }\r\n]\r\n\r\nconst CauTrucChuongTrinh = (props) => {\r\n    const columns = React.useMemo(\r\n        () => [\r\n            {\r\n                Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.CAU_TRUC_CHUONG_TRINH.TABLE_HEADERS.BLOCK_KNOWLEDGE')}*`,\r\n                accessor: \"ten\",\r\n                width: 300,\r\n                isInputSelect: true,\r\n                options: khoiKienThucEnum\r\n            },\r\n            {\r\n                Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.CAU_TRUC_CHUONG_TRINH.TABLE_HEADERS.CREDIT_NUMBER')}`,\r\n                columns: [\r\n                    {\r\n                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.LOAI_HP.BB')}`,\r\n                        accessor: \"tinChiBatBuoc\",\r\n                        width: 120,\r\n                        isValidate: true,\r\n                    },\r\n                    {\r\n                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.LOAI_HP.TC')}`,\r\n                        accessor: \"tinChiTuChon\",\r\n                        width: 120,\r\n                        isValidate: true,\r\n                    },\r\n                    {\r\n                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.LOAI_HP.TCTD')}`,\r\n                        accessor: \"tinChiTuChonTuDo\",\r\n                        width: 120,\r\n                        isValidate: true,\r\n                    },\r\n                    {\r\n                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.CAU_TRUC_CHUONG_TRINH.TABLE_HEADERS.CREDIT_TOTAL')}`,\r\n                        accessor: \"tongTinChi\",\r\n                        disabled: true,\r\n                        width: 120,\r\n                        isValidate: true,\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.CAU_TRUC_CHUONG_TRINH.TABLE_HEADERS.NOTE')}`,\r\n                accessor: \"ghiChu\",\r\n                width: 200,\r\n            },\r\n        ],\r\n        []\r\n    );\r\n    const [total, setTotal] = useState(0);\r\n    const [dataContainer, setDataContainer] = useState(null);\r\n    const [data, setData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isOpenModal, setIsOpenModal] = useState(false);\r\n    const [isOpenDeleteModel, setIsOpenDeleteModel] = useState(false);\r\n    const [selectedRowIndex, setSelectedRowIndex] = useState([]);\r\n\r\n    //* get data from step state or from API\r\n    useEffect(() => {\r\n        (async () => {\r\n            setIsLoading(true);\r\n            const stateData = props.getState(\"dataClone\", { khoiKienThuc: [] });\r\n            if (stateData?.khoiKienThuc) {\r\n                setDataContainer(stateData);\r\n                setData(stateData?.khoiKienThuc);\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.ERROR_FETCH_DATA'));\r\n\r\n            // const { idCTNDT } = props.getState(\"step1\", { idCTNDT: \"\" });\r\n            // const { idCTNDTClone } = props.getState(\"step2\", {\r\n            //     idCTNDTClone: \"\",\r\n            // });\r\n            // if (idCTNDT && idCTNDTClone) {\r\n            //     const data = await fetchTemplate({ idCTNDT, idCTNDTClone });\r\n            //     setData(data);\r\n            // } else {\r\n            //     toast.error(\"Lỗi, idCTNDT hoặc idCTNDTClone rỗng\");\r\n            // }\r\n            setIsLoading(false);\r\n        })();\r\n    }, []);\r\n\r\n    //* calculator total tong so tin chi\r\n    useEffect(() => {\r\n        const tongSoTinChi = data.reduce((total, khoiKienThuc) => {\r\n            return (total += Number(khoiKienThuc.tongTinChi));\r\n        }, 0);\r\n        setTotal(tongSoTinChi);\r\n    }, [data]);\r\n\r\n    //* call API get data clone noi dung chuong trinh\r\n    // const fetchTemplate = async (params) => {\r\n    //     try {\r\n    //         const result = await cloneTemplateAPI.getTemplateKKT(params);\r\n    //         return result;\r\n    //     } catch (error) {\r\n    //         toast.error(\"ERROR\");\r\n    //         return [];\r\n    //     }\r\n    // };\r\n\r\n    //* add new a khoi kien thuc\r\n    const addNewRow = () => {\r\n        const { idCTNDT } = props.getState(\"step1\", { idCTNDT: \"\" });\r\n        const cloneData = [...data];\r\n        cloneData.push(emptyKhoiKienThuc(idCTNDT));\r\n        setData(cloneData);\r\n    };\r\n\r\n    //* edit data and store to data state\r\n    const updateMyData = (rowIndex, columnId, value) => {\r\n        const newData = data.map((row, index) => {\r\n            if (index === rowIndex) {\r\n                if (columnId !== \"ghiChu\" && columnId !== \"ten\") {\r\n                    data[rowIndex].tongTinChi =\r\n                        Number(data[rowIndex].tinChiBatBuoc) +\r\n                        Number(data[rowIndex].tinChiTuChon) +\r\n                        Number(data[rowIndex].tinChiTuChonTuDo) +\r\n                        Number(value) -\r\n                        Number(data[rowIndex][columnId]);\r\n                    return {\r\n                        ...data[rowIndex],\r\n                        [columnId]: value || 0,\r\n                    };\r\n                }\r\n                return {\r\n                    ...data[rowIndex],\r\n                    [columnId]: value || \"\",\r\n                };\r\n            }\r\n            return row;\r\n        });\r\n\r\n        setData(newData);\r\n    };\r\n\r\n    //* save data into state\r\n    // const handleSaveData = () => {\r\n    //     try {\r\n    //         props.setState(\"dataClone\", { ...dataContainer, khoiKienThuc: data });\r\n    //         // props.setState(\"cauTrucChuongTrinh\", data);\r\n    //         toast.success(\"SUCCESS\");\r\n    //     } catch (error) {\r\n    //         toast.error(\"Lưu lỗi\");\r\n    //         return;\r\n    //     }\r\n    // };\r\n\r\n    //* open modal confirm submit\r\n    const openConfirmSubmit = () => {\r\n        setIsOpenModal(true);\r\n    };\r\n\r\n    //* call API to create new data\r\n    const handleSubmit = () => {\r\n        try {\r\n            const isNotNull = checkKKTNotNull(data);\r\n            if(!isNotNull){\r\n                toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.CAU_TRUC_CHUONG_TRINH.TEN_KKT_NOT_NULL'))\r\n                return;\r\n            }\r\n            props.setState(\"dataClone\", { ...dataContainer, khoiKienThuc: data });\r\n            // props.setState(\"cauTrucChuongTrinh\", data);\r\n            // toast.success(i18n.t('FLOW_CREATE_CTDT_DETAIL.SUBMIT_SUCCESS'));\r\n            props.next();\r\n        } catch (error) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.SUBMIT_ERROR'));\r\n            return;\r\n        }finally{\r\n            setIsOpenModal(false);\r\n        }\r\n    };\r\n\r\n    const checkKKTNotNull = (data) => {\r\n        if(!data?.length){\r\n            return false;\r\n        }\r\n        for (const kkt of data) {\r\n            // eslint-disable-next-line \r\n            if(kkt?.ten == null || kkt?.ten === ''){\r\n                return false\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    //* selected rows to delete\r\n    const handleSelectedRow = (listSelectedRowId) => {\r\n        const converListSelectedRowId = listSelectedRowId.map((id) =>\r\n            Number(id)\r\n        );\r\n        setSelectedRowIndex(converListSelectedRowId);\r\n    };\r\n\r\n    //* open modal confirm delete khoi kien thuc\r\n    const openConfirmDelete = () => {\r\n        setIsOpenDeleteModel(true);\r\n    };\r\n\r\n    //* handle deleted khoi kien thuc\r\n    const deleteRows = () => {\r\n        const newData = data.filter((row, index) => {\r\n            if (selectedRowIndex.includes(index)) {\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        setData(newData);\r\n        setIsOpenDeleteModel(false);\r\n    };\r\n\r\n    //* contents modal confirm submit\r\n    const bodyConfirmModal = () => {\r\n        return <p>{i18n.t('FLOW_CREATE_CTDT_DETAIL.MODAL_CONFIRM_CONTENT')}</p>;\r\n    };\r\n\r\n    //* contents modal confirm delete\r\n    const bodyConfirmDeleteModal = () => {\r\n        return <p>{i18n.t('FLOW_CREATE_CTDT_DETAIL.MODAL_CONFIRM_CONTENT')}</p>;\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"cautruc_btn_header\">\r\n                <h2>{i18n.t(\"STRUCTURE_BASIC\")}</h2>\r\n            </div>\r\n\r\n            {isLoading ? (\r\n                <Loading />\r\n            ) : (\r\n                <Styles>\r\n                    <div className=\"cautruc_btn_top\">\r\n                        <Button onClick={openConfirmDelete} color=\"danger\">\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.DELETE')}\r\n                        </Button>\r\n                        <Button\r\n                            onClick={addNewRow}\r\n                            color=\"info\"\r\n                            className=\"cautruc_btn add_new_row_btn\"\r\n                        >\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.ADD')}\r\n                        </Button>\r\n                        {/* <Button onClick={handleSaveData} color=\"warning\">\r\n                            Lưu\r\n                        </Button> */}\r\n                        <Button\r\n                            className=\"cautruc_btn submit_btn\"\r\n                            onClick={openConfirmSubmit}\r\n                            color=\"success\"\r\n                        >\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE_&_SUBMIT')}\r\n                        </Button>\r\n                    </div>\r\n\r\n                    <TablesInputSelection\r\n                        columns={columns}\r\n                        data={data}\r\n                        updateMyData={updateMyData}\r\n                        isPagination={false}\r\n                        handleSelectedRow={handleSelectedRow}\r\n                        tongSoTinChi={total}\r\n                        isFooterSum={true}\r\n                    />\r\n                </Styles>\r\n            )}\r\n            <ConfirmSubmit\r\n                modal={isOpenModal}\r\n                toggle={() => setIsOpenModal(!isOpenModal)}\r\n                headerTitle={\"\"}\r\n                bodyContent={bodyConfirmModal()}\r\n                handleOkButtonOnClick={handleSubmit}\r\n                handleCancelButtonOnClick={() => setIsOpenModal(!isOpenModal)}\r\n            />\r\n            <ConfirmSubmit\r\n                modal={isOpenDeleteModel}\r\n                toggle={() => setIsOpenDeleteModel(!isOpenDeleteModel)}\r\n                headerTitle={\"\"}\r\n                bodyContent={bodyConfirmDeleteModal()}\r\n                handleOkButtonOnClick={deleteRows}\r\n                handleCancelButtonOnClick={() =>\r\n                    setIsOpenDeleteModel(!isOpenDeleteModel)\r\n                }\r\n                isModalDelete={true}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CauTrucChuongTrinh;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n    Button,\r\n    Modal,\r\n    ModalFooter,\r\n    ModalHeader,\r\n    ModalBody,\r\n    Label,\r\n} from \"reactstrap\";\r\nimport { useTranslation } from \"react-i18next\";\r\n// import InputSelectSearchable from \"components/common/InputSelectSearchable/InputSelectSearchable\";\r\nimport AsyncSelect from \"react-select/async\";\r\nimport monHocApi from \"api/common/monHoc.api\";\r\nimport { transformData } from \"../utils\";\r\n\r\nconst CreateNewSubject = (props) => {\r\n    const [optionSelected, setOptionSelected] = useState(null);\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    // useEffect(() => {\r\n    //     setOptionSelected(null);\r\n    // }, [props.modal]);\r\n\r\n    const onChange = (selected) => {\r\n        setOptionSelected(selected);\r\n    };\r\n\r\n    const handleOK = () => {\r\n        if (optionSelected?.data) {\r\n            props.handleOkButtonOnClick(optionSelected.data);\r\n            setOptionSelected(null);\r\n        }\r\n        props.toggle();\r\n    };\r\n\r\n    const loadOptions = async (inputValue, callback) => {\r\n        const results = await monHocApi.getAll({ searchKey: inputValue });\r\n        callback(transformData(results?.contents) || []);\r\n    };\r\n\r\n    const { t } = useTranslation();\r\n\r\n    return (\r\n        <Modal isOpen={props.modal} toggle={props.toggle}>\r\n            <ModalHeader toggle={props.toggle}>{props.headerTitle}</ModalHeader>\r\n            <ModalBody>\r\n                <div>\r\n                    <Label>{t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_SUBJECTS.LABEL_SUBJECT')}</Label>\r\n                    <AsyncSelect\r\n                        cacheOptions\r\n                        defaultOptions={props.options}\r\n                        loadOptions={loadOptions}\r\n                        onChange={onChange}\r\n                        value={props.value}\r\n                        onInputChange={(newValue) => setSearch(newValue)}\r\n                    />\r\n                </div>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Button\r\n                    color={`${props.isModalDelete ? \"danger\" : \"primary\"}`}\r\n                    onClick={handleOK}\r\n                >\r\n                    {t(props.titleOk || \"admin.common.OK\")}\r\n                </Button>\r\n                <Button\r\n                    color=\"warning\"\r\n                    onClick={props.handleCancelButtonOnClick}\r\n                >\r\n                    {t(props.titleCancel || \"admin.common.CANCEL\")}\r\n                </Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default CreateNewSubject;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    useTable,\r\n    usePagination,\r\n    useRowState,\r\n    useBlockLayout,\r\n    useRowSelect,\r\n} from \"react-table\";\r\n\r\nimport EditableCell from \"./EditableCell\";\r\nimport SelectableCell from \"./SelectableCell\";\r\nimport IndeterminateCheckbox from \"./IndeterminateCheckbox\";\r\nimport i18n from \"i18n/i18n\";\r\nimport DisableEditCell from \"./DisableEditCell\";\r\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport { FaRegArrowAltCircleRight } from \"react-icons/fa\";\r\n\r\nconst defaultColumn = {\r\n    Cell: EditableCell,\r\n    Select: SelectableCell,\r\n    DisableCell: DisableEditCell,\r\n    width: 50,\r\n};\r\n\r\nfunction TablesSelectionNoiDung({\r\n    columns,\r\n    data,\r\n    updateMyData,\r\n    skipPageReset,\r\n    isPagination,\r\n    handleSelectedRow,\r\n    tongSoTinChi = 0,\r\n    isFooterSum = false,\r\n    moveToSubject,\r\n    ...restProps\r\n}) {\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        prepareRow,\r\n        footerGroups,\r\n        rows,\r\n        state: { selectedRowIds, ...rest },\r\n    } = useTable(\r\n        {\r\n            columns,\r\n            data,\r\n            defaultColumn,\r\n            updateMyData,\r\n        },\r\n        usePagination,\r\n        useRowState,\r\n        useBlockLayout,\r\n        useRowSelect,\r\n        (hooks) => {\r\n            hooks.visibleColumns.push((columns) => [\r\n                {\r\n                    id: \"selection\",\r\n                    Header: ({ getToggleAllRowsSelectedProps }) => (\r\n                        <div>\r\n                            <IndeterminateCheckbox\r\n                                {...getToggleAllRowsSelectedProps()}\r\n                            />\r\n                        </div>\r\n                    ),\r\n                    Cell: ({ row }) => (\r\n                        <div>\r\n                            <IndeterminateCheckbox\r\n                                {...row.getToggleRowSelectedProps()}\r\n                            />\r\n                        </div>\r\n                    ),\r\n                },\r\n                ...columns,\r\n            ]);\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n        handleSelectedRow(Object.keys(selectedRowIds));\r\n    }, [Object.keys(selectedRowIds).length]);\r\n\r\n    return (\r\n        <>\r\n            <div {...getTableProps()} className=\"table\">\r\n                <div>\r\n                    {headerGroups.map((headerGroup) => (\r\n                        <div\r\n                            {...headerGroup.getHeaderGroupProps()}\r\n                            className=\"tr\"\r\n                        >\r\n                            {headerGroup.headers.map((column) => (\r\n                                <div\r\n                                    {...column.getHeaderProps()}\r\n                                    className=\"th\"\r\n                                >\r\n                                    {column.render(\"Header\")}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div {...getTableBodyProps()}>\r\n                    {rows.map((row, i) => {\r\n                        prepareRow(row);\r\n                        return (\r\n                            <div {...row.getRowProps()} className=\"tr\">\r\n                                {row.cells.map((cell) => {\r\n                                    let ComponentChild = () =>\r\n                                        cell.render(\"Cell\");\r\n                                    if (cell?.column?.disabled) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(() => (\r\n                                                <input\r\n                                                    disabled\r\n                                                    value={cell?.value}\r\n                                                />\r\n                                            ));\r\n                                    } else if (cell?.column?.isSelect) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(\"Select\", {\r\n                                                options: cell?.column?.options,\r\n                                                value: cell?.value,\r\n                                            });\r\n                                    } else if (cell?.column?.isValidate) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(\"Cell\", {\r\n                                                isValidate: true,\r\n                                            });\r\n                                    }\r\n                                    else if (cell?.column?.isDisable) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(\"DisableCell\");\r\n                                    }\r\n                                    else if (cell?.column?.isDropdown) {\r\n                                        ComponentChild = () => <DropdownMoveTo cell={cell} {...restProps} moveToSubject={moveToSubject}/>;\r\n                                    }\r\n                                    return (\r\n                                        <div\r\n                                            {...cell.getCellProps()}\r\n                                            className=\"td\"\r\n                                        >\r\n                                            <ComponentChild />\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                                \r\n                            </div>\r\n                        );\r\n                    })}\r\n                    {isFooterSum && <div style={{ display: \"flex\", padding: \"5px 0\" }}>\r\n                        <div style={{ width: \"700px\", textAlign: \"right\" }}>\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.CAU_TRUC_CHUONG_TRINH.TABLE_HEADERS.CREDIT_TOTAL')}\r\n                        </div>\r\n                        <div style={{ marginLeft: \"20px\" }}>{tongSoTinChi}</div>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TablesSelectionNoiDung;\r\n\r\nconst DropdownMoveTo = (props) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const toggle = () => setIsOpen(prevState => !prevState);\r\n    // console.log(`props`, props?.listGomNhom[0])\r\n\r\n    const handleMoveTo = (gomNhomSrc, llktDesc, gomNhomDesc) => {\r\n        props?.moveToSubject(gomNhomSrc, llktDesc, gomNhomDesc)\r\n    }\r\n\r\n    const renderList = () => {\r\n        return props?.listGomNhom?.map(lkkt => {\r\n            return lkkt?.gomNhom?.map((gn, index) => {\r\n                return (<DropdownItem onClick={() => handleMoveTo(props?.cell?.row?.original, lkkt, index)}>{`${lkkt?.ten} - ${gn?.loaiNhom}`}</DropdownItem>)\r\n            })\r\n        })\r\n    }\r\n\r\n    return(\r\n        <Dropdown direction=\"right\" isOpen={isOpen} toggle={toggle}>\r\n            <DropdownToggle>\r\n                <FaRegArrowAltCircleRight />\r\n            </DropdownToggle>\r\n            <DropdownMenu>\r\n                {renderList()}\r\n            </DropdownMenu>\r\n        </Dropdown>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport Styles from \"../component/styled\";\r\nimport TablesSelection from \"../component/TablesSelection\";\r\nimport * as lodash from \"lodash\";\r\nimport { toast } from \"react-toastify\";\r\n// import subject from \"api/common/subject\";\r\nimport ConfirmSubmit from \"../../../../components/admin/ConfirmModal/ConfirmModal\";\r\nimport CreateNewSubject from \"../component/CreateNewSubject\";\r\nimport { transformData } from \"../utils\";\r\nimport i18n from \"i18n/i18n\";\r\nimport TablesSelectionNoiDung from \"../component/TablesSelectionNoiDung\";\r\n\r\nconst NoiDungChuongTrinh = ({\r\n    columns,\r\n    subjects,\r\n    modifyData,\r\n    defaultSubjects,\r\n    modifyDataContainer,\r\n    // addItemToGroup,\r\n    // typeGroup,\r\n    dataContainer,\r\n    listGomNhom,\r\n    moveToSubject\r\n}) => {\r\n    const [data, setData] = useState([]);\r\n    const [selectedRowIndex, setSelectedRowIndex] = useState([]);\r\n    const [isOpenDeleteModal, setIsOpenDeleteModal] = useState(false);\r\n    const [isOpenAddSubjectModal, setIsOpenAddSubjectModal] = useState(false);\r\n\r\n    //* set data into state\r\n    useEffect(() => {\r\n        setData(subjects);\r\n    }, [subjects]);\r\n\r\n    //* add new subject into state\r\n    const addNewMonHoc = (newSubject) => {\r\n        const isExist = checkSubjectIsExist(newSubject?.idMH);\r\n        if(isExist){\r\n            toast.error(i18n.t(\"FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.SUBJECT_WAS_EXISTS\"));\r\n            return;\r\n        }\r\n        \r\n        const cloneData = [...data];\r\n        cloneData.push(newSubject);\r\n        // addItemToGroup(newSubject, typeGroup);\r\n        setData(cloneData);\r\n    };\r\n\r\n    //* update new value into state\r\n    const updateMyData = async (rowIndex, columnId, value) => {\r\n        const objLodash = { data: [...data] };\r\n        let valueUpdate = value;\r\n        if (\r\n            !columnId.includes(\"ma\") &&\r\n            !columnId.includes(\"tenTiengViet\") &&\r\n            !columnId.includes(\"tenTiengAnh\") && !columnId.includes(\"ghiChu\")\r\n        ) {\r\n            valueUpdate = Number(value);\r\n        }\r\n        let newData = lodash.set(\r\n            objLodash,\r\n            `data[${rowIndex}].${columnId}`,\r\n            valueUpdate\r\n        );\r\n        const checkExists = lodash.get(objLodash, `data[${rowIndex}].idMH`);\r\n        if (checkExists) {\r\n            newData = lodash.set(\r\n                { data: [...data] },\r\n                `data[${rowIndex}].isUpdate`,\r\n                true\r\n            );\r\n        }\r\n        setData(newData.data);\r\n    };\r\n\r\n    //* save data into state step\r\n    const handleSaveData = async () => {\r\n        try {\r\n            const cloneData = [...data];\r\n            modifyData(cloneData);\r\n            toast.success(i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE_SUCCESS'));\r\n        } catch (error) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE_ERROR'));\r\n            return;\r\n        }\r\n    };\r\n\r\n    //* handle selected rows to delete\r\n    const handleSelectedRow = (listSelectedRowId) => {\r\n        const converListSelectedRowId = listSelectedRowId.map((id) =>\r\n            Number(id)\r\n        );\r\n        setSelectedRowIndex(converListSelectedRowId);\r\n    };\r\n\r\n    //* handle delete rows selected\r\n    const deleteRows = () => {\r\n        let listRemoved = [];\r\n        const newData = data.filter((row, index) => {\r\n            if (selectedRowIndex.includes(index)) {\r\n                listRemoved.push(row?.idMH)\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        if (listRemoved.length) {\r\n            modifyDataContainer(listRemoved);\r\n        }\r\n        setData(newData);\r\n        modifyData(newData);\r\n        setIsOpenDeleteModal(false);\r\n    };\r\n\r\n    const checkSubjectIsExist = (subID) => {\r\n        for (const kkt of dataContainer) {\r\n            for (const lkkt of kkt?.loaiKhoiKienThuc) {\r\n                for (const gn of lkkt?.gomNhom) {\r\n                    for (const ctgn of gn?.chiTietGomNhom) {\r\n                        if(String(ctgn?.idMH) === String(subID)){\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    const openConfirmDelete = () => {\r\n        setIsOpenDeleteModal(true);\r\n    };\r\n\r\n    const bodyConfirmDeleteModal = () => {\r\n        return <p>{i18n.t('FLOW_CREATE_CTDT_DETAIL.MODAL_CONFIRM_CONTENT')}</p>;\r\n    };\r\n\r\n    return (\r\n        <div style={{marginTop: \"10px\"}}>\r\n            <Styles>\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        padding: \"0 0 10px 0\",\r\n                    }}\r\n                >\r\n                    <Button onClick={handleSaveData} color=\"warning\">\r\n                        {i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE')}\r\n                    </Button>\r\n                    <Button\r\n                        onClick={() => setIsOpenAddSubjectModal(true)}\r\n                        color=\"success\"\r\n                        style={{\r\n                            marginLeft: \"10px\",\r\n                        }}\r\n                    >\r\n                        {i18n.t('FLOW_CREATE_CTDT_DETAIL.ADD')}\r\n                    </Button>\r\n                    <Button\r\n                        onClick={openConfirmDelete}\r\n                        color=\"danger\"\r\n                        style={{\r\n                            marginLeft: \"10px\",\r\n                        }}\r\n                    >\r\n                        {i18n.t('FLOW_CREATE_CTDT_DETAIL.DELETE')}\r\n                    </Button>\r\n                </div>\r\n                <TablesSelectionNoiDung\r\n                    columns={columns}\r\n                    data={data}\r\n                    updateMyData={updateMyData}\r\n                    skipPageReset={true}\r\n                    isPagination={false}\r\n                    handleSelectedRow={handleSelectedRow}\r\n                    listGomNhom={listGomNhom}\r\n                    moveToSubject={moveToSubject}\r\n                />\r\n            </Styles>\r\n            <ConfirmSubmit\r\n                modal={isOpenDeleteModal}\r\n                toggle={() => setIsOpenDeleteModal(!isOpenDeleteModal)}\r\n                headerTitle={\"\"}\r\n                bodyContent={bodyConfirmDeleteModal()}\r\n                handleOkButtonOnClick={deleteRows}\r\n                handleCancelButtonOnClick={() =>\r\n                    setIsOpenDeleteModal(!isOpenDeleteModal)\r\n                }\r\n                isModalDelete={true}\r\n            />\r\n            {/* <ConfirmSubmit\r\n                modal={isOpenAddSubjectModal}\r\n                toggle={() => setIsOpenAddSubjectModal(!isOpenAddSubjectModal)}\r\n                headerTitle={\"Thêm mới môn học\"}\r\n                bodyContent={<p></p>}\r\n                // handleOkButtonOnClick={deleteRows}\r\n                handleCancelButtonOnClick={() =>\r\n                    setIsOpenAddSubjectModal(!isOpenAddSubjectModal)\r\n                }\r\n            /> */}\r\n            <CreateNewSubject\r\n                options={transformData(defaultSubjects)}\r\n                modal={isOpenAddSubjectModal}\r\n                toggle={() => setIsOpenAddSubjectModal(!isOpenAddSubjectModal)}\r\n                headerTitle={\"\"}\r\n                handleOkButtonOnClick={addNewMonHoc}\r\n                handleCancelButtonOnClick={() =>\r\n                    setIsOpenAddSubjectModal(!isOpenAddSubjectModal)\r\n                }\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NoiDungChuongTrinh;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Select from \"react-select\";\r\n\r\nconst InputSelectSearchable = ({\r\n    options = [],\r\n    isClearable = true,\r\n    isSearchable = true,\r\n    onChange,\r\n    value,\r\n}) => {\r\n    return (\r\n        <Select\r\n            className=\"basic-single\"\r\n            classNamePrefix=\"select\"\r\n            options={options}\r\n            onChange={onChange}\r\n            isClearable={isClearable}\r\n            isSearchable={isSearchable}\r\n            value={value}\r\n        />\r\n    );\r\n};\r\n\r\nexport default InputSelectSearchable;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { FormGroup, Label, Button, Form, Input } from \"reactstrap\";\r\nimport InputSelectSearchable from \"components/common/InputSelectSearchable/InputSelectSearchable\";\r\nimport { toast } from \"react-toastify\";\r\nimport { LOAI_HP } from \"../contantsCTDT\";\r\nimport i18n from \"i18n/i18n\";\r\n\r\n// const emptyLoaiKhoiKienThuc = {\r\n//     maLoaiKhoiKienThuc: \"\",\r\n//     ten: \"\",\r\n//     tongTinChi: 0,\r\n//     noidung: \"\",\r\n//     gomNhom: [],\r\n// };\r\n\r\n// const initialValues = {\r\n//     ten: \"\",\r\n//     loaiKhoiKienThuc: [\r\n//         {\r\n//             maLoaiKhoiKienThuc: \"\",\r\n//             ten: \"\",\r\n//             tongTinChi: 0,\r\n//             noidung: \"\",\r\n//             gomNhom: [],\r\n//         },\r\n//     ],\r\n// };\r\n\r\nconst tranformData = (data) => {\r\n    if (data.length) {\r\n        const newData = data.map((item, index) => {\r\n            return {\r\n                value: item.id || \"NO_ID\",\r\n                label: item.ten,\r\n                id: item?.id || \"NO_ID\",\r\n                index,\r\n            };\r\n        });\r\n        return newData;\r\n    }\r\n    return [];\r\n};\r\n\r\nconst CreateKhoiKienThuc = (props) => {\r\n    const [listKhoiKienThuc, setListKhoiKienThuc] = useState(\r\n        tranformData(props.khoiKienThuc)\r\n    );\r\n    const [khoiKienThucSelected, setKhoiKienThucSelected] = useState(null);\r\n    const [loaiKhoiKienThuc, setLoaiKhoiKienThuc] = useState(\"\");\r\n    const [gomNhomList, setGomNhomList] = useState([\r\n        {\r\n            maGN: null,\r\n            loaiNhom: \"BB\",\r\n            soTCBB: 0,\r\n            tieuDe: null,\r\n            stt: 1,\r\n            chiTietGomNhom: [],\r\n        },\r\n    ]);\r\n    const [error, setError] = useState({ ten: \"\", loaiKhoiKienThuc: \"\" });\r\n\r\n    const handleChangeKhoiKienThuc = (selectedOption) => {\r\n        setKhoiKienThucSelected(selectedOption);\r\n    };\r\n\r\n    const addNewGomNhom = () => {\r\n        const cloneGomNhom = [...gomNhomList];\r\n        cloneGomNhom.push({\r\n            maGN: null,\r\n            loaiNhom: \"BB\",\r\n            soTCBB: 0,\r\n            tieuDe: null,\r\n            stt: cloneGomNhom.length + 1,\r\n            chiTietGomNhom: [],\r\n        });\r\n        setGomNhomList(cloneGomNhom);\r\n    };\r\n\r\n    const handleOnChangeTieuDeGomNhom = (e) => {\r\n        const { value, id } = e.target;\r\n        if (id) {\r\n            const inputIndex = id?.split(\"-\")[1];\r\n            const cloneGomNhomList = [...gomNhomList];\r\n            cloneGomNhomList[inputIndex] = {\r\n                ...cloneGomNhomList[inputIndex],\r\n                tieuDe: value === '' ? null : value,\r\n            };\r\n            setGomNhomList(cloneGomNhomList);\r\n        }\r\n    };\r\n\r\n    const handleOnChangeSoTinChiGomNhom = (e) => {\r\n        const { value, id } = e.target;\r\n\r\n        if (id) {\r\n            const inputIndex = id?.split(\"-\")[1];\r\n            const cloneGomNhomList = [...gomNhomList];\r\n            cloneGomNhomList[inputIndex] = {\r\n                ...cloneGomNhomList[inputIndex],\r\n                soTCBB: value,\r\n            };\r\n            setGomNhomList(cloneGomNhomList);\r\n        }\r\n    };\r\n\r\n    const handleChangeLoaiNhom = (selectedOption, index) => {\r\n        if (index) {\r\n            const inputIndex = index?.split(\"-\")[1];\r\n            const cloneGomNhomList = [...gomNhomList];\r\n            cloneGomNhomList[inputIndex] = {\r\n                ...cloneGomNhomList[inputIndex],\r\n                loaiNhom: selectedOption?.value || `${i18n.t('FLOW_CREATE_CTDT_DETAIL.LOAI_HP.BB')}`,\r\n            };\r\n            setGomNhomList(cloneGomNhomList);\r\n        }\r\n    };\r\n\r\n    const onSubmit = () => {\r\n        if (typeof (khoiKienThucSelected?.index) !== \"undefined\" && khoiKienThucSelected?.index !== null && loaiKhoiKienThuc) {\r\n            const tongTinChiLKK = gomNhomList?.reduce((total, cur) => {\r\n                return (total += Number(cur?.soTCBB || 0));\r\n            }, 0);\r\n            const loaiKhoiKienThucSubmit = {\r\n                maLoaiKhoiKienThuc: \"\",\r\n                noidung: \"\",\r\n                ten: loaiKhoiKienThuc,\r\n                tongTinChi: tongTinChiLKK,\r\n                gomNhom: gomNhomList,\r\n            };\r\n            props.submit(khoiKienThucSelected.index, loaiKhoiKienThucSubmit);\r\n        } else {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_KNOWLEDGE_BLOCK.ERROR'));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form>\r\n                <FormGroup>\r\n                    <div>\r\n                        <Label>{`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_KNOWLEDGE_BLOCK.KNOWLEDGE_BLOCK')}`}</Label>\r\n                        <div className=\"error_message\">\r\n                            {error.error || null}\r\n                        </div>\r\n\r\n                        <InputSelectSearchable\r\n                            value={khoiKienThucSelected}\r\n                            options={listKhoiKienThuc}\r\n                            onChange={handleChangeKhoiKienThuc}\r\n                            className=\"basicinfo_input\"\r\n                        />\r\n                    </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <div>\r\n                        <Label>{`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_KNOWLEDGE_BLOCK.TYPE_KNOWLEDGE')}`}</Label>\r\n                    </div>\r\n                    <div>\r\n                        <Input\r\n                            // key={`input-${index}`}\r\n                            // name={item.name}\r\n                            // id={`input-${index}`}\r\n                            placeholder={`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_KNOWLEDGE_BLOCK.PLACE_HOLDER_TYPE_KNOWLEDGE')}`}\r\n                            value={loaiKhoiKienThuc || \"\"}\r\n                            onChange={(e) =>\r\n                                setLoaiKhoiKienThuc(e?.target?.value)\r\n                            }\r\n                        />\r\n                    </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <div>\r\n                        <Label>{`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_KNOWLEDGE_BLOCK.LIST_GROUP')}`}</Label>\r\n                    </div>\r\n                    <div>\r\n                        {gomNhomList.map((item, index) => (\r\n                            <div style={{ marginTop: \"10px\" }}>\r\n                                <div>\r\n                                    <Input\r\n                                        key={`input-${index}`}\r\n                                        // name={item.name}\r\n                                        id={`input-${index}`}\r\n                                        placeholder={`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_KNOWLEDGE_BLOCK.PLACE_HOLDER_GROUP_TITLE')}`}\r\n                                        value={item?.tieuDe || \"\"}\r\n                                        onChange={handleOnChangeTieuDeGomNhom}\r\n\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ marginTop: \"10px\" }}>\r\n                                    <InputSelectSearchable\r\n                                        value={{\r\n                                            value: item?.loaiNhom,\r\n                                            label: item?.loaiNhom,\r\n                                        }}\r\n                                        placeholder={`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_KNOWLEDGE_BLOCK.PLACE_HOLDER_GROUP_TYPE')}`}\r\n                                        options={LOAI_HP}\r\n                                        onChange={(selectedOption) =>\r\n                                            handleChangeLoaiNhom(\r\n                                                selectedOption,\r\n                                                `input-${index}`\r\n                                            )\r\n                                        }\r\n                                    // className=\"basicinfo_input\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ marginTop: \"10px\" }}>\r\n                                    <Input\r\n                                        type=\"number\"\r\n                                        key={`input-${index}`}\r\n                                        // name={item.name}\r\n                                        id={`input-${index}`}\r\n                                        placeholder={`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_KNOWLEDGE_BLOCK.MAXIMUM_TOTAL_CREDIT')}`}\r\n                                        value={item?.soTCBB}\r\n                                        onChange={handleOnChangeSoTinChiGomNhom}\r\n                                    />\r\n                                </div>\r\n                                <hr />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </FormGroup>\r\n            </form>\r\n            <div className=\"modal_footer_btn\">\r\n                <div>\r\n                    <Button onClick={addNewGomNhom} color=\"warning\">\r\n                        {`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CREATE_NEW_KNOWLEDGE_BLOCK.ADD_NEW_GROUP')}`}\r\n                    </Button>\r\n                </div>\r\n                <div>\r\n                    <Button color=\"success\" onClick={onSubmit}>\r\n                        {`${i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE')}`}\r\n                    </Button>{\" \"}\r\n                    <Button color=\"danger\" onClick={props.toggleCreateKKT}>\r\n                        {`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CANCEL')}`}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateKhoiKienThuc;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport CreateKhoiKienThuc from \"../component/CreateNewKhoiKienThuc\";\r\nimport { Modal, ModalHeader, ModalBody } from \"reactstrap\";\r\n\r\nimport \"./css/ModalCreateLoaiKhoiKienThuc.css\";\r\n\r\nconst ModalCreateLoaiKhoiKienThuc = (props) => {\r\n    return (\r\n        <Modal isOpen={props.isOpenCreateKKT} toggle={props.toggleCreateKKT}>\r\n            <ModalHeader toggle={props.toggleCreateKKT}>\r\n\r\n            </ModalHeader>\r\n            <ModalBody>\r\n                <CreateKhoiKienThuc\r\n                    khoiKienThuc={props.khoiKienThuc}\r\n                    submit={props.addNewKhoiKienThuc}\r\n                    toggleCreateKKT={props.toggleCreateKKT}\r\n                />\r\n            </ModalBody>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default ModalCreateLoaiKhoiKienThuc;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport NoiDungChuongTrinh from \"./NoiDungChuongTrinh\";\r\nimport { Button } from \"reactstrap\";\r\nimport Loading from \"components/common/loading/Loading\";\r\nimport ModalCreateLoaiKhoiKienThuc from \"./ModalCreateLoaiKhoiKienThuc\";\r\n// import cloneTemplateAPI from \"api/common/cloneTemplate.api\";\r\nimport { toast } from \"react-toastify\";\r\nimport ConfirmSubmit, { InputModal } from \"../../../../components/admin/ConfirmModal/ConfirmModal\";\r\n\r\nimport \"./css/NoiDungChuongTrinhWrapper.css\";\r\nimport monHocApi from \"api/common/monHoc.api\";\r\n// import { LOAI_HP } from \"../contantsCTDT\";\r\nimport i18n from \"i18n/i18n\";\r\nimport { LOAI_HP } from \"../contantsCTDT\";\r\n\r\nconst emptyChiTietGomNhom = {\r\n    idMH: null,\r\n    ghiChu: \"\",\r\n    monHoc: {\r\n        ma: \"\",\r\n        tenTiengViet: \"\",\r\n        tenTiengAnh: \"\",\r\n        soTinChi: 0,\r\n        soTietLyThuyet: 0,\r\n        soTietThucHanh: 0,\r\n        soTietTuHoc: 0,\r\n        id: null,\r\n        isDeleted: false,\r\n    },\r\n};\r\n\r\nconst extractGroups = data => {\r\n    let list = [];\r\n    for (const kkt of data) {\r\n        for (const lkkt of kkt?.loaiKhoiKienThuc) {\r\n            list.push(lkkt);\r\n        }\r\n    }\r\n    return list;\r\n}\r\n\r\nconst NoiDungChuongTrinhWrapper = (props) => {\r\n    const [dataContainer, setDataContainer] = useState(null);\r\n    const [data, setData] = useState([]);\r\n    // const [idCTNDT, setIdCTNDT] = useState(\"\");\r\n    // const [idCTNDTClone, setIdCTNDTClone] = useState(\"\");\r\n    const [isOpenCreateKKT, setIsOpenCreateKKT] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isOpenModal, setIsOpenModal] = useState(false);\r\n    const [defaultSubjects, setDefaultSubjects] = useState([]);\r\n    // const [listSubjectUnGroup, setListSubjectUnGroup] = useState([]);\r\n    const [listGroup, setListGroup] = useState([]);\r\n\r\n    //* toggle modal create new loai khoi kien thuc\r\n    const toggleCreateKKT = () => setIsOpenCreateKKT(!isOpenCreateKKT);\r\n\r\n    //* add new a subject to loai khoi kien thuc\r\n    // const addNewMonHoc = (kktIndex, lkktIndex, gomNhomIndex) => {\r\n    //     const cloneData = [...data];\r\n    //     cloneData[kktIndex].loaiKhoiKienThuc[lkktIndex].gomNhom[\r\n    //         gomNhomIndex\r\n    //     ].chiTietGomNhom.push(emptyChiTietGomNhom);\r\n    //     setData(cloneData);\r\n    // };\r\n\r\n    //* handle edit value data\r\n    const modifyData = async (kktIndex, lkktIndex, gomNhomIndex, newData) => {\r\n        const cloneData = [...data];\r\n        cloneData[kktIndex].loaiKhoiKienThuc[lkktIndex].gomNhom[\r\n            gomNhomIndex\r\n        ].chiTietGomNhom = [...newData];\r\n        setData(cloneData);\r\n    };\r\n\r\n    const modifyDataContainer = async (listRemoved) => {\r\n        const dataClone = props.getState(\"dataClone\", { keHoachGiangDay: [] });\r\n\r\n        const keHoachRemoved = dataClone?.keHoachGiangDay?.map(kh => {\r\n            const newChiTietKeHoach = kh?.chiTietKeHoach?.filter(ctkh => {\r\n                if (listRemoved.find(item => String(item) === String(ctkh?.chiTietGomNhom?.monHoc?.id))) {\r\n                    // eslint-disable-next-line\r\n                    return false;\r\n                }\r\n                return true;\r\n            })\r\n            return { ...kh, chiTietKeHoach: newChiTietKeHoach };\r\n        });\r\n\r\n\r\n\r\n        setDataContainer(old => {\r\n            return { ...old, keHoachGiangDay: keHoachRemoved }\r\n        });\r\n    }\r\n\r\n    //* add new a loai khoi kien thuc\r\n    const addNewKhoiKienThuc = (index, loaiKhoiKienThuc) => {\r\n        const cloneData = [...data];\r\n        cloneData[index].loaiKhoiKienThuc = [\r\n            ...cloneData[index].loaiKhoiKienThuc,\r\n            loaiKhoiKienThuc,\r\n        ];\r\n        setData(cloneData);\r\n        setIsOpenCreateKKT(false);\r\n    };\r\n\r\n    //* save data into state step\r\n    // const handleSave = async () => {\r\n    //     try {\r\n    //         props.setState(\"dataClone\", {...dataContainer, khoiKienThuc: data});\r\n    //         // props.setState(\"noiDung\", data);\r\n    //         toast.success(\"SUCCESS\");\r\n    //         // props.next();\r\n    //     } catch (error) {\r\n    //         toast.error(\"Lưu lỗi\");\r\n    //         return;\r\n    //     }\r\n    // };\r\n\r\n    //* get data clone from step state or call API\r\n    useEffect(() => {\r\n        (async () => {\r\n            setIsLoading(true);\r\n            const stateData = props.getState(\"dataClone\", { khoiKienThuc: [], unGroup: [] });\r\n            if (stateData?.khoiKienThuc) {\r\n                setDataContainer(stateData);\r\n                setData(stateData?.khoiKienThuc);\r\n                // setListSubjectUnGroup(stateData?.unGroup || []);\r\n                setListGroup(extractGroups(stateData?.khoiKienThuc))\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.ERROR_FETCH_DATA'));\r\n\r\n            // const stateCauTrucChuongTrinh = props.getState(\r\n            //     \"cauTrucChuongTrinh\"\r\n            // );\r\n            // if (stateCauTrucChuongTrinh) {\r\n            //     setData(stateCauTrucChuongTrinh);\r\n            //     setIsLoading(false);\r\n            //     return;\r\n            // }\r\n\r\n            // const { idCTNDT } = props.getState(\"step1\", { idCTNDT: \"\" });\r\n            // const { idCTNDTClone } = props.getState(\"step2\", {\r\n            //     idCTNDTClone: \"\",\r\n            // });\r\n            // if (idCTNDT && idCTNDTClone) {\r\n            //     setIdCTNDT(idCTNDT);\r\n            //     setIdCTNDTClone(idCTNDTClone);\r\n            //     const data = await fetchTemplate({ idCTNDT, idCTNDTClone });\r\n            //     setData(data);\r\n            // } else {\r\n            //     toast.error(\"Lỗi, idCTNDT hoặc idCTNDTClone rỗng\");\r\n            // }\r\n            setIsLoading(false);\r\n        })();\r\n    }, []);\r\n\r\n    //* get default list subjects\r\n    useEffect(() => {\r\n        (async () => {\r\n            const results = await monHocApi.getAll({ limit: 20 });\r\n            if (results?.contents) {\r\n                setDefaultSubjects(results?.contents || []);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    //* call API get clone data noi dung chuong trinh\r\n    // const fetchTemplate = async (params) => {\r\n    //     try {\r\n    //         const result = await cloneTemplateAPI.getTemplateKKT(params);\r\n    //         return result;\r\n    //     } catch (error) {\r\n    //         toast.error(\"ERROR\");\r\n    //         return [];\r\n    //     }\r\n    // };\r\n\r\n    //* call API to create new noi dung chuong trinh\r\n    const handleNoiDungSubmit = async () => {\r\n        try {\r\n            // const { idCTNDT } = props.getState(\"step1\", { idCTNDT: \"\" });\r\n            // const { idCTNDTClone } = props.getState(\"step2\", {\r\n            //     idCTNDTClone: \"\",\r\n            // });\r\n            // if (data && idCTNDT && idCTNDTClone) {\r\n            //     const results = await cloneTemplateAPI.postTemplateKKT(\r\n            //         { idCTNDT, idCTNDTClone },\r\n            //         data\r\n            //     );\r\n            //     props.setState(\"noiDung\", data);\r\n            //     setIsOpenModal(false);\r\n            // }\r\n            // if (listSubjectUnGroup?.length) {\r\n            //     props.setState(\"dataClone\", { ...dataContainer, khoiKienThuc: data, unGroup: listSubjectUnGroup });\r\n            // } else {\r\n            // }\r\n            props.setState(\"dataClone\", { ...dataContainer, khoiKienThuc: data });\r\n            props.next();\r\n            // toast.success(i18n.t('FLOW_CREATE_CTDT_DETAIL.SUBMIT_SUCCESS'));\r\n        } catch (error) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.SUBMIT_ERROR'));\r\n        }finally{\r\n            setIsOpenModal(false);\r\n        }\r\n    };\r\n\r\n    // const addItemToGroup = (subject, type = \"BB\") => {\r\n    //     const isExist = listSubjectUnGroup?.find((sub) => {\r\n    //         return String(sub?.idMH) === String(subject?.idMH)\r\n    //     });\r\n\r\n    //     if (isExist) {\r\n    //         const newList = listSubjectUnGroup?.map((sub) => {\r\n    //             if (String(sub?.idMH) === String(subject?.idMH)) {\r\n    //                 return { ...subject, gomNhom: { loaiNhom: type } }\r\n    //             }\r\n    //             return sub;\r\n    //         });\r\n    //         setListSubjectUnGroup(newList);\r\n    //         return;\r\n    //     }\r\n\r\n    //     setListSubjectUnGroup(old => {\r\n    //         return [...old, { ...subject, gomNhom: { loaiNhom: type } }];\r\n    //     })\r\n    // }\r\n\r\n    //* open modal confirm submit\r\n    const openConfirmSubmit = () => {\r\n        setIsOpenModal(true);\r\n    };\r\n\r\n    //* contents of confirm modal\r\n    const bodyConfirmModal = () => {\r\n        return <p>{i18n.t('FLOW_CREATE_CTDT_DETAIL.MODAL_CONFIRM_CONTENT')}</p>;\r\n    };\r\n\r\n    const deleteGroups = async (itemIndex, kktIndex, lkktIndex) => {\r\n        const cloneData = [...data];\r\n        let arrDeleted = [];\r\n        let isDeletedGomNhom = false;\r\n        if(typeof(lkktIndex) !== \"undefined\" && lkktIndex !== null ){\r\n            isDeletedGomNhom = true;\r\n            arrDeleted = cloneData[kktIndex].loaiKhoiKienThuc[lkktIndex].gomNhom?.splice(itemIndex, 1);\r\n        }else{\r\n            const parent = cloneData[kktIndex].loaiKhoiKienThuc[itemIndex];\r\n            arrDeleted = cloneData[kktIndex].loaiKhoiKienThuc?.splice(itemIndex, 1);\r\n        }\r\n        const keHoachGiangDay = dataContainer?.keHoachGiangDay || [];\r\n        if(isDeletedGomNhom){\r\n            const newKeHoach = keHoachGiangDay?.map(kh => {\r\n                const newChiTietKeHoach = kh?.chiTietKeHoach?.filter(ctkh => {\r\n                    const isExist = arrDeleted[0]?.chiTietGomNhom?.find(item => {\r\n                        if(String(ctkh?.chiTietGomNhom?.monHoc?.id) === String(item?.idMH)){\r\n                            return true;\r\n                        }\r\n                        return false;\r\n                    });\r\n                    if(isExist){\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                });\r\n                return {...kh, chiTietKeHoach: newChiTietKeHoach};\r\n            })\r\n            setDataContainer(old => {\r\n                return {...old, keHoachGiangDay: newKeHoach};\r\n            })\r\n        }else{\r\n            const newKeHoach = keHoachGiangDay?.map(kh => {\r\n                const newChiTietKeHoach = kh?.chiTietKeHoach?.filter(ctkh => {\r\n                    for (const gomNhom of arrDeleted[0]?.gomNhom) {\r\n                        for (const ctgn of gomNhom?.chiTietGomNhom) {\r\n                            if(String(ctgn?.monHoc?.id) === String(ctkh?.chiTietGomNhom?.monHoc?.id)){\r\n                                return false;\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                    return true;\r\n                });\r\n                return {...kh, chiTietKeHoach: newChiTietKeHoach};\r\n            })\r\n            setDataContainer(old => {\r\n                return {...old, keHoachGiangDay: newKeHoach};\r\n            })\r\n        }\r\n        setListGroup(extractGroups(cloneData));\r\n        setData(cloneData);\r\n    }\r\n\r\n    const addGomNhom = (kktIndex, lkktIndex) => {\r\n        const cloneData = [...data];\r\n        if(typeof(lkktIndex) !== \"undefined\" && lkktIndex !== null ){\r\n            const stt = cloneData[kktIndex].loaiKhoiKienThuc[lkktIndex].gomNhom?.length;\r\n            cloneData[kktIndex].loaiKhoiKienThuc[lkktIndex].gomNhom?.push({\r\n                maGN: null,\r\n                loaiNhom: \"BB\",\r\n                soTCBB: 0,\r\n                tieuDe: null,\r\n                stt: stt + 1,\r\n                chiTietGomNhom: [],\r\n            });\r\n            setData(cloneData);\r\n            setListGroup(extractGroups(cloneData));\r\n        }\r\n    }\r\n\r\n    const changeTypeGroup = (e, kktIndex, lkktIndex, gomNhomIndex) => {\r\n        const cloneData = [...data];\r\n        if(typeof(lkktIndex) !== \"undefined\" && lkktIndex !== null && typeof(gomNhomIndex) !== \"undefined\" && gomNhomIndex !== null ){\r\n            const item = cloneData[kktIndex].loaiKhoiKienThuc[lkktIndex].gomNhom[gomNhomIndex];\r\n            cloneData[kktIndex].loaiKhoiKienThuc[lkktIndex].gomNhom[gomNhomIndex] = {\r\n                ...item,\r\n                loaiNhom: e?.target?.value\r\n            };\r\n            setData(cloneData);\r\n            setListGroup(extractGroups(cloneData));\r\n        }\r\n    }\r\n\r\n    const changeTieuDe = (e, kktIndex, lkktIndex, gomNhomIndex) => {\r\n        const cloneData = [...data];\r\n        if(typeof(lkktIndex) !== \"undefined\" && lkktIndex !== null && typeof(gomNhomIndex) !== \"undefined\" && gomNhomIndex !== null ){\r\n            const item = cloneData[kktIndex].loaiKhoiKienThuc[lkktIndex].gomNhom[gomNhomIndex];\r\n            cloneData[kktIndex].loaiKhoiKienThuc[lkktIndex].gomNhom[gomNhomIndex] = {\r\n                ...item,\r\n                tieuDe: e?.target?.value\r\n            };\r\n            setData(cloneData);\r\n        }\r\n    }\r\n\r\n    const moveToSubject = (gomNhomSrc, lkktDesc, gomNhomDesc) => {\r\n\r\n        // console.log(\"🚀 ~ file: TablesSelectionNoiDung.js ~ line 172 ~ handleMoveTo ~ lkktDesc\", lkktDesc)\r\n        // console.log(\"🚀 ~ file: TablesSelectionNoiDung.js ~ line 172 ~ handleMoveTo ~ gomNhomDesc\", gomNhomDesc)\r\n        // console.log(\"🚀 ~ file: TablesSelectionNoiDung.js ~ line 172 ~ handleMoveTo ~ gomNhomSrc\", gomNhomSrc)\r\n        const cloneData = [...data];\r\n        for (const kkt of cloneData) {\r\n            for (const lkkt of kkt?.loaiKhoiKienThuc) {\r\n                for (const gn of lkkt?.gomNhom) {\r\n                    for (const ctgn of gn?.chiTietGomNhom) {\r\n                        const index = gn?.chiTietGomNhom?.findIndex((ctgn, index) => {\r\n                            if(String(ctgn?.idMH) === String(gomNhomSrc?.idMH)){\r\n                                return true\r\n                            }\r\n                          })\r\n                        if(index !== -1){\r\n                            gn?.chiTietGomNhom.splice(index, 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        for (const kkt of cloneData) {\r\n            for (const lkkt of kkt?.loaiKhoiKienThuc) {\r\n                if(String(lkkt?.ten) === String(lkktDesc?.ten)){\r\n                    lkkt?.gomNhom?.[gomNhomDesc]?.chiTietGomNhom?.push(gomNhomSrc)\r\n                }\r\n            }\r\n        }\r\n        setData(cloneData);\r\n    }\r\n\r\n    const renderContent = () => {\r\n        return (\r\n            <div className=\"noi_dung_content\">\r\n                <ol>\r\n                    {data.map((khoiKienThuc, kktIndex) => {\r\n                        return (\r\n                            <li key={`khoiKienThuc-${kktIndex}`}>\r\n                                <p>{khoiKienThuc.ten}</p>\r\n                                <ol>\r\n                                    {khoiKienThuc.loaiKhoiKienThuc.map(\r\n                                        (loaiKKT, lkktIndex) => (\r\n                                            <li\r\n                                                key={`khoiKienThuc-${kktIndex}loaiKKT-${kktIndex}-${loaiKKT.ten}`}\r\n                                            >\r\n                                                <span style={{display: \"flex\"}}>\r\n                                                    <p>{loaiKKT.ten}</p>\r\n                                                    <div className=\"btn_container\" onClick={() => deleteGroups(lkktIndex,kktIndex)}>\r\n                                                        <span class=\"btn-delete\"><i class=\"fa fa-close\"></i></span>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"btn_container\" onClick={() => addGomNhom(kktIndex, lkktIndex)}>\r\n                                                        <span class=\"btn-plus\"><i class=\"fa fa-plus\"></i></span>\r\n                                                    </div>\r\n                                                </span>\r\n                                                <ul>\r\n                                                    {loaiKKT.gomNhom.map(\r\n                                                        (\r\n                                                            gomNhomItem,\r\n                                                            gomNhomIndex\r\n                                                        ) => (\r\n                                                            <li key={`khoiKienThuc-${kktIndex}loaiKKT-${kktIndex}-gomNhomIndex-${gomNhomIndex}`}>\r\n                                                                <div style={{display: \"flex\"}}>\r\n                                                                    {gomNhomItem?.loaiNhom ? <div>\r\n                                                                        <label>\r\n                                                                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TYPE_GROUP')}\r\n                                                                        </label>\r\n                                                                        <select style={{marginLeft: \"5px\", border: 0}} value={gomNhomItem?.loaiNhom} onChange={(e) => changeTypeGroup(e, kktIndex, lkktIndex, gomNhomIndex)}>\r\n                                                                            {\r\n                                                                                LOAI_HP.map(item => (<option>{item?.value}</option>))\r\n                                                                            }\r\n                                                                        </select>\r\n                                                                        {/* {\r\n                                                                            gomNhomItem?.loaiNhom ? `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TYPE_GROUP')}: ${gomNhomItem?.loaiNhom}` : ''\r\n                                                                        } */}\r\n                                                                    </div> : ''}\r\n                                                                    \r\n                                                                    <div className=\"btn_container\" onClick={() => deleteGroups(gomNhomIndex,kktIndex, lkktIndex)}>\r\n                                                                        <span class=\"btn-delete\"><i class=\"fa fa-close\"></i></span>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                \r\n                                                                <div style={{display: \"flex\"}}>\r\n                                                                    <label style={{margin: \"auto 5px\"}}>{`${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TITLE')}: `}</label>\r\n                                                                    <input \r\n                                                                        value={gomNhomItem?.tieuDe || ''}\r\n                                                                        onChange={(e) => changeTieuDe(e, kktIndex, lkktIndex, gomNhomIndex)}\r\n                                                                        style={{width:\"60%\", border: 0}}/>\r\n                                                                </div>\r\n                                                                <NoiDungChuongTrinh\r\n                                                                    modifyDataContainer={modifyDataContainer}\r\n                                                                    // addItemToGroup={addItemToGroup}\r\n                                                                    listGomNhom={listGroup}\r\n                                                                    moveToSubject={moveToSubject}\r\n                                                                    subjects={\r\n                                                                        gomNhomItem.chiTietGomNhom\r\n                                                                    }\r\n                                                                    typeGroup={gomNhomItem?.loaiNhom}\r\n                                                                    dataContainer={data}\r\n                                                                    // addNewMonHoc={() =>\r\n                                                                    //     addNewMonHoc(\r\n                                                                    //         kktIndex,\r\n                                                                    //         lkktIndex,\r\n                                                                    //         gomNhomIndex\r\n                                                                    //     )\r\n                                                                    // }\r\n                                                                    modifyData={(\r\n                                                                        listSubject\r\n                                                                    ) =>\r\n                                                                        modifyData(\r\n                                                                            kktIndex,\r\n                                                                            lkktIndex,\r\n                                                                            gomNhomIndex,\r\n                                                                            listSubject\r\n                                                                        )\r\n                                                                    }\r\n                                                                    columns={[\r\n                                                                        {\r\n                                                                            Header:\r\n                                                                                `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.CODE')}`,\r\n                                                                            accessor:\r\n                                                                                \"monHoc.ma\",\r\n                                                                            width: 100,\r\n                                                                            isDisable: true\r\n                                                                        },\r\n                                                                        {\r\n                                                                            Header:\r\n                                                                                `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.VN_NAME')}`,\r\n                                                                            accessor:\r\n                                                                                \"monHoc.tenTiengViet\",\r\n                                                                            width: 450,isDisable: true\r\n                                                                        },\r\n                                                                        {\r\n                                                                            Header:\r\n                                                                                `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.CREDIT_NUMBER')}`,\r\n                                                                            accessor:\r\n                                                                                \"monHoc.soTinChi\",\r\n                                                                            width: 80,\r\n                                                                            isDisable: true\r\n                                                                        },\r\n                                                                        {\r\n                                                                            Header:\r\n                                                                                `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.NUMBER_OF_CLASSES')}`,\r\n                                                                            columns: [\r\n                                                                                {\r\n                                                                                    Header:\r\n                                                                                        `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TOTAL_THEORY_PERIOD')}`,\r\n                                                                                    accessor:\r\n                                                                                        \"monHoc.soTietLyThuyet\",\r\n                                                                                    width: 80,\r\n                                                                                    isDisable: true\r\n                                                                                },\r\n                                                                                {\r\n                                                                                    Header:\r\n                                                                                        `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TOTAL_PRACTICE_PERIOD')}`,\r\n                                                                                    accessor:\r\n                                                                                        \"monHoc.soTietThucHanh\",\r\n                                                                                    width: 80,\r\n                                                                                    isDisable: true\r\n                                                                                },\r\n                                                                                {\r\n                                                                                    Header:\r\n                                                                                        `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TOTAL_PRACTICE')}`,\r\n                                                                                    accessor:\r\n                                                                                        \"monHoc.soTietTuHoc\",\r\n                                                                                    width: 80,\r\n                                                                                    isDisable: true\r\n                                                                                },\r\n                                                                            ],\r\n                                                                        },\r\n                                                                        // {\r\n                                                                        //     Header:\r\n                                                                        //         \"Loai hoc phan\",\r\n                                                                        //     accessor:\r\n                                                                        //         \"loaiNhom\",\r\n                                                                        //     width: 80,\r\n                                                                        //     isSelect: true,\r\n                                                                        //     options: LOAI_HP,\r\n                                                                        // },\r\n                                                                        {\r\n                                                                            Header:\r\n                                                                                `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.NOTE')}`,\r\n                                                                            accessor:\r\n                                                                                \"ghiChu\",\r\n                                                                            width: 100\r\n                                                                        },\r\n                                                                        {\r\n                                                                            Header:\r\n                                                                                ` `,\r\n                                                                            width: 120,\r\n                                                                            isDropdown: true\r\n                                                                        },\r\n                                                                    ]}\r\n                                                                    defaultSubjects={\r\n                                                                        defaultSubjects\r\n                                                                    }\r\n                                                                />\r\n                                                            </li>\r\n                                                        )\r\n                                                    )}\r\n                                                </ul>\r\n                                            </li>\r\n                                        )\r\n                                    )}\r\n                                </ol>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ol>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div className=\"cautrucchuongtrinh_btn\">\r\n                    {/* <Button onClick={handleSave} color=\"success\">\r\n                        Lưu tất cả\r\n                    </Button> */}\r\n                    <Button\r\n                        onClick={() => setIsOpenCreateKKT(true)}\r\n                        color=\"warning\"\r\n                    >\r\n                        {i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.ADD_TYPE_BLOCK_KNOWLEDGE')}\r\n                    </Button>\r\n                    <Button onClick={openConfirmSubmit} color=\"success\">\r\n                        {i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE_&_SUBMIT')}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            {isLoading ? <Loading /> : renderContent()}\r\n\r\n            <ModalCreateLoaiKhoiKienThuc\r\n                khoiKienThuc={data}\r\n                isOpenCreateKKT={isOpenCreateKKT}\r\n                toggleCreateKKT={toggleCreateKKT}\r\n                addNewKhoiKienThuc={addNewKhoiKienThuc}\r\n            />\r\n\r\n            <ConfirmSubmit\r\n                modal={isOpenModal}\r\n                toggle={() => setIsOpenModal(!isOpenModal)}\r\n                headerTitle={\"\"}\r\n                bodyContent={bodyConfirmModal()}\r\n                handleOkButtonOnClick={handleNoiDungSubmit}\r\n                handleCancelButtonOnClick={() => setIsOpenModal(!isOpenModal)}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NoiDungChuongTrinhWrapper;\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport Styles from \"../component/styled\";\r\nimport TablesSelection from \"../component/TablesSelection\";\r\nimport * as lodash from \"lodash\";\r\nimport ConfirmSubmit from \"../../../../components/admin/ConfirmModal/ConfirmModal\";\r\nimport { toast } from \"react-toastify\";\r\nimport i18n from \"i18n/i18n\";\r\n\r\nconst KeHoachGiangDay = ({\r\n    columns,\r\n    subjects,\r\n    modifyData,\r\n    isEnableButton = false,\r\n}) => {\r\n    const [data, setData] = useState([]);\r\n    const [selectedRowIndex, setSelectedRowIndex] = useState([]);\r\n    const [isOpenModal, setIsOpenModal] = useState(false);\r\n    // const [modalAddNewSubject, setModalAddNewSubject] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setData(subjects);\r\n    }, [subjects]);\r\n\r\n    // const addNewMonHocLocal = () => {\r\n    //     const cloneData = [...data];\r\n    //     cloneData.push({\r\n    //         idMH: \"\",\r\n    //         ghiChu: \"\",\r\n    //         monHoc: {\r\n    //             ma: \"\",\r\n    //             tenTiengViet: \"\",\r\n    //             tenTiengAnh: \"\",\r\n    //             soTinChi: 0,\r\n    //             soTietLyThuyet: 0,\r\n    //             soTietThucHanh: 0,\r\n    //             soTietTuHoc: 0,\r\n    //         },\r\n    //     });\r\n    //     setData(cloneData);\r\n    // };\r\n\r\n    //* update new value into state\r\n    const updateMyData = (rowIndex, columnId, value) => {\r\n        const newData = lodash.set(\r\n            { data: [...data] },\r\n            `data[${rowIndex}].${columnId}`,\r\n            value\r\n        );\r\n        setData(newData.data);\r\n    };\r\n\r\n    //* store rows selected to delete\r\n    const handleSelectedRow = (listSelectedRowId) => {\r\n        const converListSelectedRowId = listSelectedRowId.map((id) =>\r\n            Number(id)\r\n        );\r\n        setSelectedRowIndex(converListSelectedRowId);\r\n    };\r\n\r\n    //* handle remove rows selected\r\n    const deleteRows = () => {\r\n        const newListSubject = data.filter((row, index) => {\r\n            if (selectedRowIndex.includes(index)) {\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        setData(newListSubject);\r\n        setIsOpenModal(false);\r\n        modifyData(newListSubject);\r\n    };\r\n\r\n    //* save data into step state\r\n    const handleSaveData = () => {\r\n        try {\r\n            modifyData(data);\r\n            toast.success(i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE_SUCCESS'));\r\n        } catch (error) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE_ERROR'));\r\n            return;\r\n        }\r\n    };\r\n\r\n    const openConfirmDelete = () => {\r\n        setIsOpenModal(true);\r\n    };\r\n\r\n    const bodyConfirmDeleteModal = () => {\r\n        return <p>{i18n.t('FLOW_CREATE_CTDT_DETAIL.MODAL_CONFIRM_CONTENT')}</p>;\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Styles>\r\n                {isEnableButton ? (\r\n                    \"\"\r\n                ) : (\r\n                    <div\r\n                        style={{\r\n                            display: \"flex\",\r\n                            padding: \"0 0 10px 0\",\r\n                        }}\r\n                    >\r\n                        {/* <Button onClick={() => {}} color=\"warning\">\r\n                        Reset Data\r\n                    </Button> */}\r\n\r\n                        <Button onClick={handleSaveData} color=\"warning\">\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE')}\r\n                        </Button>\r\n                        {/* <Button\r\n                            onClick={() => setModalAddNewSubject(true)}\r\n                            color=\"success\"\r\n                            style={{\r\n                                marginLeft: \"10px\",\r\n                            }}\r\n                        >\r\n                            Add row\r\n                        </Button> */}\r\n                        <Button\r\n                            onClick={openConfirmDelete}\r\n                            color=\"danger\"\r\n                            style={{\r\n                                marginLeft: \"10px\",\r\n                            }}\r\n                        >\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.DELETE')}\r\n                        </Button>\r\n                    </div>\r\n                )}\r\n                <TablesSelection\r\n                    columns={columns}\r\n                    data={data}\r\n                    updateMyData={updateMyData}\r\n                    skipPageReset={true}\r\n                    isPagination={false}\r\n                    handleSelectedRow={handleSelectedRow}\r\n                />\r\n            </Styles>\r\n\r\n            <ConfirmSubmit\r\n                modal={isOpenModal}\r\n                toggle={() => setIsOpenModal(!isOpenModal)}\r\n                headerTitle={\"\"}\r\n                bodyContent={bodyConfirmDeleteModal()}\r\n                handleOkButtonOnClick={deleteRows}\r\n                handleCancelButtonOnClick={() => setIsOpenModal(!isOpenModal)}\r\n                isModalDelete={true}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default KeHoachGiangDay;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport KeHoachGiangDay from \"./KeHoachGiangDay\";\r\nimport {\r\n    Button,\r\n    Label,\r\n    Modal,\r\n    ModalFooter,\r\n    ModalHeader,\r\n    ModalBody,\r\n} from \"reactstrap\";\r\nimport { LOAI_HP } from \"../contantsCTDT\";\r\nimport cloneTemplateAPI from \"api/common/cloneTemplate.api\";\r\n// import * as lodash from \"lodash\";\r\nimport Loading from \"components/common/loading/Loading\";\r\nimport { toast } from \"react-toastify\";\r\nimport ConfirmSubmit from \"../../../../components/admin/ConfirmModal/ConfirmModal\";\r\nimport InputSelectSearchable from \"components/common/InputSelectSearchable/InputSelectSearchable\";\r\nimport i18n from \"i18n/i18n\";\r\n\r\nimport './keHoach.css';\r\n\r\n// const emptySubject = {\r\n//     maHP: \"\",\r\n//     tenHP: \"\",\r\n//     soTC: 0,\r\n//     tcLT: 0,\r\n//     tcTH: 0,\r\n//     tcBT: 0,\r\n//     loaiHP: \"\",\r\n//     ghiChu: \"\",\r\n// };\r\n\r\n// const newHocKyEmpty = {\r\n//     chiTietKeHoach: [],\r\n//     maKeHoach: null,\r\n//     nganhDaoTao: null,\r\n//     sTT: null,\r\n//     tenHocKy: null\r\n// }\r\n\r\nconst transformDataSubject = (data) => {\r\n    return data.map((subject) => {\r\n        return {\r\n            label: subject.tenTiengViet,\r\n            value: subject.id,\r\n            data: { monHoc: subject, idMH: subject.id },\r\n        };\r\n    });\r\n};\r\n\r\n// const transformDataNotGroup = (data) => {\r\n//     return data.map((item) => {\r\n//         return { label: item.monHoc.tenTiengViet, value: item, id: item.id };\r\n//     });\r\n// };\r\n\r\nconst transformData = (data) => {\r\n    return data.map((item) => {\r\n        return { label: item.tenHocKy, value: item, tenHocKy: item.tenHocKy };\r\n    });\r\n};\r\n\r\nconst extractSubjects = data => {\r\n    let list = [];\r\n    for (const kkt of data) {\r\n        for (const lkkt of kkt?.loaiKhoiKienThuc) {\r\n            for (const gn of lkkt?.gomNhom) {\r\n                for (const ctgn of gn?.chiTietGomNhom) {\r\n                    list.push(ctgn?.monHoc);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\n\r\nconst KeHoachGiangDayWrapper = (props) => {\r\n    const [dataContainer, setDataContainer] = useState(null);\r\n    const [data, setData] = useState([]);\r\n    const [dataNotGroup, setDataNotGroup] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isOpenModal, setIsOpenModal] = useState(false);\r\n    const [modalAddNewSubject, setModalAddNewSubject] = useState(false);\r\n    const [listSubjects, setListSubjects] = useState([]);\r\n    // const [hocKySelected, setHocKySelected] = useState(null);\r\n    // const [monHocSelected, setMonHocSelected] = useState(null);\r\n\r\n    //* store new subject into data state\r\n    const addNewSubject = (hocKySelected, subjectSelected) => {\r\n        if(!checkIsExistNoiDung(subjectSelected?.idMH)){\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.KE_HOACH.ERROR_SUBJECT_NOT_EXISTS_PROGRAM_CONTENT'));\r\n            return;\r\n        }\r\n        // if(checkExistKeHoach(subjectSelected?.idMH)){\r\n        //     toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.KE_HOACH.ERROR_SUBJECT_EXISTS_PROGRAM_PLAN'));\r\n        //     return;\r\n        // }\r\n        const cloneData = [...data].map((hocKy) => {\r\n            if (hocKy.tenHocKy === hocKySelected.tenHocKy) {\r\n                return {\r\n                    ...hocKy,\r\n                    chiTietKeHoach: [\r\n                        ...hocKy.chiTietKeHoach,\r\n                        {\r\n                            id: subjectSelected.idMH,\r\n                            chiTietGomNhom: {\r\n                                ghiChu: null,\r\n                                monHoc: subjectSelected?.monHoc,\r\n                                gomNhom: {loaiNhom: \"BB\"}\r\n                            },\r\n                            // ...subjectSelected,\r\n                            ghiChu: null\r\n                        },\r\n                    ],\r\n                };\r\n            }\r\n            return hocKy;\r\n        });\r\n        // setHocKySelected(null);\r\n        // setMonHocSelected(null);\r\n        setData(cloneData);\r\n        setModalAddNewSubject(false);\r\n    };\r\n\r\n    //* edit data and save data into state\r\n    const modifyData = (hkIndex, newData) => {\r\n        const cloneData = [...data];\r\n        cloneData[hkIndex].chiTietKeHoach = [...newData];\r\n        setData(cloneData);\r\n    };\r\n\r\n    const editValueData = (hkIndex, value) => {\r\n        const cloneData = [...data];\r\n        const newData = cloneData?.map((hk, index) => {\r\n            if(hkIndex === Number(index)){\r\n                return {\r\n                    ...hk,\r\n                    tenHocKy: value\r\n                }\r\n            }\r\n            return hk;\r\n        })\r\n        setData(newData);\r\n    }\r\n\r\n    //* get clone data ke hoach giang day\r\n    useEffect(() => {\r\n        (async () => {\r\n            setIsLoading(true);\r\n            const stateData = props.getState(\"dataClone\", { keHoachGiangDay: [], khoiKienThuc: [] });\r\n            // const stateData = props.getState(\"keHoachGiangDay\");\r\n            // if (stateData?.unGroup) {\r\n            //     setDataNotGroup(stateData?.unGroup)\r\n            // }\r\n            if (stateData?.keHoachGiangDay) {\r\n                setDataContainer(stateData);\r\n                setData(stateData?.keHoachGiangDay);\r\n                let list = extractSubjects(stateData?.khoiKienThuc)\r\n                setListSubjects(list);\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                // const { idCTNDT } = props.getState(\"step1\", { idCTNDT: \"\" });\r\n                // const { idCTNDTClone } = props.getState(\"step2\", {\r\n                //     idCTNDTClone: \"\",\r\n                // });\r\n                // if (idCTNDT && idCTNDTClone) {\r\n                //     const results = await fetchTemplate({\r\n                //         idCTNDT,\r\n                //         idCTNDTClone,\r\n                //     });\r\n                //     if (results?.data) {\r\n                //         setData(results?.data?.khgd || []);\r\n                //         setDataNotGroup(results?.data?.chiTietGomNhom || []);\r\n                //     } else {\r\n                //         setData(results.khgd || []);\r\n                //         setDataNotGroup(results.chiTietGomNhom || []);\r\n                //     }\r\n                // } else {\r\n                //     toast.error(\"Lỗi, idCTNDT hoặc idCTNDTClone rỗng\");\r\n                // }\r\n            } catch (error) {\r\n                toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.ERROR_FETCH_DATA'));\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    //* call API get clone ke hoach giang day\r\n    // const fetchTemplate = async (params) => {\r\n    //     return await cloneTemplateAPI.getTemplateKHGD(params);\r\n    // };\r\n\r\n    //* save data to state step\r\n    // const handleSave = () => {\r\n    //     try {\r\n    //         props.setState(\"dataClone\", { ...dataContainer, keHoachGiangDay: data });\r\n    //         // props.setState(\"keHoachGiangDay\", data);\r\n    //         // console.log(`data`, data);\r\n    //         toast.success(\"SUCCESS\");\r\n    //         // props.next();\r\n    //     } catch (error) {\r\n    //         toast.error(\"Lỗi lưu\");\r\n    //     }\r\n    // };\r\n\r\n    //* call API create ke hoach giang day\r\n    const handleKeHoachSubmit = async () => {\r\n        try {\r\n            // const { idCTNDT } = props.getState(\"step1\", { idCTNDT: \"\" });\r\n            // const { idCTNDTClone } = props.getState(\"step2\", {\r\n            //     idCTNDTClone: \"\",\r\n            // });\r\n            // if (data && idCTNDT && idCTNDTClone) {\r\n            //     const results = await cloneTemplateAPI.postTemplateKHGD(\r\n            //         { idCTNDT, idCTNDTClone },\r\n            //         data\r\n            //     );\r\n            //     props.setState(\"keHoachGiangDay\", data);\r\n            //     props.next();\r\n            // }\r\n            props.setState(\"dataClone\", { ...dataContainer, keHoachGiangDay: data });\r\n            // toast.success(i18n.t('FLOW_CREATE_CTDT_DETAIL.SUBMIT_SUCCESS'));\r\n            props.next();\r\n        } catch (error) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.SUBMIT_ERROR'));\r\n        }finally{\r\n            setIsOpenModal(false);\r\n\r\n        }\r\n    };\r\n\r\n    const addNewHocKy = () => {\r\n        setData(old => {\r\n            return [...old, {\r\n                chiTietKeHoach: [],\r\n                maKeHoach: null,\r\n                nganhDaoTao: null,\r\n                sTT: Number(old[old?.length - 1]?.sTT) + 1,\r\n                tenHocKy: `${Number(old[old?.length - 1]?.sTT) + 1}`\r\n            }]\r\n        })\r\n    }\r\n\r\n    const checkIsExistNoiDung = (subID) => {\r\n        for (const kkt of dataContainer?.khoiKienThuc) {\r\n            for (const lkkt of kkt?.loaiKhoiKienThuc) {\r\n                for (const gn of lkkt?.gomNhom) {\r\n                    for (const ctgn of gn?.chiTietGomNhom) {\r\n                        if(String(ctgn?.idMH) === String(subID)){\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // const checkExistKeHoach = (subID) => {\r\n    //     for (const kh of data) {\r\n    //         for (const ctkh of kh?.chiTietKeHoach) {\r\n    //             if(String(ctkh?.chiTietGomNhom?.monHoc?.id) === String(subID)){\r\n    //                 return true;\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //     return false;\r\n    // }\r\n\r\n    const deleteSemester = async (hkIndex) => {\r\n        const cloneData = [...data];\r\n        if(typeof(hkIndex) !== \"undefined\" && hkIndex !== null ){\r\n           cloneData?.splice(hkIndex, 1);\r\n        }\r\n        setData(cloneData);\r\n    }\r\n\r\n    //* open modal confirm submit create\r\n    const openConfirmSubmit = () => {\r\n        setIsOpenModal(true);\r\n    };\r\n\r\n    //* content of modal confirm submit\r\n    const bodyConfirmModal = () => {\r\n        return <p>{i18n.t('FLOW_CREATE_CTDT_DETAIL.MODAL_CONFIRM_CONTENT')}</p>;\r\n    };\r\n\r\n    // const handleChangeHocKy = (item) => {\r\n    //     setHocKySelected(item);\r\n    // };\r\n\r\n    // const bodyAddNewSubject = () => {\r\n    //     return (\r\n    //         <div>\r\n    //             <div>\r\n    //                 <Label>Học Kỳ: </Label>\r\n    //                 <InputSelectSearchable\r\n    //                     options={transformData(data)}\r\n    //                     onChange={handleChangeHocKy}\r\n    //                     className=\"basicinfo_input\"\r\n    //                 />\r\n    //             </div>\r\n    //             <div>\r\n    //                 <Label>Môn học </Label>\r\n    //                 <InputSelectSearchable\r\n    //                     options={transformDataNotGroup(dataNotGroup)}\r\n    //                     onChange={(item) => setMonHocSelected(item)}\r\n    //                     className=\"basicinfo_input\"\r\n    //                 />\r\n    //             </div>\r\n    //         </div>\r\n    //     );\r\n    // };\r\n\r\n    //* render list ke hoach giang day not assign into a group\r\n\r\n    // const renderSubjectsNotAssign = () => {\r\n    //     return (\r\n    //         <div>\r\n    //             <KeHoachGiangDay\r\n    //                 isEnableButton={true}\r\n    //                 subjects={dataNotGroup}\r\n    //                 // addNewSubject={() => addNewSubject(hkIndex)}\r\n    //                 // modifyData={(newData) =>\r\n    //                 //     modifyData(hkIndex, newData)\r\n    //                 // }\r\n    //                 columns={[\r\n    //                     {\r\n    //                         Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.CODE')}`,\r\n    //                         accessor: \"monHoc.ma\",\r\n    //                         width: 100,\r\n    //                     },\r\n    //                     {\r\n    //                         Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.VN_NAME')}`,\r\n    //                         accessor: \"monHoc.tenTiengViet\",\r\n    //                         width: 450,\r\n    //                     },\r\n    //                     {\r\n    //                         Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.CREDIT_NUMBER')}`,\r\n    //                         accessor: \"monHoc.soTinChi\",\r\n    //                         width: 80,\r\n    //                         isValidate: true,\r\n    //                     },\r\n    //                     {\r\n    //                         Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.NUMBER_OF_CLASSES')}`,\r\n    //                         columns: [\r\n    //                             {\r\n    //                                 Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TOTAL_THEORY_PERIOD')}`,\r\n    //                                 accessor: \"monHoc.soTietLyThuyet\",\r\n    //                                 width: 80,\r\n    //                                 isValidate: true,\r\n    //                             },\r\n    //                             {\r\n    //                                 Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TOTAL_PRACTICE_PERIOD')}`,\r\n    //                                 accessor: \"monHoc.soTietThucHanh\",\r\n    //                                 width: 80,\r\n    //                                 isValidate: true,\r\n    //                             },\r\n    //                             {\r\n    //                                 Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TOTAL_PRACTICE')}`,\r\n    //                                 accessor: \"monHoc.soTietTuHoc\",\r\n    //                                 width: 80,\r\n    //                                 isValidate: true,\r\n    //                             },\r\n    //                         ],\r\n    //                     },\r\n    //                     {\r\n    //                         Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TYPE_HP')}`,\r\n    //                         accessor: \"gomNhom.loaiNhom\",\r\n    //                         width: 80,\r\n    //                         isSelect: true,\r\n    //                         options: LOAI_HP,\r\n    //                     },\r\n    //                     {\r\n    //                         Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.NOTE')}`,\r\n    //                         accessor: \"ghiChu\",\r\n    //                         width: 200,\r\n    //                     },\r\n    //                 ]}\r\n    //             />\r\n    //         </div>\r\n    //     );\r\n    // };\r\n\r\n    const renderContent = () => {\r\n        return (\r\n            <div className=\"kehoach-content\">\r\n                <ul>\r\n                    {data.map((hocKy, hkIndex) => (\r\n                        <li key={`hocKy-${hkIndex}`}>\r\n                             <span style={{display: \"flex\"}} className=\"semester_header\">\r\n                                 <div>\r\n                                     <label>\r\n                                        {i18n.t('FLOW_CREATE_CTDT_DETAIL.KE_HOACH.SEMESTER_NAME')}\r\n                                     </label>\r\n\r\n                                     <input \r\n                                        value={hocKy.tenHocKy || ''}\r\n                                        onChange={(e) => editValueData(hkIndex, e?.target?.value)}\r\n                                        style={{border: 0, width: \"40px\", marginLeft: \"10px\", background:\"inherit\"}}/>\r\n                                 </div>\r\n                                {/* <p>{`${i18n.t('FLOW_CREATE_CTDT_DETAIL.KE_HOACH.SEMESTER_NAME')}: ${hocKy.tenHocKy}`}</p> */}\r\n\r\n                                <div className=\"btn_container\" onClick={() => deleteSemester(hkIndex)}>\r\n                                    <span class=\"btn-delete\"><i class=\"fa fa-close\"></i></span>\r\n                                </div>\r\n                             </span>\r\n                            <KeHoachGiangDay\r\n                                subjects={hocKy.chiTietKeHoach}\r\n                                addNewSubject={() => addNewSubject(hkIndex)}\r\n                                modifyData={(newData) =>\r\n                                    modifyData(hkIndex, newData)\r\n                                }\r\n                                columns={[\r\n                                    {\r\n                                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.CODE')}`,\r\n                                        accessor: \"chiTietGomNhom.monHoc.ma\",\r\n                                        width: 100,\r\n                                    },\r\n                                    {\r\n                                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.VN_NAME')}`,\r\n                                        accessor:\r\n                                            \"chiTietGomNhom.monHoc.tenTiengViet\",\r\n                                        width: 450,\r\n                                    },\r\n                                    {\r\n                                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.CREDIT_NUMBER')}`,\r\n                                        accessor:\r\n                                            \"chiTietGomNhom.monHoc.soTinChi\",\r\n                                        width: 80,\r\n                                        isValidate: true,\r\n                                    },\r\n                                    {\r\n                                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.NUMBER_OF_CLASSES')}`,\r\n                                        columns: [\r\n                                            {\r\n                                                Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TOTAL_THEORY_PERIOD')}`,\r\n                                                accessor:\r\n                                                    \"chiTietGomNhom.monHoc.soTietLyThuyet\",\r\n                                                width: 80,\r\n                                                isValidate: true,\r\n                                            },\r\n                                            {\r\n                                                Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TOTAL_PRACTICE_PERIOD')}`,\r\n                                                accessor:\r\n                                                    \"chiTietGomNhom.monHoc.soTietThucHanh\",\r\n                                                width: 80,\r\n                                                isValidate: true,\r\n                                            },\r\n                                            {\r\n                                                Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TOTAL_PRACTICE')}`,\r\n                                                accessor:\r\n                                                    \"chiTietGomNhom.monHoc.soTietTuHoc\",\r\n                                                width: 80,\r\n                                                isValidate: true,\r\n                                            },\r\n                                        ],\r\n                                    },\r\n                                    {\r\n                                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.TYPE_HP')}`,\r\n                                        accessor:\r\n                                            \"chiTietGomNhom.gomNhom.loaiNhom\",\r\n                                        width: 80,\r\n                                        // isSelect: true,\r\n                                        // options: LOAI_HP,\r\n                                    },\r\n                                    {\r\n                                        Header: `${i18n.t('FLOW_CREATE_CTDT_DETAIL.NOI_DUNG.TABLE_HEADERS.NOTE')}`,\r\n                                        accessor: \"ghiChu\",\r\n                                        width: 200,\r\n                                    },\r\n                                ]}\r\n                            />\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <ConfirmSubmit\r\n                modal={isOpenModal}\r\n                toggle={() => setIsOpenModal(!isOpenModal)}\r\n                headerTitle={\"\"}\r\n                bodyContent={bodyConfirmModal()}\r\n                handleOkButtonOnClick={handleKeHoachSubmit}\r\n                handleCancelButtonOnClick={() => setIsOpenModal(!isOpenModal)}\r\n            />\r\n            <ModalAddNewSubject\r\n                optionsHocKy={transformData(data)}\r\n                optionsListSubjects={transformDataSubject(listSubjects)}\r\n                modal={modalAddNewSubject}\r\n                toggle={() => setModalAddNewSubject(!modalAddNewSubject)}\r\n                headerTitle={\"\"}\r\n                handleOkButtonOnClick={addNewSubject}\r\n            />\r\n            <div>\r\n                <div className=\"kehoachgiangday_submit_btn\">\r\n                    <Button\r\n                        onClick={() => addNewHocKy()}\r\n                    // color=\"info\"\r\n\r\n                    >\r\n                        {i18n.t('FLOW_CREATE_CTDT_DETAIL.KE_HOACH.ADD_NEW_SEMESTER')}\r\n                    </Button>\r\n                    <Button\r\n                        onClick={() => setModalAddNewSubject(true)}\r\n                        color=\"info\"\r\n                        style={{\r\n                            marginLeft: \"10px\",\r\n                        }}\r\n                    >\r\n                        {i18n.t('FLOW_CREATE_CTDT_DETAIL.KE_HOACH.ADD_NEW_SUBJECT_TO_SEMESTER')}\r\n                    </Button>\r\n                    {/* <Button\r\n                        onClick={handleSave}\r\n                        color=\"warning\"\r\n                        style={{\r\n                            marginLeft: \"10px\",\r\n                        }}\r\n                    >\r\n                        Lưu\r\n                    </Button> */}\r\n                    <Button\r\n                        onClick={openConfirmSubmit}\r\n                        color=\"success\"\r\n                        style={{\r\n                            marginLeft: \"10px\",\r\n                        }}\r\n                    >\r\n                        {i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE_&_SUBMIT')}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {isLoading ? (\r\n                <Loading />\r\n            ) : (\r\n                <div>\r\n                    <div>{renderContent()}</div>\r\n                    {/* <div>\r\n                        <div>\r\n                            <Label>{i18n.t('FLOW_CREATE_CTDT_DETAIL.KE_HOACH.LIST_SUBJECT_NOT_ASSIGN_GROUP')}</Label>\r\n                        </div>\r\n                        <div>{renderSubjectsNotAssign()}</div>\r\n                    </div> */}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ModalAddNewSubject = (props) => {\r\n    const [optionSelected, setOptionSelected] = useState(null);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [hocKy, setHocKy] = useState(null);\r\n    const [subject, setSubject] = useState(null);\r\n\r\n    const onChange = (selected) => {\r\n        setOptionSelected(selected);\r\n    };\r\n\r\n    const handleOk = () => {\r\n        if (optionSelected?.data) {\r\n            props.handleOkButtonOnClick(hocKy, optionSelected.data);\r\n            setOptionSelected(null);\r\n        }\r\n        props.toggle();\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setHocKy(null);\r\n        setSubject(null);\r\n        props.toggle();\r\n    };\r\n\r\n    return (\r\n        <Modal isOpen={props.modal} toggle={props.toggle}>\r\n            <ModalHeader></ModalHeader>\r\n            <ModalBody>\r\n                <div>\r\n                    <div>\r\n                        <Label>{`${i18n.t('FLOW_CREATE_CTDT_DETAIL.KE_HOACH.SEMESTER_NAME')}: `}</Label>\r\n                        <InputSelectSearchable\r\n                            options={props.optionsHocKy}\r\n                            onChange={(selected) => setHocKy(selected)}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <Label>{`${i18n.t('FLOW_CREATE_CTDT_DETAIL.KE_HOACH.SUBJECT')}: `}</Label>\r\n                        <InputSelectSearchable\r\n                            options={props.optionsListSubjects}\r\n                            onChange={onChange}\r\n                            // onChange={(selected) => setHocKy(selected)}\r\n                            // cacheOptions\r\n                            // defaultOptions={[]}\r\n                            // loadOptions={loadOptions}\r\n                            // value={optionSelected}\r\n                            // onInputChange={(newValue) => setSearch(newValue)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Button color={`primary`} onClick={handleOk}>\r\n                    {i18n.t(props.titleOk || \"admin.common.OK\")}\r\n                </Button>\r\n                <Button color=\"warning\" onClick={handleCancel}>\r\n                    {i18n.t(props.titleCancel || \"admin.common.CANCEL\")}\r\n                </Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default KeHoachGiangDayWrapper;\r\n","import cloneTemplateApi from \"api/common/cloneTemplate.api\";\r\nimport axios from \"axios\";\r\nimport Loading from \"components/common/loading/Loading\";\r\nimport LoadingBar from \"components/common/LoadingBar/LoadingBar\";\r\nimport CONFIG from \"config/config\";\r\nimport { RoutesString } from \"pages/routesString\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"reactstrap\";\r\nimport i18n from \"i18n/i18n\";\r\nimport './DonePage.css';\r\n\r\nconst DonePage = (props) => {\r\n    const history = useHistory();\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [filePdf, setFilePdf] = useState(null);\r\n\r\n    const onCreateDataClone = async () => {\r\n        const stateData = props.getState(\"dataClone\");\r\n        if (stateData && stateData?.step1_state?.idCTNDT) {\r\n            const { step1_state, chuanDauRa, keHoachGiangDay, khoiKienThuc, ...rest } = stateData;\r\n            const params = {\r\n                idCTNDT: step1_state?.idCTNDT,\r\n            }\r\n            const payload = {\r\n                chuanDauRa,\r\n                keHoachGiangDay,\r\n                khoiKienThuc\r\n            }\r\n            setIsLoading(true);\r\n            try {\r\n                const results = await cloneTemplateApi.postCloneDataV2(params, payload)\r\n                toast.info(i18n.t('FLOW_CREATE_CTDT_DETAIL.DONE.CREATE_SUCCESS'));\r\n                setTimeout(() => {\r\n                    history.push(RoutesString.ADMIN_VIEW_CHI_TIET_NGANH_DAO_TAO);\r\n                }, 2000)\r\n            } catch (error) {\r\n                toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.DONE.CREATE_ERROR'));\r\n            }finally{\r\n                setIsLoading(false);\r\n            }\r\n        } else {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.DONE.CREATE_ERROR'));\r\n        }\r\n    }\r\n\r\n    const onHandlePreviewPdf = async () => {\r\n        const stateData = props.getState(\"dataClone\");\r\n        if (stateData && stateData?.step1_state?.idCTNDT) {\r\n            setIsProcessing(true);\r\n            const { step1_state, chuanDauRa, keHoachGiangDay, khoiKienThuc, ...rest } = stateData;\r\n\r\n            const payload = {\r\n                khoiKienThuc,\r\n                chuanDauRaNganhDaoTao: chuanDauRa,\r\n                cauTrucChuongTrinh: khoiKienThuc,\r\n                keHoachGiangDay,\r\n            }\r\n            axios({\r\n                url: `${CONFIG.API.EXPORT_PDF}/preview/pdf/${step1_state?.idCTNDT}`,\r\n                method: \"POST\",\r\n                responseType: \"blob\", // important\r\n                data: {\r\n                    data: JSON.stringify(payload)\r\n                }\r\n            })\r\n                .then((response) => {\r\n                    //Create a Blob from the PDF Stream\r\n                    const file = new Blob([response.data], {\r\n                        type: \"application/pdf\",\r\n                    });\r\n                    //Build a URL from the file\r\n                    const fileURL = URL.createObjectURL(file);\r\n                    //Open the URL on new Window\r\n                    // window.open(fileURL);\r\n                    setFilePdf(fileURL);\r\n                    // setIsProcessing(false);\r\n                })\r\n                .catch((error) => {\r\n                    // eslint-disable-next-line\r\n                    console.log(error);\r\n                    toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.DONE.RENDER_ERROR'))\r\n                }).finally(() => {\r\n                    setIsProcessing(false);\r\n                })\r\n        }\r\n    };\r\n    return (\r\n        <div >\r\n            {isLoading ? <LoadingBar /> : ''}\r\n            <div>\r\n                <Button onClick={onCreateDataClone} style={{ marginLeft: \"10px\" }} color='success'>{i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE_&_SUBMIT')}</Button>\r\n                <Button onClick={onHandlePreviewPdf} color=\"primary\" style={{ marginLeft: \"10px\" }}>\r\n                    {i18n.t('FLOW_CREATE_CTDT_DETAIL.PREVIEW')}\r\n                </Button>\r\n            </div>\r\n            <div style={{ margin: \"10px auto\", textAlign: \"center\" }}>\r\n                {isProcessing ? (\r\n                    <div className=\"process_container\">\r\n                        <div class=\"dots-3\"></div>\r\n                    </div>\r\n                ) : (\r\n                    <div >\r\n                        {filePdf && (\r\n                            <iframe\r\n                                style={{display: \"flex\", margin: \"0 auto\"}}\r\n                                src={filePdf}\r\n                                height={\"650\"}\r\n                                width={\"1000\"}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DonePage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Form, FormGroup, Label, Button, Input } from \"reactstrap\";\r\nimport InputSelectSearchable from \"components/common/InputSelectSearchable/InputSelectSearchable\";\r\nimport chuongTrinhDaoTaoService from \"api/common/chuong-trinh-dao-tao.api\";\r\nimport nganhDaoTaoService from \"api/common/trainingMajor\";\r\nimport chiTietNganhDaoTaoService from \"api/common/subMajor\";\r\nimport i18n from \"i18n/i18n\";\r\nimport { toast } from \"react-toastify\";\r\nimport cloneTemplateApi from \"api/common/cloneTemplate.api\";\r\n\r\nimport \"./Step1_Wrapper.css\";\r\nconst Step1_Init = (props) => {\r\n    const [listChuongTrinhDaoTao, setListChuongTrinhDaoTao] = useState([]);\r\n    const [listNganhDaoTao, setListNganhDaoTao] = useState([]);\r\n    const [listKhoaTuyen, setListKhoaTuyen] = useState([]);\r\n    const [listIdCTNDTClone, setListIdCTNDTClone] = useState([]);\r\n\r\n    const dataClone = props.getState(\"dataClone\");\r\n    const [chuongTrinhDaoTaoSelected, setChuongTrinhDaoTaoSelected] = useState(\r\n        dataClone?.step1_state?.chuongTrinhDaoTaoSelected || null\r\n    );\r\n    const [nganhDaoTaoSelected, setNganhDaoTaoSelected] = useState(\r\n        dataClone?.step1_state?.nganhDaoTaoSelected || null\r\n    );\r\n    const [khoaTuyen, setKhoaTuyen] = useState(dataClone?.step1_state?.khoaTuyen);\r\n    const [chiTietNganhDaoTao, setChiTietNganhDaoTao] = useState(\r\n        dataClone?.step1_state?.idCTNDT || null\r\n    );\r\n    const [chiTietNganhDaoTaoClone, setChiTietNganhDaoTaoClone] = useState(dataClone?.step1_state?.chiTietNganhDaoTaoClone || null);\r\n    const [idCTNDTClone, setIdCTNDTClone] = useState(dataClone?.step1_state?.idCTNDTClone || null);\r\n\r\n    const [modeCreate, setModeCreate] = useState(typeof dataClone?.step1_state?.modeCreate === 'undefined' ? true : dataClone?.step1_state?.modeCreate);\r\n\r\n    //* Get list chuong trinh dao tao API\r\n    useEffect(() => {\r\n        (async () => {\r\n            const results = await chuongTrinhDaoTaoService.getAll({});\r\n            const chuongTrinhDaoTao =\r\n                results?.contents.map((item) => {\r\n                    return { value: item.maCTDT, label: item.ten, id: item.id };\r\n                }) || [];\r\n            setListChuongTrinhDaoTao(chuongTrinhDaoTao);\r\n            await getChiTietNganhDaoTaoClone();\r\n        })();\r\n    }, []);\r\n\r\n    //* Then, Get list nganh dao tao API\r\n    useEffect(() => {\r\n        (async () => {\r\n            if (chuongTrinhDaoTaoSelected?.id) {\r\n                await getNganhDaoTao(chuongTrinhDaoTaoSelected.id);\r\n            }\r\n        })();\r\n    }, [chuongTrinhDaoTaoSelected?.value]);\r\n\r\n    //* Final, Get list chi tiet nganh dao tao API\r\n    useEffect(() => {\r\n        (async () => {\r\n            if (nganhDaoTaoSelected?.id) {\r\n                await getChiTietNganhDaoTao(nganhDaoTaoSelected?.id);\r\n            }\r\n        })();\r\n    }, [nganhDaoTaoSelected?.value]);\r\n\r\n    const getNganhDaoTao = async (id) => {\r\n        try {\r\n            const results = await nganhDaoTaoService.getWithFilter({\r\n                chuongTrinhDaoTao: id,\r\n            });\r\n            let nganhDaoTao = [];\r\n            if (results?.contents?.length) {\r\n                nganhDaoTao =\r\n                    results?.contents?.map((item) => {\r\n                        return {\r\n                            value: item.maNganhDaoTao,\r\n                            label: item.ten,\r\n                            id: item?.id,\r\n                        };\r\n                    }) || [];\r\n            }\r\n            setListNganhDaoTao(nganhDaoTao);\r\n        } catch (error) {\r\n            setListNganhDaoTao([]);\r\n        }\r\n    };\r\n\r\n    const getChiTietNganhDaoTao = async (id) => {\r\n        try {\r\n            const results = await chiTietNganhDaoTaoService.getWithFilter({\r\n                nganhDaoTao: id,\r\n            });\r\n            let chiTietNDT = [];\r\n            if (results?.contents?.length) {\r\n                chiTietNDT =\r\n                    results?.contents?.map((item) => {\r\n                        return {\r\n                            value: item.khoa,\r\n                            label: item.khoa,\r\n                            id: item?.id,\r\n                        };\r\n                    }) || [];\r\n            }\r\n            setListKhoaTuyen(chiTietNDT);\r\n        } catch (error) {\r\n            setListKhoaTuyen([]);\r\n        }\r\n    };\r\n\r\n    const getChiTietNganhDaoTaoClone = async (id) => {\r\n        try {\r\n            const results = await chiTietNganhDaoTaoService.getAll();\r\n\r\n            let chiTietNDTClone = [];\r\n            if (results?.contents?.length) {\r\n                chiTietNDTClone =\r\n                    results?.contents?.map((item) => {\r\n                        return {\r\n                            value: item,\r\n                            label: `${item?.nganhDaoTao?.chuongTrinhDaoTao?.ten} - ${item?.nganhDaoTao?.ten} - ${item.khoa}`,\r\n                            id: item?.id,\r\n                        };\r\n                    }) || [];\r\n            }\r\n            setListIdCTNDTClone(chiTietNDTClone);\r\n        } catch (error) {\r\n            setListIdCTNDTClone([]);\r\n        }\r\n    };\r\n\r\n    const handleChangeChuongTrinhDaoTao = (selectedOption) => {\r\n        setChuongTrinhDaoTaoSelected(selectedOption);\r\n        setNganhDaoTaoSelected(null);\r\n        setKhoaTuyen(null);\r\n    };\r\n\r\n    const handleChangeNganhDaoTao = (selectedOption) => {\r\n        setNganhDaoTaoSelected(selectedOption);\r\n        setKhoaTuyen(null);\r\n    };\r\n\r\n    const handleChangeKhoaTuyen = (selectedOption) => {\r\n        if (selectedOption?.id) {\r\n            setChiTietNganhDaoTao(selectedOption?.id);\r\n        }\r\n        setKhoaTuyen(selectedOption);\r\n    };\r\n\r\n    const handChangeIdCTNDTClone = (selectedOption) => {\r\n        if (selectedOption?.id) {\r\n            setIdCTNDTClone(selectedOption?.id)\r\n        }\r\n        setChiTietNganhDaoTaoClone(selectedOption);\r\n    }\r\n\r\n    const handleOnSubmit = async () => {\r\n        if (\r\n            !chiTietNganhDaoTao ||\r\n            !chuongTrinhDaoTaoSelected ||\r\n            !nganhDaoTaoSelected ||\r\n            !khoaTuyen\r\n        ) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.STEP_1.WARNING_INFO_FULL'));\r\n            return;\r\n        }\r\n\r\n        if ((!modeCreate && !idCTNDTClone) || !chiTietNganhDaoTao) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.STEP_1.ERROR_INFO_MISSING'));\r\n            return;\r\n        }\r\n\r\n        if (!modeCreate && idCTNDTClone === chiTietNganhDaoTao) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.STEP_1.ERROR_ID_DUPLICATE'));\r\n            return;\r\n        }\r\n\r\n        const isContentExist = await cloneTemplateApi.checkContentExist({ idCTNDT: chiTietNganhDaoTao });\r\n        if (isContentExist) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.STEP_1.ERROR_EXISTS_DATA'));\r\n            return;\r\n        }\r\n\r\n        // const stateData = props.getState(\"dataClone\");\r\n        let results;\r\n\r\n        if (modeCreate) {\r\n            results = {\r\n                chuanDauRa: [],\r\n                keHoachGiangDay: [],\r\n                khoiKienThuc: []\r\n            }\r\n        } else {\r\n            const resp = await getDataClone({ idCTNDT: chiTietNganhDaoTao, idCTNDTClone });\r\n            if (!resp?.isError) {\r\n                results = resp?.data;\r\n            } else {\r\n                toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.ERROR_FETCH_DATA'));\r\n                return;\r\n            }\r\n        }\r\n\r\n        const prepareData = {\r\n            ...results,\r\n            step1_state: {\r\n                idCTNDT: chiTietNganhDaoTao,\r\n                chuongTrinhDaoTaoSelected,\r\n                nganhDaoTaoSelected,\r\n                khoaTuyen,\r\n                chiTietNganhDaoTaoClone,\r\n                idCTNDTClone,\r\n                modeCreate\r\n            }\r\n        }\r\n        props.setState('dataClone', prepareData);\r\n        props.next();\r\n    };\r\n\r\n    const getDataClone = async (params) => {\r\n        return await cloneTemplateApi.getCloneDataV2(params);\r\n    }\r\n\r\n    return (\r\n        <div className=\"basic_info_container\">\r\n            <h2 className=\"flow_create_ctdt_title\">\r\n                {i18n.t(\"FLOW_CREATE_CTDT.TITLE_IDCTDT\")}\r\n            </h2>\r\n            <Form>\r\n                <FormGroup className=\"basicinfo_row\">\r\n                    <div>\r\n                        <Label className=\"basicinfo_label\">\r\n                            {i18n.t(\"FLOW_CREATE_CTDT.EDUCATION_PROGRAM\")}\r\n                        </Label>\r\n                        <InputSelectSearchable\r\n                            value={chuongTrinhDaoTaoSelected}\r\n                            options={listChuongTrinhDaoTao}\r\n                            onChange={handleChangeChuongTrinhDaoTao}\r\n                            className=\"basicinfo_input\"\r\n                        />\r\n                    </div>\r\n                </FormGroup>\r\n                <FormGroup className=\"basicinfo_row\">\r\n                    <Label className=\"basicinfo_label\">\r\n                        {i18n.t(\"FLOW_CREATE_CTDT.MAJORS\")}\r\n                    </Label>\r\n                    <InputSelectSearchable\r\n                        value={nganhDaoTaoSelected}\r\n                        options={listNganhDaoTao}\r\n                        onChange={handleChangeNganhDaoTao}\r\n                    />\r\n                </FormGroup>\r\n                <FormGroup className=\"basicinfo_row\">\r\n                    <Label className=\"basicinfo_label\">\r\n                        {i18n.t(\"FLOW_CREATE_CTDT.SCHOOL_YEAR\")}\r\n                    </Label>\r\n                    <InputSelectSearchable\r\n                        value={khoaTuyen}\r\n                        options={listKhoaTuyen}\r\n                        onChange={handleChangeKhoaTuyen}\r\n                    />\r\n                </FormGroup>\r\n\r\n                <FormGroup style={{ display: \"flex\", marginLeft: '20px' }}>\r\n                    <div>\r\n                        <Label>\r\n                            <Input type=\"radio\" name=\"modeCreate\" checked={!modeCreate} onClick={() => setModeCreate(false)} />{' '}\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.CLONE')}\r\n                        </Label>\r\n                    </div>\r\n\r\n                    <div style={{ marginLeft: '30px' }}>\r\n                        <Label>\r\n                            <Input type=\"radio\" name=\"modeCreate\" checked={modeCreate} onClick={() => setModeCreate(true)} />{' '}\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.NEW')}\r\n                        </Label>\r\n                    </div>\r\n                </FormGroup>\r\n\r\n                {!modeCreate && <div>\r\n                    {/* <h2 className=\"flow_create_ctdt_title\">\r\n                        {i18n.t(\"FLOW_CREATE_CTDT.TITLE_IDCTDT_CLONE\")}\r\n                    </h2> */}\r\n\r\n                    <FormGroup className=\"basicinfo_row\">\r\n                        <Label className=\"basicinfo_label\">\r\n                            {i18n.t(\"FLOW_CREATE_CTDT.TITLE_IDCTDT_CLONE\")}\r\n                        </Label>\r\n                        <InputSelectSearchable\r\n                            value={chiTietNganhDaoTaoClone}\r\n                            options={listIdCTNDTClone}\r\n                            onChange={handChangeIdCTNDTClone}\r\n                        />\r\n                    </FormGroup>\r\n                </div>\r\n                }\r\n\r\n            </Form>\r\n            <div className=\"basicinfo_row\">\r\n                <Button\r\n                    className=\"btn_submit_step1\"\r\n                    color=\"success\"\r\n                    onClick={handleOnSubmit}\r\n                >\r\n                    {i18n.t(\"SUBMIT\")}\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Step1_Init;\r\n","import React, { useEffect, useState } from \"react\";\r\n// import cloneTemplateAPI from \"api/common/cloneTemplate.api\";\r\nimport Loading from \"components/common/loading/Loading\";\r\n// import Styles from \"../component/styled\";\r\nimport { toast } from \"react-toastify\";\r\nimport i18n from \"i18n/i18n\";\r\nimport ChuanDauRaList from \"components/common/ChuanDauRaList/ChuanDauRaList\";\r\nimport standardOutput from \"api/common/standardOutput\";\r\n// import educationMajorOutputStandard from \"api/common/education-major-output-standard\";\r\nimport ConfirmModal from \"components/admin/ConfirmModal/ConfirmModal\";\r\n\r\nconst ChuanDauRa = (props) => {\r\n    const [dataContainer, setDataContainer] = useState(null);\r\n    const [data, setData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isOpenConfirmSubmit, setIsOpenConfirmSubmit] = useState(false);\r\n    const [optionsOutputStandard, setOptionsOutputStandard] = useState([]);\r\n\r\n    //* Get default chuan dau ra\r\n    useEffect(() => {\r\n        (async () => {\r\n            const results = await standardOutput.getAll({\r\n                limit: 10,\r\n            });\r\n            if (results?.contents) {\r\n                const formatResults = results?.contents?.map((item) => {\r\n                    return {\r\n                        label: `${item?.ten}` || \"\",\r\n                        value: item?.id,\r\n                        data: item,\r\n                    };\r\n                });\r\n                setOptionsOutputStandard(formatResults);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    //* Call get clone chuan dau ra\r\n    useEffect(() => {\r\n        (async () => {\r\n            setIsLoading(true);\r\n            const stateData = props.getState(\"dataClone\", { chuanDauRa: [] });\r\n            if (stateData?.chuanDauRa) {\r\n                setDataContainer(stateData)\r\n                setData(stateData?.chuanDauRa);\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.ERROR_FETCH_DATA'));\r\n\r\n            // const { idCTNDT } = props.getState(\"step1\", { idCTNDT: \"\" });\r\n            // const { idCTNDTClone } = props.getState(\"step2\", {\r\n            //     idCTNDTClone: \"\",\r\n            // });\r\n            // if (idCTNDT && idCTNDTClone) {\r\n            //     const data = await fetchTemplateChuanDauRa({\r\n            //         idCTNDT,\r\n            //         idCTNDTClone,\r\n            //     });\r\n            //     setData(data);\r\n            // } else {\r\n            //     toast.error(\"ERROR, idCTNDT or idCTNDTClone empty\");\r\n            // }\r\n            setIsLoading(false);\r\n        })();\r\n    }, []);\r\n\r\n    //* call API get clone chuan dau ra\r\n    // const fetchTemplateChuanDauRa = async (params) => {\r\n    //     try {\r\n    //         const result = await cloneTemplateAPI.getChuanDauRa(params);\r\n    //         return result;\r\n    //     } catch (error) {\r\n    //         toast.error(\"ERROR\");\r\n    //         return [];\r\n    //     }\r\n    // };\r\n\r\n    //* save to data\r\n    // const handleSave = () => {\r\n    //     props.setState(\"dataClone\", {...dataContainer, chuanDauRa: data});\r\n    //     toast.success(\"SUCCESS\");\r\n    // };\r\n\r\n    //* save & submit data to server\r\n    const handleSubmit = async () => {\r\n        try {\r\n            props.setState(\"dataClone\", { ...dataContainer, chuanDauRa: data });\r\n            // await handleSubmitTemplateChuanDauRa(data);\r\n            // toast.success(i18n.t('FLOW_CREATE_CTDT_DETAIL.SUBMIT_SUCCESS'));\r\n            props.next();\r\n        } catch (error) {\r\n            toast.error(i18n.t('FLOW_CREATE_CTDT_DETAIL.SUBMIT_ERROR'));\r\n            return;\r\n        } finally {\r\n            setIsOpenConfirmSubmit(false);\r\n        }\r\n    };\r\n\r\n    //* call API to create chuan dau ra\r\n    // const handleSubmitTemplateChuanDauRa = async (data) => {\r\n    //     const { idCTNDT } = props.getState(\"step1\", { idCTNDT: \"\" });\r\n    //     const { idCTNDTClone } = props.getState(\"step2\", {\r\n    //         idCTNDTClone: \"\",\r\n    //     });\r\n    //     if (idCTNDT && idCTNDTClone) {\r\n    //         const result = await cloneTemplateAPI.postChuanDauRa(\r\n    //             { idCTNDT, idCTNDTClone },\r\n    //             data\r\n    //         );\r\n    //         return result;\r\n    //         // eslint-disable-next-line\r\n    //     } else {\r\n    //         toast.error(\"ERROR, idCTNDT or idCTNDTClone empty\");\r\n    //     }\r\n    // };\r\n\r\n    //* pass to child component to update data\r\n    const handleSetData = (data) => {\r\n        setData(data);\r\n    };\r\n\r\n    //* open modal confirm submit\r\n    const openConfirmSubmit = () => {\r\n        setIsOpenConfirmSubmit(true);\r\n    };\r\n\r\n    //* contents of confirm modal\r\n    const bodyConfirmModal = () => {\r\n        return <p>{i18n.t('FLOW_CREATE_CTDT_DETAIL.MODAL_CONFIRM_CONTENT')}</p>;\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h2>{i18n.t('FLOW_CREATE_CTDT_DETAIL.CHUAN_DAU_RA.CHUAN_DAU_RA_TITLE')}</h2>\r\n            </div>\r\n\r\n            {isLoading ? (\r\n                <Loading />\r\n            ) : (\r\n                <div>\r\n                    <ChuanDauRaList\r\n                        values={data}\r\n                        // handleSave={handleSave}\r\n                        handleSubmit={openConfirmSubmit}\r\n                        handleSetData={handleSetData}\r\n                        optionsDefaultOutputStandard={optionsOutputStandard}\r\n                        disableEdit={true}\r\n                    />\r\n                </div>\r\n            )}\r\n            <ConfirmModal\r\n                modal={isOpenConfirmSubmit}\r\n                toggle={() => setIsOpenConfirmSubmit(!isOpenConfirmSubmit)}\r\n                headerTitle={\"\"}\r\n                bodyContent={bodyConfirmModal()}\r\n                handleOkButtonOnClick={handleSubmit}\r\n                handleCancelButtonOnClick={() =>\r\n                    setIsOpenConfirmSubmit(!isOpenConfirmSubmit)\r\n                }\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChuanDauRa;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Steps, Step } from \"react-step-builder\";\r\nimport Navigation from \"./Navigation\";\r\n\r\nimport CauTrucChuongTrinh from \"./CauTrucChuongTrinh/CauTrucChuongTrinh\";\r\nimport NoiDungChuongTrinhWrapper from \"./NoiDungChuongTrinh/NoiDungChuongTrinhWrapper\";\r\nimport KeHoachGiangDayWrapper from \"./KeHoachGiangDay/KeHoachGiangDayWrapper\";\r\nimport DonePage from \"./Done/DonePage\";\r\nimport Step1_Wrapper from \"./Step1/Step1_Wrapper\";\r\nimport useSidebar from \"stores/common/SidebarStore/SidebarStore\";\r\n\r\nimport \"./Wrapper.css\";\r\nimport Step2_Clone from \"./Step2_Clone/Step2_Clone\";\r\nimport ChuanDauRa from \"./ChuanDauRa/ChuanDauRa\";\r\n\r\nconst FlowCreateCTDTWrapperV2 = (props) => {\r\n    const [stateSideBar, actionSideBar] = useSidebar();\r\n\r\n    const config = {\r\n        navigation: {\r\n            component: Navigation,\r\n            location: \"before\",\r\n        },\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (stateSideBar?.isOpenSideBar) {\r\n            actionSideBar.setIsOpenSideBar({ isOpenSideBar: false });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Steps config={config}>\r\n                <div className=\"step_container\">\r\n                    <Step\r\n                        order={1}\r\n                        title={\"STEP_1\"}\r\n                        component={Step1_Wrapper}\r\n                    />\r\n                </div>\r\n                {/* <div className=\"step_container\">\r\n                    <Step order={2} title={\"STEP_2\"} component={Step2_Clone} />\r\n                </div> */}\r\n                <div className=\"step_container\">\r\n                    <Step order={2} title={\"STEP_2\"} component={ChuanDauRa} />\r\n                </div>\r\n                <div className=\"step_container\">\r\n                    <Step\r\n                        order={3}\r\n                        title={\"STEP_3\"}\r\n                        component={CauTrucChuongTrinh}\r\n                    />\r\n                </div>\r\n                <div className=\"step_container\">\r\n                    <Step\r\n                        order={4}\r\n                        title={\"STEP_4\"}\r\n                        component={NoiDungChuongTrinhWrapper}\r\n                    />\r\n                </div>\r\n                <div className=\"step_container\">\r\n                    <Step\r\n                        order={5}\r\n                        title={\"STEP_5\"}\r\n                        component={KeHoachGiangDayWrapper}\r\n                    />\r\n                </div>\r\n                <div className=\"step_container\">\r\n                    <Step order={6} title={\"STEP_6\"} component={DonePage} />\r\n                </div>\r\n            </Steps>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FlowCreateCTDTWrapperV2;\r\n","import React from \"react\";\r\nimport { Button, Modal, ModalFooter, ModalHeader, ModalBody, Input } from \"reactstrap\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function ConfirmModal({\r\n    modal,\r\n    toggle,\r\n    headerTitle,\r\n    bodyContent,\r\n    handleOkButtonOnClick,\r\n    handleCancelButtonOnClick,\r\n    isModalDelete = false,\r\n    titleOk = \"\",\r\n    titleCancel = \"\",\r\n}) {\r\n    const { t } = useTranslation();\r\n\r\n    return (\r\n        <Modal isOpen={modal} toggle={toggle}>\r\n            <ModalHeader toggle={toggle}>{headerTitle}</ModalHeader>\r\n            <ModalBody>{bodyContent}</ModalBody>\r\n            <ModalFooter>\r\n                <Button\r\n                    color={`${isModalDelete ? \"danger\" : \"primary\"}`}\r\n                    onClick={handleOkButtonOnClick}\r\n                >\r\n                    {t(titleOk || \"admin.common.OK\")}\r\n                </Button>\r\n                <Button color=\"warning\" onClick={handleCancelButtonOnClick}>\r\n                    {t(titleCancel || \"admin.common.CANCEL\")}\r\n                </Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n    );\r\n}\r\n\r\n\r\nexport function InputModal({\r\n    modal,\r\n    toggle,\r\n    headerTitle,\r\n    handleOkButtonOnClick,\r\n    handleCancelButtonOnClick,\r\n    isModalDelete = false,\r\n    titleOk = \"\",\r\n    titleCancel = \"\",\r\n}) {\r\n    const { t } = useTranslation();\r\n    const [text, setText] = useState('');\r\n\r\n    return (\r\n        <Modal isOpen={modal} toggle={toggle}>\r\n            <ModalHeader toggle={toggle}>{headerTitle}</ModalHeader>\r\n            <ModalBody>\r\n                <Input value={text} onChange={e => setText(e?.target?.value)}/>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Button\r\n                    color={`${isModalDelete ? \"danger\" : \"primary\"}`}\r\n                    onClick={() => handleOkButtonOnClick(text)}\r\n                >\r\n                    {t(titleOk || \"admin.common.OK\")}\r\n                </Button>\r\n                <Button color=\"warning\" onClick={handleCancelButtonOnClick}>\r\n                    {t(titleCancel || \"admin.common.CANCEL\")}\r\n                </Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n    );\r\n}","import { S as Select } from './Select-dbb12e54.esm.js';\nexport { c as createFilter, d as defaultTheme, m as mergeStyles } from './Select-dbb12e54.esm.js';\nimport { m as manageState } from './stateManager-845a3300.esm.js';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport { _ as _createSuper } from './index-4bd03571.esm.js';\nexport { c as components } from './index-4bd03571.esm.js';\nimport React, { Component } from 'react';\nimport { CacheProvider } from '@emotion/react';\nimport createCache from '@emotion/cache';\nimport memoizeOne from 'memoize-one';\nimport '@babel/runtime/helpers/extends';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/typeof';\nimport 'react-input-autosize';\nimport '@babel/runtime/helpers/defineProperty';\nimport 'react-dom';\n\nvar NonceProvider = /*#__PURE__*/function (_Component) {\n  _inherits(NonceProvider, _Component);\n\n  var _super = _createSuper(NonceProvider);\n\n  function NonceProvider(props) {\n    var _this;\n\n    _classCallCheck(this, NonceProvider);\n\n    _this = _super.call(this, props);\n\n    _this.createEmotionCache = function (nonce, key) {\n      return createCache({\n        nonce: nonce,\n        key: key\n      });\n    };\n\n    _this.createEmotionCache = memoizeOne(_this.createEmotionCache);\n    return _this;\n  }\n\n  _createClass(NonceProvider, [{\n    key: \"render\",\n    value: function render() {\n      var emotionCache = this.createEmotionCache(this.props.nonce, this.props.cacheKey);\n      return /*#__PURE__*/React.createElement(CacheProvider, {\n        value: emotionCache\n      }, this.props.children);\n    }\n  }]);\n\n  return NonceProvider;\n}(Component);\n\nvar index = manageState(Select);\n\nexport default index;\nexport { NonceProvider };\n","import axiosClient from \"./axiosClient\";\r\nimport queryString from \"query-string\";\r\n\r\nconst tableName = \"chi-tiet-nganh-dao-tao\";\r\nexport default {\r\n  getAll: function (filter = {}) {\r\n    const query = queryString.stringify({limit:-1,page:0, ...filter });\r\n    const url = `${tableName}?${query}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  getList: function (pageable) {\r\n    let url = `${tableName}?page=${pageable.page - 1}`;\r\n    if (pageable.limit) {\r\n      url += `&limit=${pageable.limit}`;\r\n    }\r\n    if (pageable.sorter.sortBy && pageable.sorter.sortType) {\r\n      url += `&sortBy=${pageable.sorter.sortBy}&sortType=${pageable.sorter.sortType}`;\r\n    }\r\n    if (pageable.searchKey) {\r\n      url += `&searchKey=${pageable.searchKey}`;\r\n    }\r\n    if (pageable.filter.khoa !== null) {\r\n      url += `&khoa=${pageable.filter.khoa}`;\r\n    }\r\n    if (pageable.filter.nganhDaoTao !== null) {\r\n      url += `&nganhDaoTao=${pageable.filter.nganhDaoTao}`;\r\n    }\r\n    return axiosClient.get(url);\r\n  },\r\n  getById: function (id) {\r\n    const url = `${tableName}/${id}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  post: function (body) {\r\n    const url = `${tableName}`;\r\n    return axiosClient.post(url, JSON.stringify(body));\r\n  },\r\n  putById: function (id, body) {\r\n    const url = `${tableName}/${id}`;\r\n    return axiosClient.put(url, JSON.stringify(body));\r\n  },\r\n  deleteById: function (id) {\r\n    const url = `${tableName}/${id}`;\r\n    return axiosClient.delete(url);\r\n  },\r\n  getWithFilter: (filter) => {\r\n      const query = queryString.stringify({ ...filter });\r\n      const url = `chi-tiet-nganh-dao-tao?${query}`;\r\n      return axiosClient.get(url);\r\n  },\r\n  checkIsExist: ({ khoa, idNganhDaoTao }) => {\r\n      const query = queryString.stringify({ khoa, idNganhDaoTao });\r\n      const url = `chi-tiet-nganh-dao-tao/is-exist?${query}`;\r\n      return axiosClient.get(url);\r\n  }\r\n};\r\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export const updateMyData = (rowIndex, columnId, value) => {\r\n    // We also turn on the flag to not reset the page\r\n    setSkipPageReset(true);\r\n    setData((old) =>\r\n        old.map((row, index) => {\r\n            if (index === rowIndex) {\r\n                return {\r\n                    ...old[rowIndex],\r\n                    [columnId]: value,\r\n                };\r\n            }\r\n            return row;\r\n        })\r\n    );\r\n};\r\nexport const validateOnlyNumber = (text) => {\r\n    const regex = /^[0-9]*$/g;\r\n    return regex.test(text);\r\n};\r\n\r\nexport const convertToGroup = (data = [], groupTypes, groupField) => {\r\n    const results = [];\r\n    for (const type of groupTypes) {\r\n        const subjectsType = data.filter(\r\n            (item) =>\r\n                String(item[groupField]).toUpperCase() ===\r\n                String(type).toUpperCase()\r\n        );\r\n        results.push({ type, subjects: [...subjectsType] });\r\n    }\r\n    // console.log(`results`, results);\r\n    return results;\r\n};\r\n\r\nexport const transformData = (data) => {\r\n    return data.map((subject) => {\r\n        return {\r\n            label: subject.tenTiengViet,\r\n            value: subject.id,\r\n            data: { monHoc: subject, idMH: subject.id },\r\n        };\r\n    });\r\n};\r\n\r\nexport function removeItemOnce(arr, index) {\r\n    var value = arr[index];\r\n    if (value) {\r\n        arr.splice(index, 1);\r\n    }\r\n    return arr;\r\n}\r\n\r\nexport async function checkExistInArray (array, value) {\r\n    for(let item of array){\r\n        if(item?.chuanDauRa?.id === value){\r\n          return true;\r\n        }\r\n        \r\n        if(item?.children){\r\n            const isExist = await checkExistInArray(item.children, value);\r\n            if(isExist) {\r\n                return isExist;\r\n            }\r\n        }\r\n      \r\n    }\r\n    return false;\r\n}","import axiosClient from \"./axiosClient\";\r\nimport queryString from \"query-string\";\r\n\r\nconst tableName = \"nganh-dao-tao\";\r\nexport default {\r\n  getAll: function (filter = {}) {\r\n    const query = queryString.stringify({limit:-1,page:0, ...filter });\r\n    const url = `${tableName}?${query}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  getList: function (pageable) {\r\n    let url = `${tableName}?page=${pageable.page - 1}`;\r\n    if (pageable.limit) {\r\n      url += `&limit=${pageable.limit}`;\r\n    }\r\n    if (pageable.sorter.sortBy && pageable.sorter.sortType) {\r\n      url += `&sortBy=${pageable.sorter.sortBy}&sortType=${pageable.sorter.sortType}`;\r\n    }\r\n    if (pageable.searchKey) {\r\n      url += `&searchKey=${pageable.searchKey}`;\r\n    }\r\n    if (pageable.filter.chuongTrinhDaoTao !== null) {\r\n      url += `&chuongTrinhDaoTao=${pageable.filter.chuongTrinhDaoTao}`;\r\n    }\r\n    return axiosClient.get(url);\r\n  },\r\n  getById: function (id) {\r\n    const url = `${tableName}/${id}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  post: function (body) {\r\n    const url = `${tableName}`;\r\n    return axiosClient.post(url, JSON.stringify(body));\r\n  },\r\n  putById: function (id, body) {\r\n    const url = `${tableName}/${id}`;\r\n    return axiosClient.put(url, JSON.stringify(body));\r\n  },\r\n  deleteById: function (id) {\r\n    const url = `${tableName}/${id}`;\r\n    return axiosClient.delete(url);\r\n  },\r\n  getWithFilter: (filter) => {\r\n      const query = queryString.stringify({ ...filter });\r\n      const url = `nganh-dao-tao?${query}`;\r\n      return axiosClient.get(url);\r\n  },\r\n};\r\n","import axiosClient from \"./axiosClient\";\r\nimport queryString from \"query-string\";\r\n\r\nconst tableName = \"chuan-dau-ra\";\r\nexport default {\r\n    getAll: function (filter = {}) {\r\n        const query = queryString.stringify({ limit:-1,page: 0, ...filter });\r\n        const url = `chuan-dau-ra?${query}`;\r\n        return axiosClient.get(url);\r\n    },\r\n    getList: function (pageable) {\r\n    let url = `${tableName}?page=${pageable.page - 1}`;\r\n    if (pageable.limit) {\r\n      url += `&limit=${pageable.limit}`;\r\n    }\r\n    if (pageable.sorter.sortBy && pageable.sorter.sortType) {\r\n      url += `&sortBy=${pageable.sorter.sortBy}&sortType=${pageable.sorter.sortType}`;\r\n    }\r\n    if (pageable.searchKey) {\r\n      url += `&searchKey=${pageable.searchKey}`;\r\n    }\r\n    return axiosClient.get(url);\r\n  },\r\n    getById: function (id) {\r\n        const url = `chuan-dau-ra/${id}`;\r\n        return axiosClient.get(url);\r\n    },\r\n    post: function (body) {\r\n        const url = `chuan-dau-ra`;\r\n        return axiosClient.post(url, JSON.stringify(body));\r\n    },\r\n    putById: function (id, body) {\r\n        const url = `chuan-dau-ra/${id}`;\r\n        return axiosClient.put(url, JSON.stringify(body));\r\n    },\r\n    deleteById: function (id) {\r\n        const url = `chuan-dau-ra/${id}`;\r\n        return axiosClient.delete(url);\r\n    },\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Input } from \"reactstrap\";\r\nimport { validateOnlyNumber } from \"../utils\";\r\n\r\nconst EditableCell = ({\r\n    value: initialValue,\r\n    row: { index },\r\n    column: { id },\r\n    updateMyData, // This is a custom function that we supplied to our table instance\r\n    isValidate = false,\r\n}) => {\r\n    // We need to keep and update the state of the cell normally\r\n    const [value, setValue] = React.useState(initialValue);\r\n\r\n    const onChange = (e) => {\r\n        const { value } = e.target;\r\n        if (!isValidate) {\r\n            setValue(value);\r\n        }\r\n        if (validateOnlyNumber(value)) {\r\n            setValue(value);\r\n        }\r\n    };\r\n\r\n    const onBlur = () => {\r\n        updateMyData(index, id, value);\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        setValue(initialValue);\r\n    }, [initialValue]);\r\n\r\n    return <Input value={value} onChange={onChange} onBlur={onBlur} />;\r\n};\r\n\r\nexport default EditableCell;\r\n","import styled from \"styled-components\";\r\nconst Styles = styled.div`\r\n    .table {\r\n        display: inline-block;\r\n        border-spacing: 0;\r\n        border: 1px solid black;\r\n        width: fit-content;\r\n        margin-top: 10px;\r\n        .tr {\r\n            :last-child {\r\n                .td {\r\n                    border-bottom: 0 !important;\r\n                }\r\n            }\r\n        }\r\n        .th {\r\n            font-weight: 700;\r\n        }\r\n        .th,\r\n        .td {\r\n            margin: 0;\r\n            padding: 0.5rem;\r\n            border-bottom: 1px solid black;\r\n            border-right: 1px solid black;\r\n\r\n            :last-child {\r\n                border-right: 0;\r\n            }\r\n\r\n            input {\r\n                font-size: 1rem;\r\n                padding: 0;\r\n                margin: 0;\r\n                border: 0;\r\n                width: 100%;\r\n            }\r\n        }\r\n    }\r\n\r\n    .pagination {\r\n        padding: 0.5rem;\r\n    }\r\n`;\r\nexport default Styles;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    useTable,\r\n    usePagination,\r\n    useRowState,\r\n    useBlockLayout,\r\n    useRowSelect,\r\n} from \"react-table\";\r\n\r\nimport EditableCell from \"./EditableCell\";\r\nimport SelectableCell from \"./SelectableCell\";\r\nimport IndeterminateCheckbox from \"./IndeterminateCheckbox\";\r\nimport i18n from \"i18n/i18n\";\r\nimport DisableEditCell from \"./DisableEditCell\";\r\n\r\nconst defaultColumn = {\r\n    Cell: EditableCell,\r\n    Select: SelectableCell,\r\n    DisableCell: DisableEditCell,\r\n    width: 50,\r\n};\r\n\r\nfunction TablesSelection({\r\n    columns,\r\n    data,\r\n    updateMyData,\r\n    skipPageReset,\r\n    isPagination,\r\n    handleSelectedRow,\r\n    tongSoTinChi = 0,\r\n    isFooterSum = false\r\n}) {\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        prepareRow,\r\n        footerGroups,\r\n        rows,\r\n        state: { selectedRowIds, ...rest },\r\n    } = useTable(\r\n        {\r\n            columns,\r\n            data,\r\n            defaultColumn,\r\n            updateMyData,\r\n        },\r\n        usePagination,\r\n        useRowState,\r\n        useBlockLayout,\r\n        useRowSelect,\r\n        (hooks) => {\r\n            hooks.visibleColumns.push((columns) => [\r\n                {\r\n                    id: \"selection\",\r\n                    Header: ({ getToggleAllRowsSelectedProps }) => (\r\n                        <div>\r\n                            <IndeterminateCheckbox\r\n                                {...getToggleAllRowsSelectedProps()}\r\n                            />\r\n                        </div>\r\n                    ),\r\n                    Cell: ({ row }) => (\r\n                        <div>\r\n                            <IndeterminateCheckbox\r\n                                {...row.getToggleRowSelectedProps()}\r\n                            />\r\n                        </div>\r\n                    ),\r\n                },\r\n                ...columns,\r\n            ]);\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n        handleSelectedRow(Object.keys(selectedRowIds));\r\n    }, [Object.keys(selectedRowIds).length]);\r\n\r\n    return (\r\n        <>\r\n            <div {...getTableProps()} className=\"table\">\r\n                <div>\r\n                    {headerGroups.map((headerGroup) => (\r\n                        <div\r\n                            {...headerGroup.getHeaderGroupProps()}\r\n                            className=\"tr\"\r\n                        >\r\n                            {headerGroup.headers.map((column) => (\r\n                                <div\r\n                                    {...column.getHeaderProps()}\r\n                                    className=\"th\"\r\n                                >\r\n                                    {column.render(\"Header\")}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div {...getTableBodyProps()}>\r\n                    {rows.map((row, i) => {\r\n                        prepareRow(row);\r\n                        return (\r\n                            <div {...row.getRowProps()} className=\"tr\">\r\n                                {row.cells.map((cell) => {\r\n                                    let ComponentChild = () =>\r\n                                        cell.render(\"Cell\");\r\n                                    if (cell?.column?.disabled) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(() => (\r\n                                                <input\r\n                                                    disabled\r\n                                                    value={cell?.value}\r\n                                                />\r\n                                            ));\r\n                                    } else if (cell?.column?.isSelect) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(\"Select\", {\r\n                                                options: cell?.column?.options,\r\n                                                value: cell?.value,\r\n                                            });\r\n                                    } else if (cell?.column?.isValidate) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(\"Cell\", {\r\n                                                isValidate: true,\r\n                                            });\r\n                                    }\r\n                                    else if (cell?.column?.isDisable) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(\"DisableCell\");\r\n                                    }\r\n                                    return (\r\n                                        <div\r\n                                            {...cell.getCellProps()}\r\n                                            className=\"td\"\r\n                                        >\r\n                                            <ComponentChild />\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                    {isFooterSum && <div style={{ display: \"flex\", padding: \"5px 0\" }}>\r\n                        <div style={{ width: \"700px\", textAlign: \"right\" }}>\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.CAU_TRUC_CHUONG_TRINH.TABLE_HEADERS.CREDIT_TOTAL')}\r\n                        </div>\r\n                        <div style={{ marginLeft: \"20px\" }}>{tongSoTinChi}</div>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n            {/* <p>Selected Rows: {Object.keys(selectedRowIds).length}</p>\r\n            <pre>\r\n                <code>\r\n                    {JSON.stringify(\r\n                        {\r\n                            selectedRowIds: selectedRowIds,\r\n                        },\r\n                        null,\r\n                        2\r\n                    )}\r\n                </code>\r\n            </pre> */}\r\n            {/* {isPagination ? (\r\n                <div className=\"pagination\">\r\n                    <button\r\n                        onClick={() => gotoPage(0)}\r\n                        disabled={!canPreviousPage}\r\n                    >\r\n                        {\"<<\"}\r\n                    </button>{\" \"}\r\n                    <button\r\n                        onClick={() => previousPage()}\r\n                        disabled={!canPreviousPage}\r\n                    >\r\n                        {\"<\"}\r\n                    </button>{\" \"}\r\n                    <button onClick={() => nextPage()} disabled={!canNextPage}>\r\n                        {\">\"}\r\n                    </button>{\" \"}\r\n                    <button\r\n                        onClick={() => gotoPage(pageCount - 1)}\r\n                        disabled={!canNextPage}\r\n                    >\r\n                        {\">>\"}\r\n                    </button>{\" \"}\r\n                    <span>\r\n                        Page{\" \"}\r\n                        <strong>\r\n                            {pageIndex + 1} of {pageOptions.length}\r\n                        </strong>{\" \"}\r\n                    </span>\r\n                    <span>\r\n                        | Go to page:{\" \"}\r\n                        <input\r\n                            type=\"number\"\r\n                            defaultValue={pageIndex + 1}\r\n                            onChange={(e) => {\r\n                                const page = e.target.value\r\n                                    ? Number(e.target.value) - 1\r\n                                    : 0;\r\n                                gotoPage(page);\r\n                            }}\r\n                            style={{ width: \"100px\" }}\r\n                        />\r\n                    </span>{\" \"}\r\n                    <select\r\n                        value={pageSize}\r\n                        onChange={(e) => {\r\n                            setPageSize(Number(e.target.value));\r\n                        }}\r\n                    >\r\n                        {[10, 20, 30, 40, 50].map((pageSize) => (\r\n                            <option key={pageSize} value={pageSize}>\r\n                                Show {pageSize}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n            ) : (\r\n                \"\"\r\n            )} */}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TablesSelection;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Input } from \"reactstrap\";\r\n\r\nconst SelectableCell = ({\r\n    value: initialValue,\r\n    row: { index },\r\n    column: { id },\r\n    updateMyData,\r\n    options = [],\r\n}) => {\r\n    const [value, setValue] = useState(initialValue);\r\n\r\n    const onChange = (e) => {\r\n        setValue(e.target.value);\r\n    };\r\n\r\n    const onBlur = () => {\r\n        updateMyData(index, id, value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setValue(initialValue);\r\n    }, [initialValue]);\r\n\r\n    return (\r\n        <Input\r\n            type=\"select\"\r\n            value={value}\r\n            onChange={onChange}\r\n            onBlur={onBlur}\r\n            style={{ padding: \".375rem .2rem\" }}\r\n        >\r\n            {options.map((item) => (\r\n                <option key={item?.value} value={item?.value}>\r\n                    {item?.label}\r\n                </option>\r\n            ))}\r\n        </Input>\r\n    );\r\n};\r\n\r\nexport default SelectableCell;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nconst IndeterminateCheckbox = React.forwardRef(\r\n    ({ indeterminate, ...rest }, ref) => {\r\n        const defaultRef = React.useRef();\r\n        const resolvedRef = ref || defaultRef;\r\n\r\n        React.useEffect(() => {\r\n            resolvedRef.current.indeterminate = indeterminate;\r\n        }, [resolvedRef, indeterminate]);\r\n\r\n        return (\r\n            <>\r\n                <input type=\"checkbox\" ref={resolvedRef} {...rest} />\r\n            </>\r\n        );\r\n    }\r\n);\r\n\r\nexport default IndeterminateCheckbox;\r\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { _ as _createSuper, H as handleInputChange, a as _objectSpread2 } from '../../dist/index-4bd03571.esm.js';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport React, { Component } from 'react';\nimport { S as Select } from '../../dist/Select-dbb12e54.esm.js';\nimport { m as manageState } from '../../dist/stateManager-845a3300.esm.js';\nimport '@emotion/react';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/typeof';\nimport 'react-input-autosize';\nimport 'react-dom';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport 'memoize-one';\n\nvar defaultProps = {\n  cacheOptions: false,\n  defaultOptions: false,\n  filterOption: null,\n  isLoading: false\n};\nvar makeAsyncSelect = function makeAsyncSelect(SelectComponent) {\n  var _class, _temp;\n\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(Async, _Component);\n\n    var _super = _createSuper(Async);\n\n    function Async(props) {\n      var _this;\n\n      _classCallCheck(this, Async);\n\n      _this = _super.call(this);\n      _this.select = void 0;\n      _this.lastRequest = void 0;\n      _this.mounted = false;\n\n      _this.handleInputChange = function (newValue, actionMeta) {\n        var _this$props = _this.props,\n            cacheOptions = _this$props.cacheOptions,\n            onInputChange = _this$props.onInputChange; // TODO\n\n        var inputValue = handleInputChange(newValue, actionMeta, onInputChange);\n\n        if (!inputValue) {\n          delete _this.lastRequest;\n\n          _this.setState({\n            inputValue: '',\n            loadedInputValue: '',\n            loadedOptions: [],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n\n          return;\n        }\n\n        if (cacheOptions && _this.state.optionsCache[inputValue]) {\n          _this.setState({\n            inputValue: inputValue,\n            loadedInputValue: inputValue,\n            loadedOptions: _this.state.optionsCache[inputValue],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n        } else {\n          var request = _this.lastRequest = {};\n\n          _this.setState({\n            inputValue: inputValue,\n            isLoading: true,\n            passEmptyOptions: !_this.state.loadedInputValue\n          }, function () {\n            _this.loadOptions(inputValue, function (options) {\n              if (!_this.mounted) return;\n              if (request !== _this.lastRequest) return;\n              delete _this.lastRequest;\n\n              _this.setState(function (state) {\n                return {\n                  isLoading: false,\n                  loadedInputValue: inputValue,\n                  loadedOptions: options || [],\n                  passEmptyOptions: false,\n                  optionsCache: options ? _objectSpread2(_objectSpread2({}, state.optionsCache), {}, _defineProperty({}, inputValue, options)) : state.optionsCache\n                };\n              });\n            });\n          });\n        }\n\n        return inputValue;\n      };\n\n      _this.state = {\n        defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined,\n        inputValue: typeof props.inputValue !== 'undefined' ? props.inputValue : '',\n        isLoading: props.defaultOptions === true,\n        loadedOptions: [],\n        passEmptyOptions: false,\n        optionsCache: {},\n        prevDefaultOptions: undefined,\n        prevCacheOptions: undefined\n      };\n      return _this;\n    }\n\n    _createClass(Async, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        this.mounted = true;\n        var defaultOptions = this.props.defaultOptions;\n        var inputValue = this.state.inputValue;\n\n        if (defaultOptions === true) {\n          this.loadOptions(inputValue, function (options) {\n            if (!_this2.mounted) return;\n            var isLoading = !!_this2.lastRequest;\n\n            _this2.setState({\n              defaultOptions: options || [],\n              isLoading: isLoading\n            });\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.mounted = false;\n      }\n    }, {\n      key: \"focus\",\n      value: function focus() {\n        this.select.focus();\n      }\n    }, {\n      key: \"blur\",\n      value: function blur() {\n        this.select.blur();\n      }\n    }, {\n      key: \"loadOptions\",\n      value: function loadOptions(inputValue, callback) {\n        var loadOptions = this.props.loadOptions;\n        if (!loadOptions) return callback();\n        var loader = loadOptions(inputValue, callback);\n\n        if (loader && typeof loader.then === 'function') {\n          loader.then(callback, function () {\n            return callback();\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var _this$props2 = this.props;\n            _this$props2.loadOptions;\n            var isLoadingProp = _this$props2.isLoading,\n            props = _objectWithoutProperties(_this$props2, [\"loadOptions\", \"isLoading\"]);\n\n        var _this$state = this.state,\n            defaultOptions = _this$state.defaultOptions,\n            inputValue = _this$state.inputValue,\n            isLoading = _this$state.isLoading,\n            loadedInputValue = _this$state.loadedInputValue,\n            loadedOptions = _this$state.loadedOptions,\n            passEmptyOptions = _this$state.passEmptyOptions;\n        var options = passEmptyOptions ? [] : inputValue && loadedInputValue ? loadedOptions : defaultOptions || [];\n        return /*#__PURE__*/React.createElement(SelectComponent, _extends({}, props, {\n          ref: function ref(_ref) {\n            _this3.select = _ref;\n          },\n          options: options,\n          isLoading: isLoading || isLoadingProp,\n          onInputChange: this.handleInputChange\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var newCacheOptionsState = props.cacheOptions !== state.prevCacheOptions ? {\n          prevCacheOptions: props.cacheOptions,\n          optionsCache: {}\n        } : {};\n        var newDefaultOptionsState = props.defaultOptions !== state.prevDefaultOptions ? {\n          prevDefaultOptions: props.defaultOptions,\n          defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined\n        } : {};\n        return _objectSpread2(_objectSpread2({}, newCacheOptionsState), newDefaultOptionsState);\n      }\n    }]);\n\n    return Async;\n  }(Component), _class.defaultProps = defaultProps, _temp;\n};\nvar SelectState = manageState(Select);\nvar Async = makeAsyncSelect(SelectState);\n\nexport default Async;\nexport { defaultProps, makeAsyncSelect };\n","import React, { useEffect, useState } from \"react\";\r\nimport { Input } from \"reactstrap\";\r\nimport { validateOnlyNumber } from \"../utils\";\r\n\r\nconst DisableEditCell = ({\r\n    value: initialValue,\r\n    row: { index },\r\n    column: { id },\r\n    updateMyData, // This is a custom function that we supplied to our table instance\r\n    isValidate = false,\r\n}) => {\r\n    // We need to keep and update the state of the cell normally\r\n    const [value, setValue] = React.useState(initialValue);\r\n\r\n    React.useEffect(() => {\r\n        setValue(initialValue);\r\n    }, [initialValue]);\r\n\r\n    return <Input disabled={true} value={value} style={{background: \"snow\"}}/>;\r\n};\r\n\r\nexport default DisableEditCell;\r\n","import React from 'react';\r\n\r\nimport './StepProgressBar.css';\r\n\r\nconst StepsForm = (props) => {\r\n    \r\n    return (\r\n        <div className=\"container\" style={{maxWidth: '100%'}}>\r\n            <div className=\"multisteps-form\">\r\n                <div className=\"row\">\r\n                    <div className=\"col ml-auto mr-auto mb-2 mt-2\">\r\n                        <div className=\"multisteps-form__progress\">\r\n                        {\r\n                            props?.steps && props?.steps?.map((step, index) => {\r\n                                const activeStepProps = props?.activeStep || 0;\r\n                                const statusStep = activeStepProps >= step?.order ? 'js-active' : activeStepProps === step?.order ? 'active' : '';\r\n\r\n                                return <div className={`multisteps-form__progress-btn ${statusStep}`} key={index}>\r\n                                    <div className=\"text-center step_label\">{step?.label || ''}</div>\r\n                            </div>\r\n                            })\r\n                        }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default StepsForm ;","module.exports.LOAI_HP = [\r\n    {\r\n        value: \"BB\",\r\n        label: \"BB\",\r\n    },\r\n    {\r\n        value: \"TC\",\r\n        label: \"TC\",\r\n    },\r\n    {\r\n        value: \"TCTD\",\r\n        label: \"TCTD\",\r\n    },\r\n];\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    Button,\r\n    Modal,\r\n    ModalFooter,\r\n    ModalHeader,\r\n    ModalBody,\r\n    Label,\r\n    Input,\r\n    UncontrolledCollapse\r\n} from \"reactstrap\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport * as lodash from \"lodash\";\r\n// import Tooltip from \"@material-ui/core/Tooltip\";\r\nimport \"./ChuanDauRaList.css\";\r\nimport AsyncSelect from \"react-select/async\";\r\nimport { removeItemOnce } from \"views/admin/FlowCreateCTDT/utils\";\r\n// import educationMajorOutputStandard from \"api/common/education-major-output-standard\";\r\nimport standardOutput from \"api/common/standardOutput\";\r\n// import ConfirmModal from \"components/admin/ConfirmModal/ConfirmModal\";\r\nimport { FaEdit, FaEye, FaIndent, FaPlusCircle, FaTimesCircle } from \"react-icons/fa\";\r\nimport { checkExistInArray } from \"views/admin/FlowCreateCTDT/utils\";\r\nimport { toast } from \"react-toastify\";\r\nimport i18n from \"i18n/i18n\";\r\n\r\nconst ChuanDauRaList = (props) => {\r\n    const [data, setData] = useState(null);\r\n    const [isModeEdit, setIsModeEdit] = useState(false);\r\n    const [isOpenModalAdd, setIsOpenModalAdd] = useState(false);\r\n    const [\r\n        pathStandardOutputSelected,\r\n        setPathStandardOutputSelected,\r\n    ] = useState(\"\");\r\n    const [isCollapse, setIsCollapse] = useState(true);\r\n    // const [parentSOSelected, setParentSOSelected] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setData(props.values);\r\n    }, [props.values]);\r\n\r\n    // onChange edit value\r\n    const onHandEditItem = (e, pathObject) => {\r\n        if (!isModeEdit) {\r\n            return;\r\n        }\r\n        const value = e.target.value;\r\n        let newData = { data: [...data] };\r\n        newData = lodash.set(newData, pathObject, value);\r\n        setData([...newData.data]);\r\n        props.handleSetData([...newData.data]);\r\n    };\r\n\r\n    // store new chuan dau ra to data\r\n    const confirmHandleAddItem = async (item) => {\r\n        const isExist = await checkExistInArray(data, item?.chuanDauRa?.id);\r\n        if(isExist){\r\n            toast.error(`${i18n.t('FLOW_CREATE_CTDT_DETAIL.CHUAN_DAU_RA.CHUAN_DAU_RA_EXISTS')}`);\r\n            return;\r\n        }\r\n\r\n        let newData = { data: [...data] };\r\n        const children =\r\n            lodash.get(newData, `${pathStandardOutputSelected}`) || [];\r\n        // const lenChild = children?.length || 0;\r\n        // let maItem = \"\";\r\n        // if (parentSOSelected) {\r\n        //     maItem = `${parentSOSelected}.${lenChild + 1}`;\r\n        // } else {\r\n        //     maItem = `${lenChild + 1}`;\r\n        // }\r\n        newData = lodash.set(newData, `${pathStandardOutputSelected}`, [\r\n            ...children,\r\n            {\r\n                ...item,\r\n            },\r\n        ]);\r\n        setData([...newData.data]);\r\n        props.handleSetData([...newData.data]);\r\n        setIsOpenModalAdd(false);\r\n    };\r\n\r\n    // open modal add new chuan dau ra\r\n    const handleAddItem = (pathObject, parent = \"\") => {\r\n        setPathStandardOutputSelected(pathObject);\r\n        // setParentSOSelected(parent);\r\n        setIsOpenModalAdd(true);\r\n    };\r\n\r\n    // close modal add chuan dau ra\r\n    const handleCloseAddStandardOutput = () => {\r\n        setPathStandardOutputSelected(\"\");\r\n        // setParentSOSelected(\"\");\r\n        setIsOpenModalAdd(false);\r\n    };\r\n\r\n    // delete chuan dau ra\r\n    const handleDeleteItem = (pathParentObject, indexItem) => {\r\n        let newData = { data: [...data] };\r\n        const parent = lodash.get(newData, `${pathParentObject}`);\r\n        const newParent = removeItemOnce(\r\n            parent,\r\n            typeof indexItem === \"number\" ? indexItem : Number(indexItem)\r\n        );\r\n        newData = lodash.set(newData, `${pathParentObject}`, newParent);\r\n        setData([...newData.data]);\r\n        props.handleSetData([...newData.data]);\r\n    };\r\n\r\n    const togglerCollapse = () => {\r\n        const togglers = document.querySelectorAll('[toggler]');\r\n        for (const toggler of togglers) {\r\n            toggler.setAttribute('class', `collapse ${isCollapse ? 'show' : ''} `)\r\n        }\r\n\r\n        setIsCollapse(!isCollapse);\r\n    }\r\n\r\n    const renderSubList = (listChuanDauRa, pathFieldUpdated) => {\r\n        return listChuanDauRa.length\r\n            ? listChuanDauRa.map((chuanDauRa, chuanIndex) => {\r\n                  if (!chuanDauRa?.children) {\r\n                      return (\r\n                          <li key={`${chuanIndex}`}>\r\n                              <span>\r\n                                  {props?.disableEdit ? (\r\n                                      <Label>{`${chuanDauRa?.chuanDauRa?.ten}`}</Label>\r\n                                  ) : (\r\n                                      <Input\r\n                                          onChange={(e) =>\r\n                                              onHandEditItem(\r\n                                                  e,\r\n                                                  `${pathFieldUpdated}[${chuanIndex}].chuanDauRa.ten`\r\n                                              )\r\n                                          }\r\n                                          value={`${chuanDauRa?.chuanDauRa?.ten}`}\r\n                                      />\r\n                                  )}\r\n                                  {/* <FaRegCaretSquareUp \r\n                                    size=\"2em\" \r\n                                    style={{ marginLeft: \"10px\", cursor: \"pointer\" }}\r\n                                    /> */}\r\n                                  {isModeEdit && (\r\n                                      <>\r\n                                      \r\n                                        <FaPlusCircle \r\n                                            color=\"#10ac84\" \r\n                                            style={{ marginLeft: \"10px\", cursor: \"pointer\" }}\r\n                                            onClick={() =>\r\n                                                handleAddItem(\r\n                                                    `${pathFieldUpdated}[${chuanIndex}].children`,\r\n                                                    `${chuanDauRa.ma || \"\"}`\r\n                                                )\r\n                                            }\r\n                                            size=\"2em\"\r\n                                            />\r\n                                            <FaTimesCircle \r\n                                                size=\"2em\"\r\n                                                color=\"#ee5253\"\r\n                                                style={{ marginLeft: \"10px\", cursor: \"pointer\" }}\r\n                                                onClick={() =>\r\n                                                    handleDeleteItem(\r\n                                                        `${pathFieldUpdated}`,\r\n                                                        `${chuanIndex}`\r\n                                                    )\r\n                                                }\r\n                                            />\r\n                                          {/* <Fab\r\n                                              size=\"small\"\r\n                                              color=\"primary\"\r\n                                              style={{ marginLeft: \"10px\" }}\r\n                                              onClick={() =>\r\n                                                  handleAddItem(\r\n                                                      `${pathFieldUpdated}[${chuanIndex}].children`,\r\n                                                      `${chuanDauRa.ma || \"\"}`\r\n                                                  )\r\n                                              }\r\n                                          >\r\n                                              <AddIcon />\r\n                                          </Fab>\r\n                                          <Fab\r\n                                              size=\"small\"\r\n                                              color=\"secondary\"\r\n                                              style={{ marginLeft: \"10px\" }}\r\n                                              onClick={() =>\r\n                                                  handleDeleteItem(\r\n                                                      `${pathFieldUpdated}`,\r\n                                                      `${chuanIndex}`\r\n                                                  )\r\n                                              }\r\n                                          >\r\n                                              <DeleteIcon />\r\n                                          </Fab> */}\r\n                                      </>\r\n                                  )}\r\n                              </span>\r\n                          </li>\r\n                      );\r\n                  }\r\n                  return (\r\n                      <li  key={`${chuanIndex}`}>\r\n                          <span className=\"toggler_parent\">\r\n                              {props?.disableEdit ? (\r\n                                  <Label>{`${chuanDauRa?.chuanDauRa?.ten}`}</Label>\r\n                              ) : (\r\n                                  <Input\r\n                                      onChange={(e) =>\r\n                                          onHandEditItem(\r\n                                              e,\r\n                                              `${pathFieldUpdated}[${chuanIndex}].chuanDauRa.ten`\r\n                                          )\r\n                                      }\r\n                                      value={`${chuanDauRa?.chuanDauRa?.ten}`}\r\n                                  />\r\n                              )}\r\n                              <FaIndent \r\n                                size=\"2em\" \r\n                                style={{ marginLeft: \"15px\", cursor: \"pointer\" }}\r\n                                id={`toggler-${chuanDauRa?.chuanDauRa?.id}`}\r\n                                />\r\n                              {isModeEdit && (\r\n                                  <>\r\n                                  <FaPlusCircle \r\n                                    color=\"#10ac84\" \r\n                                    style={{ marginLeft: \"10px\", cursor: \"pointer\" }}\r\n                                    onClick={() =>\r\n                                        handleAddItem(\r\n                                            `${pathFieldUpdated}[${chuanIndex}].children`,\r\n                                            `${chuanDauRa.ma || \"\"}`\r\n                                        )\r\n                                    }\r\n                                    size=\"2em\"\r\n                                    />\r\n                                    <FaTimesCircle \r\n                                        size=\"2em\"\r\n                                        color=\"#ee5253\"\r\n                                        style={{ marginLeft: \"10px\", cursor: \"pointer\" }}\r\n                                        onClick={() =>\r\n                                            handleDeleteItem(\r\n                                                `${pathFieldUpdated}`,\r\n                                                `${chuanIndex}`\r\n                                            )\r\n                                        }\r\n                                    />\r\n                                  </>\r\n                              )}\r\n                          </span>\r\n\r\n                          <ol>\r\n                            <UncontrolledCollapse toggler={`#toggler-${chuanDauRa?.chuanDauRa?.id}`}>\r\n                              {renderSubList(\r\n                                  chuanDauRa.children,\r\n                                  `${pathFieldUpdated}[${chuanIndex}].children`\r\n                              )}\r\n                              </UncontrolledCollapse>\r\n                          </ol>\r\n                      </li>\r\n                  );\r\n              })\r\n            : \"\";\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"chuandaura_top_btn\">\r\n                <Button color=\"info\" onClick={() => setIsModeEdit(!isModeEdit)}>\r\n                    {isModeEdit\r\n                        ? <FaEye />\r\n                        : <FaEdit />}\r\n                </Button>\r\n                {/* <Button color=\"warning\" onClick={props.handleSave}>\r\n                    Lưu Tất Cả\r\n                </Button> */}\r\n                <Button color=\"success\" onClick={props.handleSubmit}>\r\n                    {i18n.t('FLOW_CREATE_CTDT_DETAIL.SAVE_&_SUBMIT')}\r\n                </Button>\r\n                <Button onClick={togglerCollapse}>\r\n                    {i18n.t('FLOW_CREATE_CTDT_DETAIL.CHUAN_DAU_RA.SHOW_HIDDEN_BTN')}\r\n                </Button>\r\n            </div>\r\n            <div className=\"chuandaura_content\">\r\n                {data && <ol>{renderSubList(data, \"data\")}</ol>}\r\n            </div>\r\n            {isModeEdit && (\r\n                <div>\r\n                    <FaPlusCircle \r\n                        color=\"#10ac84\" \r\n                        style={{ marginLeft: \"10px\", cursor: \"pointer\" }}\r\n                        onClick={() => handleAddItem(\"data\")}\r\n                        size=\"2em\"\r\n                    />\r\n                    {/* <Fab\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                        style={{ marginLeft: \"10px\" }}\r\n                        onClick={() => handleAddItem(\"data\")}\r\n                    >\r\n                        <AddIcon />\r\n                    </Fab> */}\r\n                </div>\r\n            )}\r\n            <ModalAddNewOutputStandard\r\n                modal={isOpenModalAdd}\r\n                toggle={() => setIsOpenModalAdd(!isOpenModalAdd)}\r\n                headerTitle={\"\"}\r\n                options={props.optionsDefaultOutputStandard}\r\n                handleOkButtonOnClick={confirmHandleAddItem}\r\n                handleCancelButtonOnClick={handleCloseAddStandardOutput}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChuanDauRaList;\r\n\r\nconst ModalAddNewOutputStandard = (props) => {\r\n    const [optionSelected, setOptionSelected] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setOptionSelected(null);\r\n    }, []);\r\n\r\n    const onChange = (selected) => {\r\n        setOptionSelected(selected);\r\n    };\r\n\r\n    const loadOptions = async (inputValue, callback) => {\r\n        const results = await standardOutput.getAll({\r\n            search: inputValue,\r\n        });\r\n        let formatResults = [];\r\n        if (results?.contents) {\r\n            formatResults = results?.contents?.map((item) => {\r\n                return {\r\n                    label: `${item?.ten}` || \"\",\r\n                    value: item?.id,\r\n                    data: item,\r\n                };\r\n            });\r\n        }\r\n        callback(formatResults);\r\n    };\r\n\r\n    const handleOK = () => {\r\n        if (optionSelected?.data) {\r\n            const formatData = { ma: \"\", chuanDauRa: optionSelected.data };\r\n            props.handleOkButtonOnClick(formatData);\r\n            setOptionSelected(null);\r\n        }\r\n        props.toggle();\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setOptionSelected(null);\r\n        props.handleCancelButtonOnClick();\r\n    };\r\n\r\n    const { t } = useTranslation();\r\n\r\n    return (\r\n        <Modal isOpen={props.modal} toggle={props.toggle}>\r\n            <ModalHeader>{props.headerTitle}</ModalHeader>\r\n            <ModalBody>\r\n                <div>\r\n                    <Label>{i18n.t('FLOW_CREATE_CTDT_DETAIL.CHUAN_DAU_RA.CHUAN_DAU_RA_TITLE')}</Label>\r\n                    <AsyncSelect\r\n                        cacheOptions\r\n                        defaultOptions={props.options}\r\n                        loadOptions={loadOptions}\r\n                        onChange={onChange}\r\n                        // value={props.value}\r\n                        // onInputChange={(newValue) => setSearch(newValue)}\r\n                    />\r\n                </div>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Button color={`primary`} onClick={handleOK}>\r\n                    {t(props.titleOk || \"admin.common.OK\")}\r\n                </Button>\r\n                <Button color=\"warning\" onClick={handleCancel}>\r\n                    {t(props.titleCancel || \"admin.common.CANCEL\")}\r\n                </Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n    );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Input } from \"reactstrap\";\r\n\r\nconst SelectableCell = ({\r\n    value: initialValue,\r\n    row: { index },\r\n    column: { id },\r\n    updateMyData,\r\n    options = [],\r\n}) => {\r\n    const [value, setValue] = useState(initialValue);\r\n\r\n    const onChange = (e) => {\r\n        setValue(e.target.value);\r\n    };\r\n\r\n    const onBlur = () => {\r\n        updateMyData(index, id, value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setValue(initialValue);\r\n    }, [initialValue]);\r\n\r\n    return (\r\n        <>\r\n        <Input\r\n            type=\"text\"\r\n            value={value}\r\n            onChange={onChange}\r\n            onBlur={onBlur}\r\n            style={{ padding: \".375rem .2rem\" }}\r\n            list={`row-${index}-column${id}`}\r\n        />\r\n        <datalist id={`row-${index}-column${id}`}>\r\n            {options.map((item) => (\r\n                <option key={item?.value} value={item?.value}>\r\n                        {item?.label}\r\n                </option>\r\n            ))}\r\n        </datalist>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SelectableCell;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    useTable,\r\n    usePagination,\r\n    useRowState,\r\n    useBlockLayout,\r\n    useRowSelect,\r\n} from \"react-table\";\r\n\r\nimport EditableCell from \"./EditableCell\";\r\nimport SelectableCell from \"./SelectableCell\";\r\nimport InputSelect from './InputSelection';\r\nimport IndeterminateCheckbox from \"./IndeterminateCheckbox\";\r\nimport i18n from \"i18n/i18n\";\r\n\r\nconst defaultColumn = {\r\n    Cell: EditableCell,\r\n    Select: SelectableCell,\r\n    InputSelect: InputSelect,\r\n    width: 50,\r\n};\r\n\r\nfunction TablesInputSelection({\r\n    columns,\r\n    data,\r\n    updateMyData,\r\n    skipPageReset,\r\n    isPagination,\r\n    handleSelectedRow,\r\n    tongSoTinChi = 0,\r\n    isFooterSum = false\r\n}) {\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        prepareRow,\r\n        footerGroups,\r\n        rows,\r\n        state: { selectedRowIds, ...rest },\r\n    } = useTable(\r\n        {\r\n            columns,\r\n            data,\r\n            defaultColumn,\r\n            updateMyData,\r\n        },\r\n        usePagination,\r\n        useRowState,\r\n        useBlockLayout,\r\n        useRowSelect,\r\n        (hooks) => {\r\n            hooks.visibleColumns.push((columns) => [\r\n                {\r\n                    id: \"selection\",\r\n                    Header: ({ getToggleAllRowsSelectedProps }) => (\r\n                        <div>\r\n                            <IndeterminateCheckbox\r\n                                {...getToggleAllRowsSelectedProps()}\r\n                            />\r\n                        </div>\r\n                    ),\r\n                    Cell: ({ row }) => (\r\n                        <div>\r\n                            <IndeterminateCheckbox\r\n                                {...row.getToggleRowSelectedProps()}\r\n                            />\r\n                        </div>\r\n                    ),\r\n                },\r\n                ...columns,\r\n            ]);\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n        handleSelectedRow(Object.keys(selectedRowIds));\r\n    }, [Object.keys(selectedRowIds).length]);\r\n\r\n    return (\r\n        <>\r\n            <div {...getTableProps()} className=\"table\">\r\n                <div>\r\n                    {headerGroups.map((headerGroup) => (\r\n                        <div\r\n                            {...headerGroup.getHeaderGroupProps()}\r\n                            className=\"tr\"\r\n                        >\r\n                            {headerGroup.headers.map((column) => (\r\n                                <div\r\n                                    {...column.getHeaderProps()}\r\n                                    className=\"th\"\r\n                                >\r\n                                    {column.render(\"Header\")}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div {...getTableBodyProps()}>\r\n                    {rows.map((row, i) => {\r\n                        prepareRow(row);\r\n                        return (\r\n                            <div {...row.getRowProps()} className=\"tr\">\r\n                                {row.cells.map((cell) => {\r\n                                    let ComponentChild = () =>\r\n                                        cell.render(\"Cell\");\r\n                                    if (cell?.column?.disabled) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(() => (\r\n                                                <input\r\n                                                    disabled\r\n                                                    value={cell?.value}\r\n                                                />\r\n                                            ));\r\n                                    } else if (cell?.column?.isSelect) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(\"Select\", {\r\n                                                options: cell?.column?.options,\r\n                                                value: cell?.value,\r\n                                            });\r\n                                    } else if (cell?.column?.isValidate) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(\"Cell\", {\r\n                                                isValidate: true,\r\n                                            });\r\n                                    }\r\n                                    else if (cell?.column?.isInputSelect) {\r\n                                        ComponentChild = () =>\r\n                                            cell.render(\"InputSelect\", {\r\n                                                options: cell?.column?.options,\r\n                                                value: cell?.value,\r\n                                            });\r\n                                    }\r\n                                    return (\r\n                                        <div\r\n                                            {...cell.getCellProps()}\r\n                                            className=\"td\"\r\n                                        >\r\n                                            <ComponentChild />\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                    {isFooterSum && <div style={{ display: \"flex\", padding: \"5px 0\" }}>\r\n                        <div style={{ width: \"700px\", textAlign: \"right\" }}>\r\n                            {i18n.t('FLOW_CREATE_CTDT_DETAIL.CAU_TRUC_CHUONG_TRINH.TABLE_HEADERS.CREDIT_TOTAL')}\r\n                        </div>\r\n                        <div style={{ marginLeft: \"20px\" }}>{tongSoTinChi}</div>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n            {/* <p>Selected Rows: {Object.keys(selectedRowIds).length}</p>\r\n            <pre>\r\n                <code>\r\n                    {JSON.stringify(\r\n                        {\r\n                            selectedRowIds: selectedRowIds,\r\n                        },\r\n                        null,\r\n                        2\r\n                    )}\r\n                </code>\r\n            </pre> */}\r\n            {/* {isPagination ? (\r\n                <div className=\"pagination\">\r\n                    <button\r\n                        onClick={() => gotoPage(0)}\r\n                        disabled={!canPreviousPage}\r\n                    >\r\n                        {\"<<\"}\r\n                    </button>{\" \"}\r\n                    <button\r\n                        onClick={() => previousPage()}\r\n                        disabled={!canPreviousPage}\r\n                    >\r\n                        {\"<\"}\r\n                    </button>{\" \"}\r\n                    <button onClick={() => nextPage()} disabled={!canNextPage}>\r\n                        {\">\"}\r\n                    </button>{\" \"}\r\n                    <button\r\n                        onClick={() => gotoPage(pageCount - 1)}\r\n                        disabled={!canNextPage}\r\n                    >\r\n                        {\">>\"}\r\n                    </button>{\" \"}\r\n                    <span>\r\n                        Page{\" \"}\r\n                        <strong>\r\n                            {pageIndex + 1} of {pageOptions.length}\r\n                        </strong>{\" \"}\r\n                    </span>\r\n                    <span>\r\n                        | Go to page:{\" \"}\r\n                        <input\r\n                            type=\"number\"\r\n                            defaultValue={pageIndex + 1}\r\n                            onChange={(e) => {\r\n                                const page = e.target.value\r\n                                    ? Number(e.target.value) - 1\r\n                                    : 0;\r\n                                gotoPage(page);\r\n                            }}\r\n                            style={{ width: \"100px\" }}\r\n                        />\r\n                    </span>{\" \"}\r\n                    <select\r\n                        value={pageSize}\r\n                        onChange={(e) => {\r\n                            setPageSize(Number(e.target.value));\r\n                        }}\r\n                    >\r\n                        {[10, 20, 30, 40, 50].map((pageSize) => (\r\n                            <option key={pageSize} value={pageSize}>\r\n                                Show {pageSize}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n            ) : (\r\n                \"\"\r\n            )} */}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TablesInputSelection;\r\n"],"sourceRoot":""}